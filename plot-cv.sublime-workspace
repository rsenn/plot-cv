{
	"auto_complete":
	{
		"selected_items":
		[
			[
				"Asyn",
				"AsyncIterator"
			],
			[
				"ret",
				"return_flag"
			],
			[
				"ImportID",
				"ImportIdMap"
			],
			[
				"Num",
				"NumericRange"
			],
			[
				"define",
				"defineProperty(...)"
			],
			[
				"dbuf_",
				"dbuf_init2"
			],
			[
				"getOwn",
				"getOwnPropertyNames(...)"
			],
			[
				"has_",
				"has_dot_or_slash"
			],
			[
				"My",
				"MySQLResult"
			],
			[
				"JS_ToCS",
				"JS_ToCStringLen"
			],
			[
				"CF",
				"CFunctionClosureRecord"
			],
			[
				"js_",
				"js_mysqlresult_class_id"
			],
			[
				"extendA",
				"extendAsyncGenerator"
			],
			[
				"JS_SetPr",
				"JS_SetPropertyStr"
			],
			[
				"MYSQL_TYPE_NEW",
				"MYSQL_TYPE_NEWDECIMAL"
			],
			[
				"JS_Set",
				"JS_SetPropertyUint32"
			],
			[
				"JS_CF",
				"JS_CFUNC_MAGIC_DEF"
			],
			[
				"js_mysqlresult_fun",
				"js_mysqlresult_functions"
			],
			[
				"JS_ToCSt",
				"JS_ToCStringLen"
			],
			[
				"js_mysql_f",
				"js_mysql_functions"
			],
			[
				"MARIA",
				"MARIADBCLIENT_LIBRARY"
			],
			[
				"depe",
				"dependencyMap"
			],
			[
				"depden",
				"dependencyTree"
			],
			[
				"add_",
				"add_dependencies"
			],
			[
				"ch",
				"chunks_written"
			],
			[
				"defineP",
				"defineProperties(...)"
			],
			[
				"CMAKE_CURR",
				"CMAKE_CURRENT_BINARY_DIR"
			],
			[
				"gener",
				"generate_module_header"
			],
			[
				"RINGBUFFER_C",
				"RINGBUFFER_CONSUMERANGE"
			],
			[
				"RINGBUFFER_CONSU",
				"RINGBUFFER_CONSUMERANGE"
			],
			[
				"JS_NewArra",
				"JS_NewArrayBufferCopy"
			],
			[
				"RINGBU",
				"RINGBUFFER_INSERT"
			],
			[
				"hea",
				"headers_sent"
			],
			[
				"PR",
				"PRIi64"
			],
			[
				"db",
				"dbuf_init2"
			],
			[
				"JS_Get",
				"JS_GetProperty"
			],
			[
				"Ret",
				"ReturnValuePathFunction"
			],
			[
				"cFunc",
				"cFuncListObjects"
			],
			[
				"isC",
				"isCFuncCall"
			],
			[
				"En",
				"EntityNames"
			],
			[
				"parseFrom",
				"parseFromString"
			],
			[
				"pseu",
				"pseudoClassArg"
			],
			[
				"pseudoC",
				"pseudoClassName"
			],
			[
				"Key",
				"KeyboardEvent"
			],
			[
				"getOp",
				"getOptionEntries"
			],
			[
				"setProp",
				"setPropertyValue"
			],
			[
				"parse",
				"parseSelectors"
			],
			[
				"jsm_buil",
				"jsm_builtin_init"
			],
			[
				"JS_Free",
				"JS_FreeCString"
			],
			[
				"JS_New",
				"JS_NewObject"
			],
			[
				"ide",
				"importIdentifiers"
			],
			[
				"iden",
				"importIdentifiers"
			],
			[
				"import",
				"importIdentifiers"
			],
			[
				"ident",
				"identifierSets"
			],
			[
				"path_is",
				"path_is_absolute"
			],
			[
				"js_is_",
				"js_is_null_or_undefined"
			],
			[
				"path_skip_se",
				"path_skip_separator_s"
			],
			[
				"WRITABLE_METHO",
				"WRITABLE_METHOD_CLOSE"
			],
			[
				"list_fo",
				"list_for_each_prev"
			],
			[
				"JS_Th",
				"JS_ThrowOutOfMemory"
			],
			[
				"JS_",
				"JS_ThrowOutOfMemory"
			],
			[
				"underly",
				"underlying_source"
			],
			[
				"Tok",
				"TokenSequence"
			],
			[
				"JS_GetPr",
				"JS_GetPropertyStr"
			],
			[
				"JS_Thro",
				"JS_ThrowOutOfMemory"
			],
			[
				"getAt",
				"getAttributeNames"
			],
			[
				"self",
				"self_closing_tags"
			],
			[
				"self_",
				"self_closing_tags"
			],
			[
				"JS_PROP",
				"JS_PROP_ENUMERABLE"
			],
			[
				"de",
				"dependencyMap"
			],
			[
				"dep",
				"dependencyMap"
			],
			[
				"js_is_null",
				"js_is_null_or_undefined"
			],
			[
				"JS_P",
				"JS_PROP_ENUMERABLE"
			],
			[
				"JS_SetP",
				"JS_SetPropertyUint32"
			],
			[
				"spec",
				"specifiers"
			],
			[
				"token_r",
				"token_release_rt"
			],
			[
				"JS_Thr",
				"JS_ThrowTypeError"
			],
			[
				"debug_js_mall",
				"debug_js_malloc_usable_size"
			],
			[
				"repl",
				"replaceRange"
			],
			[
				"js_malloc_u",
				"js_malloc_usable_size_rt"
			],
			[
				"malloc",
				"malloc_usable_size"
			],
			[
				"all",
				"alloc_block_list"
			],
			[
				"alloc",
				"alloc_block_list"
			],
			[
				"path_skip",
				"path_skip_component"
			],
			[
				"jsm_mo",
				"jsm_module_loader"
			],
			[
				"JS_Throw",
				"JS_ThrowInternalError"
			],
			[
				"JS_AtomTo",
				"JS_AtomToValue"
			],
			[
				"inspect",
				"inspectSymbol"
			],
			[
				"at",
				"attributes"
			],
			[
				"parent",
				"parentElement"
			],
			[
				"owner",
				"ownerElement"
			],
			[
				"get",
				"getPrototypeOf"
			],
			[
				"child",
				"childElementCount"
			],
			[
				"getO",
				"getOwnPropertyNames"
			],
			[
				"js_misc_im",
				"js_misc_immutable_constructor"
			],
			[
				"obj",
				"object_tostring"
			],
			[
				"js_misc_immu",
				"js_misc_immutable_free"
			],
			[
				"js_misc_imm",
				"js_misc_immutable_constructor"
			],
			[
				"CMAKE_IMPORT",
				"CMAKE_IMPORT_LIBRARY_SUFFIX"
			],
			[
				"CMAKE_CUR",
				"CMAKE_CURRENT_BINARY_DIR"
			],
			[
				"js_is",
				"js_is_null_or_undefined"
			],
			[
				"js_asy",
				"js_async_socket_class_id"
			],
			[
				"JS_NewObj",
				"JS_NewObjectProtoClass"
			],
			[
				"async_",
				"async_socket_proto"
			],
			[
				"js_socket_class",
				"js_socket_class_id"
			],
			[
				"g",
				"getOwnPropertyNames(...)"
			],
			[
				"js_sockaddr_cl",
				"js_sockaddr_class_id"
			],
			[
				"js_so",
				"js_sockaddr_constructor"
			],
			[
				"js_sys",
				"js_syscallerror_class_id"
			],
			[
				"js_string",
				"js_stringdecoder_class_id"
			],
			[
				"js_pred",
				"js_predicate_class_id"
			],
			[
				"js_syn",
				"js_syntaxerror_class"
			],
			[
				"js_child",
				"js_child_process_class_id"
			],
			[
				"js_b",
				"js_blob_class_id"
			],
			[
				"js_loca",
				"js_location_class_id"
			],
			[
				"js_token_in",
				"js_token_inspect_funcs"
			],
			[
				"set",
				"setReadHandler"
			],
			[
				"js_get_",
				"js_get_propertystr_bool"
			],
			[
				"js_misc_ate",
				"js_misc_atexit_functions"
			],
			[
				"isF",
				"isFunction"
			],
			[
				"tab",
				"tab_atom_len"
			],
			[
				"isARr",
				"isArrayBuffer"
			],
			[
				"BIT",
				"BITFIELD_FROMARRAY"
			],
			[
				"to",
				"toStringTag"
			],
			[
				"inotify",
				"inotify_add_watch"
			],
			[
				"JS_SetProp",
				"JS_SetPropertyUint32"
			],
			[
				"JS_GEt",
				"JS_GetGlobalObject"
			],
			[
				"dbuf_put",
				"dbuf_put_colorstr"
			]
		]
	},
	"buffers":
	[
		{
			"file": "upload-server.js",
			"settings":
			{
				"buffer_size": 34489,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					1,
					1,
					"revert",
					null,
					"BgAAAAAAAAAAAAAAAAAAAAAAAADzZwAAaW1wb3J0ICogYXMgc3RkIGZyb20gJ3N0ZCc7IGltcG9ydCAqIGFzIG9zIGZyb20gJ29zJzsgaW1wb3J0ICogYXMgZGVlcCBmcm9tICcuL2xpYi9kZWVwLmpzJzsgaW1wb3J0ICogYXMgeG1sIGZyb20gJ3htbCc7IGltcG9ydCAqIGFzIHBhdGggZnJvbSAncGF0aCc7IGltcG9ydCB7IENvbnNvbGUgfSBmcm9tICdjb25zb2xlJzsgaW1wb3J0IHsgRGlyZWN0b3J5LCBCT1RILCBUWVBFX0RJUiwgVFlQRV9MTkssIFRZUEVfUkVHLCBUWVBFX01BU0sgfSBmcm9tICdkaXJlY3RvcnknOyBpbXBvcnQgUkVQTCBmcm9tICcuL3F1aWNranMvcWpzLW1vZHVsZXMvbGliL3JlcGwuanMnOyBpbXBvcnQgaW5zcGVjdCBmcm9tICcuL2xpYi9vYmplY3RJbnNwZWN0LmpzJzsgaW1wb3J0ICogYXMgVGVybWluYWwgZnJvbSAnLi90ZXJtaW5hbC5qcyc7IGltcG9ydCAqIGFzIGZzIGZyb20gJ2ZzJzsgaW1wb3J0IHsgbGluaywgdW5saW5rLCBlcnJvciwgZm5tYXRjaCwgRk5NX0VYVE1BVENIIH0gZnJvbSAnbWlzYyc7IGltcG9ydCB7IHRvU3RyaW5nLCBkZWZpbmUsIHRvVW5peFRpbWUsIGdldE9wdCwgcmFuZFN0ciwgaXNPYmplY3QsIGlzTnVtZXJpYywgaXNBcnJheUJ1ZmZlciwgZ2xvYiwgR0xPQl9CUkFDRSwgd2FpdEZvciB9IGZyb20gJ3V0aWwnOyBpbXBvcnQgeyBzZXRMb2csIExMTF9VU0VSLCBMTExfTk9USUNFLCBMTExfV0FSTiwgTExMX0lORk8sIGNsaWVudCwgc2VydmVyLCBGb3JtUGFyc2VyLCBIYXNoLCBSZXNwb25zZSwgU29ja2V0IH0gZnJvbSAnbmV0JzsgaW1wb3J0IHsgcGFyc2VEYXRlLCBkYXRlVG9PYmplY3QgfSBmcm9tICcuL2RhdGUtaGVscGVycy5qcyc7IGltcG9ydCB7IElmRGVidWcsIExvZ0lmRGVidWcsIFJlYWRGaWxlLCBMb2FkSGlzdG9yeSwgUmVhZEpTT04sIFJlYWRYTUwsIE1hcEZpbGUsIFdyaXRlRmlsZSwgV3JpdGVKU09OLCBXcml0ZVhNTCwgUmVhZEJKU09OLCBXcml0ZUJKU09OLCBGaWx0ZXIsIEZpbHRlckltYWdlcywgU29ydEZpbGVzLCBTdGF0RmlsZXMsIFJlYWRGZCwgRmRSZWFkZXIsIENvcHlUb0NsaXBib2FyZCwgUmVhZENhbGxiYWNrLCBMb2dDYWxsLCBTcGF3biwgRmV0Y2hVUkwgfSBmcm9tICcuL2lvLWhlbHBlcnMuanMnOyBpbXBvcnQgeyBwYXJzZURlZ01pblNlYywgcGFyc2VHUFNMb2NhdGlvbiB9IGZyb20gJy4vc3RyaW5nLWhlbHBlcnMuanMnOyBpbXBvcnQgeyBoLCBodG1sLCByZW5kZXIsIENvbXBvbmVudCwgdXNlU3RhdGUsIHVzZUxheW91dEVmZmVjdCwgdXNlUmVmIH0gZnJvbSAnLi9saWIvcHJlYWN0Lm1qcyc7IGltcG9ydCByZW5kZXJUb1N0cmluZyBmcm9tICcuL2xpYi9wcmVhY3QtcmVuZGVyLXRvLXN0cmluZy5qcyc7IGltcG9ydCB7IGV4ZWMsIHNwYXduIH0gZnJvbSAnY2hpbGRfcHJvY2Vzcyc7CmltcG9ydCB7IEV4ZWN1dGUgfSBmcm9tICcuL29zLWhlbHBlcnMuanMnOyBpbXBvcnQgdHJrbCBmcm9tICcuL2xpYi90cmtsLmpzJzsgaW1wb3J0IHsgdGFrZSB9IGZyb20gJy4vbGliL2l0ZXJhdG9yL2hlbHBlcnMuanMnOyBpbXBvcnQgeyBleHRlbmRBcnJheSwgZXh0ZW5kR2VuZXJhdG9yLCBleHRlbmRBc3luY0dlbmVyYXRvciB9IGZyb20gJ3V0aWwnOyBpbXBvcnQgeyBSZWN1cnNpdmVEaXJJdGVyYXRvciB9IGZyb20gJy4vZGlyLWhlbHBlcnMuanMnOyBleHRlbmRBcnJheSgpOyBleHRlbmRHZW5lcmF0b3IoKTsgZXh0ZW5kR2VuZXJhdG9yKE9iamVjdC5nZXRQcm90b3R5cGVPZihuZXcgTWFwKCkua2V5cygpKSk7IGV4dGVuZEdlbmVyYXRvcihPYmplY3QuZ2V0UHJvdG90eXBlT2YobmV3IERpcmVjdG9yeSgnLicpKSk7IGV4dGVuZEFzeW5jR2VuZXJhdG9yKCk7IGdsb2JhbFRoaXMuZnMgPSBmczsgZ2xvYmFsVGhpcy5sb2dGaWx0ZXIgPSAvKHdzX3NldF90aW1lb3V0OiBvbiBpbW1vcnRhbCBzdHJlYW18VW5oYW5kbGVkfFBST1hZLXxWSE9TVF9DRVJUX0FHSU5HfEJJTkR8RVZFTlRfV0FJVHxXUklUQUJMRSkvOwp0cmtsLnByb3BlcnR5KGdsb2JhbFRoaXMsICdsb2dMZXZlbCcpLnN1YnNjcmliZSh2YWx1ZSA9PiBzZXRMb2codmFsdWUsIChsZXZlbCwgbWVzc2FnZSkgPT4gewppZigvX19sd3N8c2VydmVfKHJlc29sdmVkfGdlbmVyYXRvcnxwcm9taXNlfHJlc3BvbnNlKXxYWGJsKFwoWzEyM11cKS4qd3JpdGFibGV8eFwoWy9dXCkuKldSSVRFQUJMRSl8bHdzXy8udGVzdChtZXNzYWdlKSkgcmV0dXJuOyBpZihsZXZlbCA9PSBMTExfSU5GTyAmJiAhL3Byb3h5Ly50ZXN0KG1lc3NhZ2UpKSByZXR1cm47CmlmKGxvZ0ZpbHRlci50ZXN0KG1lc3NhZ2UpKSByZXR1cm47IC8vaWYocGFyYW1zLmRlYnVnIHx8IGxldmVsIDw9IExMTF9XQVJOKSBvdXQoIChbJ0VSUicsICdXQVJOJywgJ05PVElDRScsICdJTkZPJywgJ0RFQlVHJywgJ1BBUlNFUicsICdIRUFERVInLCAnRVhUJywgJ0NMSUVOVCcsICdMQVRFTkNZJywgJ01JTk5FVCcsCidUSFJFQUQnXVtNYXRoLmxvZzIobGV2ZWwpXSA/PyBsZXZlbCArICcnKS5wYWRFbmQoOCkgKyBtZXNzYWdlLnJlcGxhY2UoL1xuL2csICdcXG4nKS5yZXBsYWNlKC9cci9nLCAnXFxyJykgKTsgfSkgKTsgYXN5bmMgZnVuY3Rpb24gQXN5bmNDb2xsZWN0KGl0ZXIpIHsgbGV0IHJldCA9IFtdOyBmb3IgYXdhaXQobGV0IGNodW5rIG9mIGF3YWl0IGl0ZXIpCnJldC5wdXNoKGNodW5rKTsgcmV0dXJuIHJldDsgfSBmdW5jdGlvbiBFeGVjVG9vbChjbWQsIC4uLmFyZ3MpIHsgbGV0IGNoaWxkID0gc3Bhd24oY21kLCBhcmdzLCB7IHN0ZGlvOiBbMCwgJ3BpcGUnLCAyXSB9KTsgbGV0IFtzdGRpbiwgc3Rkb3V0LCBzdGRlcnJdID0gY2hpbGQuc3RkaW87IGxldCByOyBsZXQgYiA9IG5ldwpBcnJheUJ1ZmZlcigxMDI0KTsgciA9IGNoaWxkLndhaXQoKTsgLy8gY29uc29sZS5sb2coJ0V4ZWNUb29sJywgeyBhcmdzLCBjaGlsZCB9KTsgciA9IG9zLnJlYWQoc3Rkb3V0LCBiLCAwLCAxMDI0KTsgbGV0IGRhdGEgPSBiLnNsaWNlKDAsIHIpOyBsZXQgc3RyID0gdG9TdHJpbmcoZGF0YSk7IHJldHVybiBzdHI7IH0gZnVuY3Rpb24KR2V0TWltZShmaWxlKSB7IGxldCBvdXRwdXQgPSBFeGVjVG9vbCgnZmlsZScsICctaScsIGZpbGUpOyBvdXRwdXQgPSBvdXRwdXQucmVwbGFjZSgvW1xyXG5dKiQvZywgJycpOyBvdXRwdXQgPSBvdXRwdXQucmVwbGFjZShuZXcgUmVnRXhwKGZpbGUgKyAnOlxccysnKSwgJycpOyBvdXRwdXQgPSBvdXRwdXQucmVwbGFjZSgvXDtccyouKi9nLCAnJyk7CnJldHVybiBvdXRwdXQ7IH0gZnVuY3Rpb24gTWF0Y2hlcihwYXR0ZXJuLCB0ID0gYXJnID0+IGFyZykgeyByZXR1cm4gKC4uLmFyZ3MpID0+IHBhdHRlcm4gPT0gdCguLi5hcmdzKSB8fCAwID09IGZubWF0Y2gocGF0dGVybiwgdCguLi5hcmdzKSwgRk5NX0VYVE1BVENIKTsgfSBmdW5jdGlvbiBLZXlPclZhbHVlTWF0Y2hlcihwYXR0ZXJuKSB7IGxldAptYXRjaGVyID0gTWF0Y2hlcihwYXR0ZXJuKTsgcmV0dXJuIChba2V5LCB2YWx1ZV0pID0+IG1hdGNoZXIoa2V5KSB8fCBtYXRjaGVyKHZhbHVlKTsgfSBmdW5jdGlvbiBHZXRSb290RGlyZWN0b3JpZXMocGF0dGVybiA9ICcqJykgeyByZXR1cm4gYWxsb3dlZERpcnMua2V5cygpLmZpbHRlcihNYXRjaGVyKHBhdHRlcm4pKTsgfSBjb25zdCBNYWtlVVVJRAo9IChybmcgPSBNYXRoLnJhbmRvbSkgPT4gWzgsIDQsIDQsIDQsIDEyXS5tYXAobiA9PiByYW5kU3RyKG4sICcwMTIzNDU2Nzg5YWJjZGVmJyksIHJuZykuam9pbignLScpOyBjb25zdCBkZWZhdWx0RGlycyA9IChnbG9iYWxUaGlzLmRlZmF1bHREaXJzID0gWyAnLicsIC4uLmdsb2IoJy4uLyovZWFnbGUnKSwKJy4vdXBsb2Fkcy8qLntzY2gsYnJkLGxicn0nLCAnL21udC9leHRleHQvUGhvdG9zLypBUFBMRS8qLntKUEcsUE5HLEdJRixBQUUsTU9WLEhFSUMsTVA0LFdFQlB9JywgWycvaG9tZS9yb21hbi9CaWxkZXInLCBuZXcgUmVnRXhwKCcuKGpwZ3xqcGVnfHBuZ3xoZWljfHRpZnx0aWZmKSQnLCAnaScpXSBdKTsgY29uc3QgYWxsb3dlZERpcnMgPQooZ2xvYmFsVGhpcy5hbGxvd2VkRGlycyA9IG5ldyBNYXAoIGRlZmF1bHREaXJzIC5tYXAoZGQgPT4gR2V0RGlyKEFycmF5LmlzQXJyYXkoZGQpID8gZGRbMF0gOiBkZCkpIC5tYXAoZCA9PiBwYXRoLnJlc29sdmUoZCkpIC5tYXAoZCA9PiBwYXRoLnJlbGF0aXZlKGQpKSAubWFwKGQgPT4gW0Rpck5hbWUoZCksIGRdKSApKTsgZnVuY3Rpb24KR2V0RGlyKGRpcikgeyBsZXQgYSA9IHBhdGgudG9BcnJheShkaXIpOyBsZXQgaSA9IGEuZmluZEluZGV4KG4gPT4gL1sqe31dLy50ZXN0KG4pKTsgcmV0dXJuIGkgIT0gLTEgPyBwYXRoLnNsaWNlKGRpciwgMCwgaSkgOiBkaXI7IH0gZnVuY3Rpb24gRGlyTmFtZShuYW1lKSB7IGxldCBwID0gcGF0aC5yZWxhdGl2ZShuYW1lKTsgcCA9CnBhdGguc2xpY2UoIHAsIHBhdGgudG9BcnJheShwKS5maW5kSW5kZXgoaXQgPT4gaXQgIT0gJy4uJykgKTsgcmV0dXJuIHA7IH0gZnVuY3Rpb24gRGF0ZVN0cihkYXRlKSB7IGxldCBzdHIgPSBkYXRlLnRvSVNPU3RyaW5nKCk7IGxldCB0aSA9IHN0ci5pbmRleE9mKCdUJyk7IHJldHVybiAoIHN0ci5zdWJzdHJpbmcoMCwgdGkpCi8qLnJlcGxhY2UoLy0vZywgJycpKi8gKyAnICcgKyBzdHIuc3Vic3RyaW5nKHRpICsgMSwgdGkgKyAxICsgOCkgLy8ucmVwbGFjZSgvOi9nLCAnJykgKTsgfSBmdW5jdGlvbiBNb2RlU3RyKG1vZGUpIHsgcmV0dXJuICggKG1vZGUgJiAoMG8xMjAwMDAgPT0gMG8xMjAwMDApID8gJ2wnIDogbW9kZSAmIDBvNDAwMDAgPyAnZCcgOiAnLScpICsgKG1vZGUKJiAwYjEwMDAwMDAwMCA/ICdyJyA6ICctJykgKyAobW9kZSAmIDBiMDEwMDAwMDAwID8gJ3cnIDogJy0nKSArIChtb2RlICYgMGIwMDEwMDAwMDAgPyAneCcgOiAnLScpICsgKG1vZGUgJiAwYjEwMDAwMCA/ICdyJyA6ICctJykgKyAobW9kZSAmIDBiMDEwMDAwID8gJ3cnIDogJy0nKSArIChtb2RlICYgMGIwMDEwMDAgPyAneCcgOiAnLScpICsgKG1vZGUKJiAwYjEwMCA/ICdyJyA6ICctJykgKyAobW9kZSAmIDBiMDEwID8gJ3cnIDogJy0nKSArIChtb2RlICYgMGIwMDEgPyAneCcgOiAnLScpICk7IH0gY29uc3QgSFRNTFBhZ2UgPSAoeyB0aXRsZSwgc3R5bGUsIHNjcmlwdHMgPSBbXSwgY2hpbGRyZW4sIC4uLnByb3BzIH0pID0+IHsgcmV0dXJuIGgoJ2h0bWwnLCB7fSwgWyBoKCAnaGVhZCcsIHt9LCBbCmgoJ3RpdGxlJywge30sIFt0aXRsZV0pLCAuLi4oc3R5bGUgPyBbaCgnc3R5bGUnLCB7IHR5cGU6ICd0ZXh0L2NzcycgfSwgW3N0eWxlXSldIDogW10pLCBoKCAnbGluaycsIHsgcmVsOiAnc3R5bGVzaGVldCcsIGhyZWY6ICdzdGF0aWMvY3NzL2xpc3QuY3NzJyB9LCBbXSApIF0uY29uY2F0KHNjcmlwdHMubWFwKHNjcmlwdCA9PiBoKCdzY3JpcHQnLCB7CnR5cGU6ICdtb2R1bGUnLCBzcmM6IHNjcmlwdCB9KSkpICksIGgoJ2JvZHknLCB7fSwgY2hpbGRyZW4gPz8gW10pIF0pOyB9OyBjb25zdCBGaWx0ZXJGb3JtID0gKHsgLi4ucHJvcHMgfSkgPT4gaCgnZm9ybScsIHsgYWN0aW9uOiAnZmlsZScsIG1ldGhvZDogJ1BPU1QnIH0sIFsgaCggJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHNpemU6IDIwLApuYW1lOiAnZmlsdGVyJywgdmFsdWU6ICcuKicgLyosIG9uY2hhbmdlOiBlID0+IHsgY29uc29sZS5sb2coJ29uY2hhbmdlJywgZSk7IH0qLyB9LCBbXSApLCBoKCdpbnB1dCcsIHsgdHlwZTogJ3N1Ym1pdCcsIHZhbHVlOiAnU3VibWl0JywgY2xhc3M6ICdoaWRkZW4nIH0sIFtdKSBdKTsgY29uc3QgSFRNTFRhYmxlID0gKHsgcm93cywgLi4ucHJvcHMKfSkgPT4gaCgndGFibGUnLCBwcm9wcywgcm93cyk7IGNvbnN0IEhUTUxUYWJsZVJvdyA9ICh7IGNvbHVtbnMsIC4uLnByb3BzIH0pID0+IGgoJ3RyJywgcHJvcHMsIGNvbHVtbnMpOyBjb25zdCBIVE1MVGFibGVDb2x1bW4gPSAoeyBjb2x1bW5zLCBjaGlsZHJlbiwgdGFnID0gJ3RkJywgLi4ucHJvcHMgfSkgPT4gaCh0YWcsIHByb3BzLApjaGlsZHJlbik7IGNvbnN0IEZpbGVMaW5rID0gKHsgZmlsZSwgLi4ucHJvcHMgfSkgPT4geyByZXR1cm4gaCgnYScsIHsgaHJlZjogJ2ZpbGUvdXBsb2Fkcy8nICsgZmlsZSB9LCBbZmlsZV0pOyB9OyBjb25zdCBGaWxlT2JqZWN0ID0gKHsgZmlsZSwgc3RhdCA9IHt9LCAuLi5wcm9wcyB9KSA9PiB7IHN0YXQgPz89CmZzLmxzdGF0U3luYygndXBsb2Fkcy8nICsgZmlsZSk7IC8vIGNvbnNvbGUubG9nKCdGaWxlT2JqZWN0JywgeyBmaWxlLCBzdGF0IH0pOyBsZXQgaXNEaXIgPSBzdGF0LmlzRGlyZWN0b3J5KCk7IHJldHVybiBoKEhUTUxUYWJsZVJvdywge30sIFsgaChIVE1MVGFibGVDb2x1bW4sIHsgY2xhc3M6ICdtb2RlJyB9LCBbIC8vKHN0YXQubW9kZSAmCjBiMTExMTExMTExKS50b1N0cmluZyg4KSwgTW9kZVN0cihzdGF0Lm1vZGUpIF0pLCBoKEhUTUxUYWJsZUNvbHVtbiwgeyBjbGFzczogJ2ZpbGUnIH0sIFtoKEZpbGVMaW5rLCB7IGZpbGU6IGZpbGUgKyAoaXNEaXIgPyAnLycgOiAnJykgfSwgW10pXSksIGgoSFRNTFRhYmxlQ29sdW1uLCB7IGNsYXNzOiAnc2l6ZScgfSwgW3N0YXQuc2l6ZSArICcnXSksCmgoSFRNTFRhYmxlQ29sdW1uLCB7IGNsYXNzOiAnZGF0ZScgfSwgW0RhdGVTdHIobmV3IERhdGUoc3RhdC5hdGltZSkpXSkgXSk7IH07IGNvbnN0IEZpbGVUYWJsZSA9ICh7IGZpbGVzLCAuLi5wcm9wcyB9KSA9PiB7IC8vY29uc29sZS5sb2coJ0ZpbGVUYWJsZScsIGZpbGVzKTsgbGV0IGZpZWxkcyA9IFsnbW9kZScsICdmaWxlJywgJ3NpemUnLAonYXRpbWUnXTsgZmlsZXMgPSBmaWxlcy5zb3J0KChhLCBiKSA9PiBhLmZpbGUubG9jYWxlQ29tcGFyZShiLmZpbGUpKTsgcmV0dXJuIGgoIEhUTUxUYWJsZSwgeyAuLi5wcm9wcywgY2VsbHNwYWNpbmc6IDAsIGNlbGxwYWRkaW5nOiAwLCBib3JkZXI6IDAsIHJvd3M6IFsgaCggSFRNTFRhYmxlUm93LCB7IGNvbHVtbnM6IGZpZWxkcy5tYXAoZmllbGQKPT4gaChIVE1MVGFibGVDb2x1bW4sIHsgdGFnOiAndGgnIH0sIFtmaWVsZF0pKSB9LCBbXSApIF0uY29uY2F0KGZpbGVzLm1hcChmaWxlID0+IGgoRmlsZU9iamVjdCwgZmlsZSwgW10pKSkgfSwgW10gKTsgfTsgZnVuY3Rpb24gUmVhZEV4aXYyKGZpbGUpIHsgY29uc29sZS5sb2coJ1JlYWRFeGl2MicsIGZpbGUpOyBsZXQgW3JkZiwgc3Rkb3V0XSA9Cm9zLnBpcGUoKTsgb3MuZXhlYyhbJ2V4aXYyJywgJy1lJywgJ1gtJywgJ2V4JywgZmlsZV0sIHsgc3Rkb3V0IH0pOyBvcy5jbG9zZShzdGRvdXQpOyBsZXQgeG1wZGF0ID0gZnMucmVhZEFsbFN5bmMocmRmKTsgZnMuY2xvc2VTeW5jKHJkZik7IC8vIGNvbnNvbGUubG9nKCd4bXBkYXQnLCB4bXBkYXQpOyBsZXQgeG1wID0geG1sLnJlYWQoeG1wZGF0KTsKLy8gY29uc29sZS5sb2coJ3htcCcsIHhtcCk7IGxldCBmbGF0ID0gT2JqZWN0LmZyb21FbnRyaWVzKCBkZWVwIC5mbGF0dGVuKHhtcCwgW10pIC5maWx0ZXIoKFtrLCB2XSkgPT4gdiAhPT0gJycgJiYgL2F0dHJpYnV0ZXMuKjovLnRlc3QoaykgJiYgIS9cLnhtbG5zLy50ZXN0KGspICYmICFpc09iamVjdCh2KSkgLmZpbHRlcigoW2ssIHZdKSA9PgovKEdQU3xbWFldRGltfFtYWV1SZXN8RGF0ZSR8TWFrZSR8TW9kZWwkKS8udGVzdChrKSkgLm1hcCgoW2ssIHZdKSA9PiBbay5yZXBsYWNlKC8uKlwuYXR0cmlidXRlc1wuL2csICcnKSwgdl0pIC5zb3J0KChhLCBiKSA9PiBhWzBdLmxvY2FsZUNvbXBhcmUoYlswXSkpIC5tYXAoKFtrLCB2XSkgPT4gW2ssIGlzTmFOKCt2KSA/Cihpc05hTihEYXRlLnBhcnNlKHYpKSA/IHYgOiBuZXcgRGF0ZSh2KSkgOiArdl0pICk7IHJldHVybiBmbGF0OyB9IGZ1bmN0aW9uIFJlYWRFeGlmdG9vbChmaWxlKSB7IGNvbnNvbGUubG9nKCdSZWFkRXhpZnRvb2wnLCBmaWxlKTsgbGV0IFtyZXQsIG91dF0gPSBFeGVjdXRlKCdleGlmdG9vbCcsICctUycsICctZWUnLCBmaWxlKTsgbGV0IGEgPQpvdXQuc3BsaXQoL1xyP1xuL2cpLmZpbHRlcihsID0+IGwgIT0gJycpOyBhID0gYS5tYXAobGluZSA9PiBbbGluZSwgbGluZS5pbmRleE9mKCc6ICcpXSkubWFwKChbbGluZSwgaWR4XSkgPT4gW2xpbmUuc2xpY2UoMCwgaWR4KSwgbGluZS5zbGljZShpZHggKyAyKV0pOyBsZXQgbyA9IE9iamVjdC5mcm9tRW50cmllcyhhKTsKLy9jb25zb2xlLmxvZygnUmVhZEV4aWZ0b29sJyxvKTsgcmV0dXJuIG87IH0gZnVuY3Rpb24gSGVpZkNvbnZlcnQoc3JjLCBkc3QsIHF1YWxpdHkgPSAxMDApIHsgY29uc29sZS5sb2coJ0hlaWZDb252ZXJ0Jywgc3JjLCBkc3QpOyBsZXQgYXJncyA9IFsnaGVpZi1jb252ZXJ0JywgJy1xJywgcXVhbGl0eSArICcnLCBzcmMsIGRzdF07IGxldCBbcmV0LApvdXRdID0gRXhlY3V0ZSguLi5hcmdzKTsgY29uc29sZS5sb2coJ0hlaWZDb252ZXJ0JywgeyBhcmdzLCByZXQsIG91dCB9KTsgcmV0dXJuIFtyZXQsIG91dF07IH0gZnVuY3Rpb24gTWFnaWNrUmVzaXplKHNyYywgZHN0LCByb3RhdGUgPSAwLCB3aWR0aCwgaGVpZ2h0KSB7IGNvbnNvbGUubG9nKCdNYWdpY2tSZXNpemUnLCB7IHdpZHRoLCBoZWlnaHQsCmRzdCwgcm90YXRlIH0pOyBsZXQgYXJncyA9IFsnY29udmVydCcsIHNyYywgJy1yZXNpemUnLCB3aWR0aCArICd4JyArIGhlaWdodCwgLi4uKHJvdGF0ZSA/IFsnLXJvdGF0ZScsICctJyArIHJvdGF0ZV0gOiBbXSksIGRzdF07IGxldCBbcmV0LCBvdXRdID0gRXhlY3V0ZSguLi5hcmdzKTsgY29uc29sZS5sb2coJ01hZ2lja1Jlc2l6ZScsIHsgYXJncywKcmV0LCBvdXQgfSk7IHJldHVybiBbcmV0LCBvdXRdOyB9IGZ1bmN0aW9uIG1haW4oLi4uYXJncykgeyBjb25zdCBiYXNlID0gcGF0aC5iYXNlbmFtZShzY3JpcHRBcmdzWzBdLCAnLmpzJykucmVwbGFjZSgvXC5bYS16XSokLywgJycpOyBjb25zdCBjb25maWcgPSBSZWFkSlNPTihgLiR7YmFzZX0tY29uZmlnYCkgPz8ge307Cmdsb2JhbFRoaXMuY29uc29sZSA9IG5ldyBDb25zb2xlKHsgaW5zcGVjdE9wdGlvbnM6IHsgY29tcGFjdDogMiwgZGVwdGg6IEluZmluaXR5LCBjdXN0b21JbnNwZWN0OiB0cnVlLCBtYXhBcnJheUxlbmd0aDogMjAwLCBwcm90b0NoYWluOiB0cnVlIH0gfSk7IGxldCBwYXJhbXMgPSBnZXRPcHQoIHsgdmVyYm9zZTogW2ZhbHNlLCAoYSwgdikgPT4gKHYKfCAwKSArIDEsICd2J10sIGxpc3RlbjogW2ZhbHNlLCBudWxsLCAnbCddLCBjb25uZWN0OiBbZmFsc2UsIG51bGwsICdjJ10sIGNsaWVudDogW2ZhbHNlLCBudWxsLCAnQyddLCBzZXJ2ZXI6IFtmYWxzZSwgbnVsbCwgJ1MnXSwgZGVidWc6IFtmYWxzZSwgbnVsbCwgJ3gnXSwgdGxzOiBbZmFsc2UsIG51bGwsICd0J10sICduby10bHMnOiBbZmFsc2UsCih2LCBwdiwgbykgPT4gKChvLnRscyA9IGZhbHNlKSwgdHJ1ZSksICdUJ10sIGFkZHJlc3M6IFt0cnVlLCBudWxsLCAnYSddLCBwb3J0OiBbdHJ1ZSwgbnVsbCwgJ3AnXSwgJ3NzbC1jZXJ0JzogW3RydWUsIG51bGxdLCAnc3NsLXByaXZhdGUta2V5JzogW3RydWUsIG51bGxdLCAnQCc6ICdhZGRyZXNzLHBvcnQnIH0sIGFyZ3MgKTsKaWYocGFyYW1zWyduby10bHMnXSA9PT0gdHJ1ZSkgcGFyYW1zLnRscyA9IGZhbHNlOyBjb25zdCB7IGFkZHJlc3MgPSAnMC4wLjAuMCcsIHBvcnQgPSA4OTk5LCAnc3NsLWNlcnQnOiBzc2xDZXJ0ID0gJ2xvY2FsaG9zdC5jcnQnLCAnc3NsLXByaXZhdGUta2V5Jzogc3NsUHJpdmF0ZUtleSA9ICdsb2NhbGhvc3Qua2V5JyB9ID0gcGFyYW1zOyBjb25zdApsaXN0ZW4gPSBwYXJhbXMuY29ubmVjdCAmJiAhcGFyYW1zLmxpc3RlbiA/IGZhbHNlIDogdHJ1ZTsgY29uc3QgaXNfc2VydmVyID0gIXBhcmFtcy5jbGllbnQgfHwgcGFyYW1zLnNlcnZlcjsgbGV0IG5hbWUgPSBwcm9jZXNzLmVudlsnTkFNRSddID8/IGJhc2U7IG5hbWUgPSBuYW1lIC5yZXBsYWNlKC8uKlwvLywgJycpIC5yZXBsYWNlKC8tL2csICcKJykgLnJlcGxhY2UoL1wuW15cLy5dKiQvLCAnJyk7IGxldCBbcHJlZml4LCBzdWZmaXhdID0gbmFtZS5zcGxpdCgnICcpOyBsZXQgcmVwbCA9IG5ldyBSRVBMKGBceDFiWzM4OzU7MTY1bSR7cHJlZml4fSBceDFiWzM4OzU7MzltJHtzdWZmaXh9XHgxYlswbWAsIGZhbHNlKTsgY29uc3QgaGlzdGZpbGUgPSAnLnVwbG9hZC1zZXJ2ZXItaGlzdG9yeSc7CnJlcGwuaGlzdG9yeUxvYWQoaGlzdGZpbGUsIGZhbHNlKTsgcmVwbC5sb2FkU2F2ZU9wdGlvbnMoKTsgcmVwbC5kaXJlY3RpdmVzLmkgPSBbIChtb2R1bGUsIC4uLmFyZ3MpID0+IHsgY29uc29sZS5sb2coJ2FyZ3MnLCBhcmdzKTsgdHJ5IHsgcmV0dXJuIHJlcXVpcmUobW9kdWxlKTsgfSBjYXRjaChlKSB7fSBpbXBvcnQobW9kdWxlKS50aGVuKG0gPT4KKGdsb2JhbFRoaXNbbW9kdWxlXSA9IG0pKTsgfSwgJ2ltcG9ydCBtb2R1bGUnIF07IGxldCB7IGxvZyB9ID0gY29uc29sZTsgcmVwbC5zaG93ID0gYXJnID0+IHN0ZC5wdXRzKCh0eXBlb2YgYXJnID09ICdzdHJpbmcnID8gYXJnIDogaW5zcGVjdChhcmcsIGdsb2JhbFRoaXMuY29uc29sZS5vcHRpb25zKSkgKyAnXG4nKTsgcmVwbC5jbGVhbnVwID0gKCkKPT4geyByZXBsLnJlYWRsaW5lUmVtb3ZlUHJvbXB0KCk7IFRlcm1pbmFsLm1vdXNldHJhY2tpbmdEaXNhYmxlKCk7IGxldCBudW1MaW5lcyA9IHJlcGwuaGlzdG9yeVNhdmUoaGlzdGZpbGUpOyByZXBsLnByaW50U3RhdHVzKGBFWElUICh3cm90ZSAke251bUxpbmVzfSBoaXN0b3J5IGVudHJpZXMpYCwgZmFsc2UpOyBzdGQuZXhpdCgwKTsgfTsKY29uc29sZS5vcHRpb25zID0gT2JqZWN0LmFzc2lnbiggcmVwbC5pbnNwZWN0T3B0aW9ucywgeyAuLi5jb25zb2xlLm9wdGlvbnMgfSwgeyBkZXB0aDogSW5maW5pdHksIGNvbXBhY3Q6IDEgfSApOyByZXBsLmluc3BlY3RPcHRpb25zLmhpZGVLZXlzLnB1c2goU3ltYm9sLmluc3BlY3QpOyBjb25zb2xlLmxvZyA9ICguLi5hcmdzKSA9PgpyZXBsLnByaW50U3RhdHVzKCgpID0+IGxvZyhjb25zb2xlLmNvbmZpZyhyZXBsLmluc3BlY3RPcHRpb25zKSwgLi4uYXJncykpOyBsZXQgbG9nRmlsZSA9IHsgcHV0cyhzKSB7IHJlcGwucHJpbnRTdGF0dXMoKCkgPT4gc3RkLnB1dHMocykpOyB9IH0gPz8gc3RkLm9wZW4oJ3VwbG9hZC1zZXJ2ZXIubG9nJywgJ3crJyk7IGxldCBjb25uZWN0aW9ucyA9Cm5ldyBTZXQoKTsgbGV0IGJ5X3V1aWQgPSB7fTsgZnVuY3Rpb24gUGFyc2VCb2R5KGdlbikgeyBsZXQgcHJvbSwgbyA9ICcnLCB4OyB3aGlsZSgoeCA9IGdlbi5uZXh0KCkpKSB7IGxldCB7IHZhbHVlLCBkb25lIH0gPSB4OyBvICs9IHZhbHVlOyB9IHJldHVybiBvOyB9IGNvbnN0IGNyZWF0ZVdTID0gKGdsb2JhbFRoaXMuY3JlYXRlV1MgPSAodXJsLApjYWxsYmFja3MsIGxpc3RlbikgPT4geyAvL2NvbnNvbGUubG9nKCdjcmVhdGVXUycsIHsgdXJsLCBjYWxsYmFja3MsIGxpc3RlbiB9KTsgZ2xvYmFsVGhpcy5vdXQgPSBzID0+IGxvZ0ZpbGUucHV0cyhzICsgJ1xuJyk7IGxvZ0xldmVsID0gKHBhcmFtcy5kZWJ1ZyA/IExMTF9VU0VSIDogMCkgfCAoKChwYXJhbXMuZGVidWcgPyBMTExfSU5GTyA6CkxMTF9XQVJOKSA8PCAxKSAtIDEpOyBjb25zb2xlLmxvZygnY3JlYXRlV1MnLCB7IGxvZ0xldmVsIH0pOyByZXR1cm4gW2NsaWVudCwgc2VydmVyXVsrbGlzdGVuXSh7IGJsb2NrOiBmYWxzZSwgdGxzOiBwYXJhbXMudGxzLCBzc2xDZXJ0LCBzc2xQcml2YXRlS2V5LCBtaW1ldHlwZXM6IFsgWycuc3ZneicsICdhcHBsaWNhdGlvbi9nemlwJ10sClsnLm1qcycsICdhcHBsaWNhdGlvbi9qYXZhc2NyaXB0J10sIFsnLmpzJywgJ2FwcGxpY2F0aW9uL2phdmFzY3JpcHQnXSwgWycud2FzbScsICdhcHBsaWNhdGlvbi93YXNtJ10sIFsnLmVvdCcsICdhcHBsaWNhdGlvbi92bmQubXMtZm9udG9iamVjdCddLCBbJy5saWInLCAnYXBwbGljYXRpb24veC1hcmNoaXZlJ10sIFsnLmJ6MicsCidhcHBsaWNhdGlvbi94LWJ6aXAyJ10sIFsnLmdpdGlnbm9yZScsICd0ZXh0L3BsYWluJ10sIFsnLmNtYWtlJywgJ3RleHQvcGxhaW4nXSwgWycuaGV4JywgJ3RleHQvcGxhaW4nXSwgWycubWQnLCAndGV4dC9wbGFpbiddLCBbJy5wYnhwcm9qJywgJ3RleHQvcGxhaW4nXSwgWycud2F0JywgJ3RleHQvcGxhaW4nXSwgWycuYycsICd0ZXh0L3gtYyddLApbJy5oJywgJ3RleHQveC1jJ10sIFsnLmNwcCcsICd0ZXh0L3gtYysrJ10sIFsnLmhwcCcsICd0ZXh0L3gtYysrJ10sIFsnLmZpbHRlcnMnLCAndGV4dC94bWwnXSwgWycucGxpc3QnLCAndGV4dC94bWwnXSwgWycuc3Rvcnlib2FyZCcsICd0ZXh0L3htbCddLCBbJy52Y3hwcm9qJywgJ3RleHQveG1sJ10sIFsnLmJhdCcsCid0ZXh0L3gtbXNkb3MtYmF0Y2gnXSwgWycubW0nLCAndGV4dC94LW9iamVjdGl2ZS1jJ10sIFsnLm0nLCAndGV4dC94LW9iamVjdGl2ZS1jJ10sIFsnLnNoJywgJ3RleHQveC1zaGVsbHNjcmlwdCddIF0sIG1vdW50czogWyBbJy8nLCAnLicsICd1cGxvYWQuaHRtbCddLCBbJy9nZXQnLCAnLi91cGxvYWRzJywgJyddLCBbJy93YXJtY2F0JywKJ2h0dHBzOi8vd2FybWNhdC5jb20vJywgJ2luZGV4Lmh0bWwnXSwgWycvZGlzdHJlbGVjJywgJ2h0dHBzOi8vd3d3LmRpc3RyZWxlYy5jaC8nLCAnbG9naW4nXSwgWycvaGFzdXJhJywgJ2h0dHA6Ly93aWxkLWJlYXV0eS5oZXJva3VhcHAuY29tL3YxLycsICdncmFwaHFsJ10sIC8vIFsnL3VwbG9hZCcsICdsd3MtZGVhZGRyb3AnLCBudWxsLAonbHdzLWRlYWRkcm9wJ10sIGFzeW5jIGZ1bmN0aW9uKiB0ZXN0KHJlcSwgcmVzcCkgeyByZXNwLnR5cGUgPSAndGV4dC9wbGFpbic7IGNvbnNvbGUubG9nKCcqdGVzdCcsIHsgcmVxLCByZXNwIH0pOyBsZXQgYm9keVN0ciA9ICcnOyBpZihyZXEubWV0aG9kID09ICdQT1NUJykgeyBmb3IgYXdhaXQobGV0IGNodW5rIG9mIGF3YWl0IHJlcS5ib2R5KSB7CmNvbnNvbGUubG9nKCdjaHVuaycsIGNodW5rKTsgYm9keVN0ciArPSB0b1N0cmluZyhjaHVuayk7IH0gfSBjb25zb2xlLmxvZygnYm9keVN0cicsIGJvZHlTdHIpOyBmb3IobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykgeyB5aWVsZCBgbGluZSAjJHtpfVxuYDsgYXdhaXQgd2FpdEZvcigoMTAgLSBpICsgMSkgKiAxMCk7IH0geWllbGQgJ2RvbmUhJzsgfSwKZnVuY3Rpb24gcHJveHkocmVxLCByZXNwKSB7IGNvbnNvbGUubG9nKCdwcm94eScsIHsgcmVxLCByZXNwIH0pOyBjb25zdCB7IHVybCwgbWV0aG9kLCBoZWFkZXJzIH0gPSByZXE7IGNvbnNvbGUubG9nKCdwcm94eScsIHsgdXJsLCBtZXRob2QsIGhlYWRlcnMgfSk7IGNvbnN0IHsgc3RhdHVzLCBvaywgdHlwZSB9ID0gcmVzcDsKY29uc29sZS5sb2coJ3Byb3h5JywgeyBzdGF0dXMsIG9rLCB1cmwsIHR5cGUgfSk7IH0sIGZ1bmN0aW9uKiBjb25maWcocmVxLCByZXNwKSB7IGNvbnNvbGUubG9nKCcqY29uZmlnJywgeyByZXEsIHJlc3AgfSk7IHlpZWxkICd7fSc7IH0sIGZ1bmN0aW9uKiBmaWxlKHJlcSwgcmVzcCkgeyBsZXQgeyBib2R5LCBoZWFkZXJzLCBqc29uLCB1cmwgfSA9CnJlcTsgbGV0IHsgcXVlcnkgfSA9IHVybDsgaWYodHlwZW9mIGJvZHkgPT0gJ3N0cmluZycpIHF1ZXJ5ID0geyAuLi5xdWVyeSwgLi4uKEpTT04ucGFyc2UoYm9keSkgPz8ge30pIH07IGxldCB7IGFjdGlvbiA9ICdsaXN0JywgY2hhcnNldCA9ICd1dGYtOCcsIGJpbmFyeSA9IGZhbHNlLCBmaWxlLCBjb250ZW50cyB9ID0gcXVlcnkgPz8ge307CmlmKC9eXC9maWxlXC8uLy50ZXN0KHVybC5wYXRoKSkgeyBmaWxlID0gdXJsLnBhdGgucmVwbGFjZSgvXlwvZmlsZVwvLywgJycpOyBhY3Rpb24gPSAnbG9hZCc7IH0gY29uc29sZS5sb2coJypmaWxlJywgeyBxdWVyeSwgYm9keSwgZmlsZSB9KTsgY29uc29sZS5sb2coYCpmaWxlYCwgeyBhY3Rpb24sIGZpbGUgfSk7IGlmKGZpbGUpIHsgZmlsZSA9CnBhdGguYWJzb2x1dGUoZmlsZSk7IGZpbGUgPSBwYXRoLmNvbGxhcHNlKGZpbGUpOyBjb25zb2xlLmxvZyggYGFsbG93ZWREaXJzOmAsIGFsbG93ZWREaXJzIC8vLm1hcChkaXIgPT4gcGF0aC5ub3JtYWxpemUoZGlyKSkgKTsgLy9jb25zb2xlLmxvZyhgYWxsb3dlZDpgLCBhbGxvd2VkRGlycy8qLm1hcChkaXIgPT4gcGF0aC5pc2luKGZpbGUsCmRpcikpKi8pOyBsZXQgYWxsb3dlZCA9IFsuLi5hbGxvd2VkRGlyc10uc29tZSgoW2Rpcl0pID0+IHBhdGguaXNpbihmaWxlLCBwYXRoLm5vcm1hbGl6ZShkaXIpKSk7IGlmKCFhbGxvd2VkKSB7IGNvbnNvbGUubG9nKGBOb3QgYWxsb3dlZDogJyR7ZmlsZX0nYCk7IHRocm93IG5ldyBFcnJvcihgTm90IGFsbG93ZWQ6ICcke2ZpbGV9J2ApOyB9IH0Kc3dpdGNoIChhY3Rpb24pIHsgY2FzZSAnbG9hZCc6IGxldCBtaW1lID0gR2V0TWltZShmaWxlKTsgcmVzcC50eXBlID0gbWltZTsgcmVzcC5oZWFkZXJzID0geyAnY29udGVudC10eXBlJzogbWltZSB9OyBsZXQgZGF0YSA9IFJlYWRGaWxlKGZpbGUsIHRydWUpOyBjb25zb2xlLmxvZyhgKmZpbGUubG9hZGAsIHsgZGF0YSwgbWltZSB9KTsgeWllbGQKZGF0YTsgcmVzcC5ib2R5ID0gZGF0YTsgLy95aWVsZCBicmVhazsgY2FzZSAnc2F2ZSc6IFdyaXRlRmlsZShmaWxlLCBjb250ZW50cyk7IHlpZWxkICdkb25lIVxyXG4nOyBicmVhazsgY2FzZSAnbGlzdCc6IGxldCBmaWxlcyA9IGZzLnJlYWRkaXJTeW5jKCd1cGxvYWRzJykuZmlsdGVyKGYgPT4gIS9eXC4kLy50ZXN0KGYpKTsgbGV0IGNvbXBvbmVudAo9IGgoIEhUTUxQYWdlLCB7IHRpdGxlOiAnRmlsZSBsaXN0Jywgc3R5bGU6IGBib2R5LCAqIHsgZm9udC1mYW1pbHk6IE1pc2NGaXhlZFNDNjEzLEZpeGVkLCJDb3VyaWVyIE5ldyI7IH1gLCBzY3JpcHRzOiBbJ2ZpbGVsaXN0LmpzJ10gfSwgWyBoKEZpbHRlckZvcm0sIHt9LCBbXSksIGgoRmlsZVRhYmxlLCB7IGZpbGVzOiBmaWxlcy5tYXAoZmlsZSA9PgooeyBmaWxlLCBzdGF0OiBmcy5zdGF0U3luYyhmaWxlKSB9KSkgfSkgXSApOyB5aWVsZCByZW5kZXJUb1N0cmluZyhjb21wb25lbnQpOyBicmVhazsgeWllbGQgZmlsZXMuam9pbignXG4nKTsgYnJlYWs7IGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcihgTm8gc3VjaCBjb21tYW5kOiAnJHthY3Rpb259J2ApOyB9IH0sIGZ1bmN0aW9uKgp1cGxvYWRzKHJlcSwgcmVzcCkgeyByZXNwLnR5cGUgPSAnYXBwbGljYXRpb24vanNvbic7IGNvbnNvbGUubG9nKCd1cGxvYWRzJywgcmVxLCByZXNwKTsgY29uc3QgeyBsaW1pdCA9ICcwLDEwMCcsIHByZXR0eSA9IDAgfSA9IHJlcS51cmwucXVlcnkgPz8ge307IGxldCBbc3RhcnQsIGVuZF0gPSBsaW1pdC5zcGxpdCgvLC9nKS5tYXAocyA9PiArcyk7CmNvbnNvbGUubG9nKCd1cGxvYWRzJywgeyBzdGFydCwgZW5kIH0pOyBsZXQgcmVzdWx0ID0gW10sIGVudHJpZXMgPSBnbG9iKCd1cGxvYWRzLyouanNvbicpOyBmb3IobGV0IGVudHJ5IG9mIChBcnJheS5pc0FycmF5KGVudHJpZXMpID8gZW50cmllcyA6IFtdKS5zbGljZShzdGFydCwgZW5kKSkgeyBsZXQganNvbiA9IFJlYWRKU09OKGVudHJ5KTsKY29uc3QgeyBzdG9yYWdlLCBmaWxlbmFtZSwgdXBsb2FkZWQsIGFkZHJlc3MsIGV4aWYsIHRodW1ibmFpbCB9ID0ganNvbjsganNvbi5zaXplID0gZnMuc2l6ZVN5bmMoc3RvcmFnZSk7IHJlc3VsdC5wdXNoKGpzb24pOyB9IGNvbnNvbGUubG9nKCd1cGxvYWRzJywgY29uc29sZS5jb25maWcoeyBkZXB0aDogMSwgY29tcGFjdDogMiwKbWF4QXJyYXlMZW5ndGg6IDEwIH0pLCByZXN1bHQpOyB5aWVsZCBKU09OLnN0cmluZ2lmeShyZXN1bHQsIC4uLigrcHJldHR5ID8gW251bGwsIDJdIDogW10pKTsgfSwgYXN5bmMgZnVuY3Rpb24qIGZpbGVzKHJlcSwgcmVzcCkgeyBjb25zb2xlLmxvZygnKmZpbGVzIHF1ZXJ5ID0nLCByZXEudXJsLnF1ZXJ5KTsgY29uc3QgeyBmaWx0ZXIgPSAnKicsCnJvb3QsIHR5cGUgPSBUWVBFX0RJUiB8IFRZUEVfUkVHIHwgVFlQRV9MTkssIGxpbWl0ID0gJzAnIH0gPSByZXEudXJsLnF1ZXJ5OyBjb25zb2xlLmxvZygnKmZpbGVzJywgeyByb290LCBmaWx0ZXIsIHR5cGUgfSk7IGNvbnN0IFtvZmZzZXQgPSAwLCBzaXplID0gSW5maW5pdHldID0gbGltaXQuc3BsaXQoJywnKS5tYXAobiA9PiArbik7CmNvbnNvbGUubG9nKCcqZmlsZXMnLCB7IG9mZnNldCwgc2l6ZSB9KTsgbGV0IGkgPSAwOyBsZXQgZiA9IE1hdGNoZXIoZmlsdGVyKTsgaWYoIXJvb3QpIHsgZm9yKGxldCBuYW1lIG9mIGFsbG93ZWREaXJzLmtleXMoKS5maWx0ZXIoZikpIHlpZWxkIG5hbWUgKyAnL1xyXG4nOyB9IGVsc2UgeyBmb3IobGV0IFtrZXksIHZhbHVlXSBvZgphbGxvd2VkRGlycy5lbnRyaWVzKCkuZmlsdGVyKEtleU9yVmFsdWVNYXRjaGVyKHJvb3QpKSkgeyBsZXQgZGlyID0gbmV3IERpcmVjdG9yeSh2YWx1ZSwgQk9USCwgK3R5cGUpOyB5aWVsZCBrZXkgKyAnOlxyXG4nOyBmb3IobGV0IFtuYW1lLCB0eXBlXSBvZiBkaXIuZmlsdGVyKChbbmFtZSwgdHlwZV0pID0+IGYobmFtZSkpKSB5aWVsZCBuYW1lICsKKCt0eXBlID09IFRZUEVfRElSID8gJy8nIDogJycpICsgJ1xyXG4nOyB9IH0gY29uc29sZS5sb2coJypmaWxlcycsIHsgaSwgZiB9KTsgfSwgZnVuY3Rpb24qIGZpbGVzMihyZXEsIHJlc3ApIHsgbGV0IHsgYm9keSwgaGVhZGVycywganNvbiwgdXJsIH0gPSByZXE7IGxldCB7IHF1ZXJ5IH0gPSB1cmw7IGRlZmluZShnbG9iYWxUaGlzLCB7CmZpbGVzUmVxdWVzdDogeyByZXEsIHJlc3AsIGJvZHksIHF1ZXJ5IH0gfSk7IGNvbnNvbGUubG9nKCcqZmlsZXMnLCB7IHJlcSwgcmVzcCwgYm9keSwgcXVlcnkgfSk7IGNvbnN0IGRhdGEgPSBxdWVyeSA/PyB7fTsgcmVzcC50eXBlID0gJ2FwcGxpY2F0aW9uL2pzb24nOyBsZXQgeyBkaXJzID0gZGVmYXVsdERpcnMsIGZpbHRlciA9ICdbXi5dLionID8/CicuKGJyZHxzY2h8R1tBLVpdW0EtWl0pJCcsIHZlcmJvc2UgPSBmYWxzZSwgb2JqZWN0cyA9IHRydWUsIGtleSA9ICdtdGltZScsIGxpbWl0ID0gbnVsbCwgZmxhdCA9IGZhbHNlIH0gPSBkYXRhID8/IHt9OyBsZXQgcmVzdWx0cyA9IFtdOyBmb3IobGV0IGRpciBvZiBkaXJzKSB7IGxldCBzdCwgbmFtZXMgPSBbXTsKaWYoQXJyYXkuaXNBcnJheShkaXIpKSB7IGxldCBbLCByZV0gPSBkaXI7IGxldCBhYnNkaXIgPSBwYXRoLnJlYWxwYXRoKGRpclswXSk7IG5hbWVzID0gWy4uLlJlY3Vyc2l2ZURpckl0ZXJhdG9yKGFic2RpciwgbiA9PiByZS50ZXN0KG4pKV07IGRpciA9IHBhdGgucmVsYXRpdmUoYWJzZGlyLCBwYXRoLmdldGN3ZCgpKTsgfSBlbHNlIGlmKChzdCA9CmZzLnN0YXRTeW5jKGRpcikpICYmIHN0LmlzRGlyZWN0b3J5KCkpIHsgbGV0IGFic2RpciA9IHBhdGgucmVhbHBhdGgoZGlyKTsgbGV0IGNvbXBvbmVudHMgPSBhYnNkaXIuc3BsaXQocGF0aC5zZXApOyBpZihjb21wb25lbnRzLmxlbmd0aCAmJiBjb21wb25lbnRzWzBdID09PSAnJykgY29tcG9uZW50cy5zaGlmdCgpOwppZihjb21wb25lbnRzLmxlbmd0aCA8IDIgfHwgY29tcG9uZW50c1swXSAhPSAnaG9tZScpIHRocm93IG5ldyBFcnJvcihgQWNjZXNzIGVycm9yYCk7IG5hbWVzID0gZnMucmVhZGRpclN5bmMoYWJzZGlyKSA/PyBbXTsgZGlyID0gcGF0aC5yZWxhdGl2ZShhYnNkaXIsIHBhdGguZ2V0Y3dkKCkpOyB9IGVsc2UgeyBuYW1lcyA9IGdsb2IoZGlyLApHTE9CX0JSQUNFKTsgaWYoIUFycmF5LmlzQXJyYXkobmFtZXMpKSBuYW1lcyA9IFtdOyBsZXQgYSA9IHBhdGgudG9BcnJheShkaXIpOyBsZXQgaSA9IGEuZmluZEluZGV4KG4gPT4gL1sqe31dLy50ZXN0KG4pKTsgZGlyID0gcGF0aC5zbGljZShkaXIsIDAsIGkpOyBuYW1lcyA9IG5hbWVzLm1hcChuID0+IG4uc2xpY2UoZGlyLmxlbmd0aCArIDEpKTsgfQppZighQXJyYXkuaXNBcnJheShuYW1lcykpIGNvbnRpbnVlOyBuYW1lcyA9IG5hbWVzLnNvcnQoKGEsIGIpID0+ICcnICsgYiA8ICcnICsgYSk7IGlmKGZpbHRlcikgeyBjb25zdCByZSA9IG5ldyBSZWdFeHAoZmlsdGVyLCAnZ2knKTsgbmFtZXMgPSBuYW1lcy5maWx0ZXIobmFtZSA9PiByZS50ZXN0KG5hbWUpKTsgfSBpZihsaW1pdCkgeyBsZXQKW29mZnNldCA9IDBdID0gbGltaXQ7IGxldCBbLCBsZW5ndGggPSBuYW1lcy5sZW5ndGggLSBzdGFydF0gPSBsaW1pdDsgbmFtZXMgPSBuYW1lcy5zbGljZShvZmZzZXQsIG9mZnNldCArIGxlbmd0aCk7IH0gbGV0IGVudHJpZXMgPSBuYW1lcyAubWFwKGZpbGUgPT4gKGZzLmV4aXN0c1N5bmMoYCR7ZGlyfS8ke2ZpbGV9YCkgPwpgJHtkaXJ9LyR7ZmlsZX1gIDogZmlsZSkpIC5tYXAoZmlsZSA9PiBbZmlsZSwgcGF0aC5yZWxhdGl2ZShmaWxlLCBwYXRoLmdldGN3ZCgpKV0pIC5tYXAoKFtmaWxlLCByZWxdKSA9PiBbZmlsZSwgZnMuc3RhdFN5bmMocmVsKV0pOyBlbnRyaWVzID0gZW50cmllcy5yZWR1Y2UoKGFjYywgW2ZpbGUsIHN0XSkgPT4geyBsZXQgbmFtZSA9IGZpbGUgKwooc3QgJiYgc3QuaXNEaXJlY3RvcnkoKSA/ICcvJyA6ICcnKTsgbGV0IG9iaiA9IHsgbmFtZSB9OyBhY2MucHVzaChbIG5hbWUsIE9iamVjdC5hc3NpZ24oIG9iaiwgc3QgPyB7IG10aW1lOiB0b1VuaXhUaW1lKHN0Lm10aW1lKSwgdGltZTogdG9Vbml4VGltZShzdC5jdGltZSksIG1vZGU6IGAwJHsoc3QubW9kZSAmCjB4MDlmZikudG9TdHJpbmcoOCl9YCwgc2l6ZTogc3Quc2l6ZSB9IDoge30gKSBdKTsgcmV0dXJuIGFjYzsgfSwgW10pOyBpZihlbnRyaWVzLmxlbmd0aCkgeyBsZXQgY21wID0geyBzdHJpbmcoYSwgYikgeyByZXR1cm4gYVsxXVtrZXldLmxvY2FsZUNvbXBhcmUoYlsxXVtrZXldKTsgfSwgbnVtYmVyKGEsIGIpIHsgcmV0dXJuIGFbMV1ba2V5XSAtCmJbMV1ba2V5XTsgfSB9W3R5cGVvZiBlbnRyaWVzWzBdWzFdW2tleV1dOyBlbnRyaWVzID0gZW50cmllcy5zb3J0KGNtcCk7IH0gbmFtZXMgPSBlbnRyaWVzLm1hcCgoW25hbWUsIG9ial0pID0+IChvYmplY3RzID8gb2JqIDogbmFtZSkpOyBpZihuYW1lcy5sZW5ndGggPiAwKSB7IGlmKGZsYXQpIG5hbWVzLm1hcCgoeyBuYW1lIH0pID0+CnJlc3VsdHMucHVzaCh7IG5hbWU6IHBhdGgubm9ybWFsaXplKHBhdGguam9pbihkaXIsIG5hbWUpKSB9KSk7IGVsc2UgcmVzdWx0cy5wdXNoKHsgZGlyLCBuYW1lcyB9KTsgfSB9IHlpZWxkIEpTT04uc3RyaW5naWZ5KC4uLltyZXN1bHRzLCAuLi4odmVyYm9zZSA/IFtudWxsLCAyXSA6IFtdKV0pOyB9IF0sIC4uLnVybCwgLi4uY2FsbGJhY2tzLApvbkNvbm5lY3Qod3MsIHJlcSkgeyBjb25zb2xlLmxvZygnb25Db25uZWN0XHgxYicpOyBjb25zdCB7IHBlZXIsIGFkZHJlc3MsIHBvcnQsIHByb3RvY29sIH0gPSB3czsgY29uc29sZS5sb2coJ1x4MWJbMzg7NTszM21vbkNvbm5lY3RceDFiWzBtJywgeyBhZGRyZXNzLCBwb3J0LCBwcm90b2NvbCB9KTsgd3Muc2VuZENvbW1hbmQgPQpmdW5jdGlvbihkYXRhKSB7IGlmKCFpc0FycmF5QnVmZmVyKGRhdGEpIC8qJiYgaXNPYmplY3QoZGF0YSkqLykgZGF0YSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpOyByZXR1cm4gdGhpcy5zZW5kKGRhdGEpOyB9OyBpZighd3MudXVpZCkgeyBsZXQgZGF0YSA9ICh3cy51dWlkID0gTWFrZVVVSUQoKSk7IHdzLnNlbmRDb21tYW5kKHsgdHlwZTogJ3V1aWQnLApkYXRhIH0pOyBieV91dWlkW2RhdGFdID0gd3M7IH0gY29ubmVjdGlvbnMuYWRkKHdzKTsgaWYoY2FsbGJhY2tzLm9uQ29ubmVjdCkgcmV0dXJuIGNhbGxiYWNrcy5vbkNvbm5lY3Qod3MsIHJlcSk7IH0sIG9uQ2xvc2Uod3MsIHJlYXNvbikgeyBjb25uZWN0aW9ucy5kZWxldGUod3MpOyByZXR1cm4gY2FsbGJhY2tzLm9uQ2xvc2Uod3MsIHJlYXNvbik7Cn0sIC8qIG9uUmVhZChkYXRhKSB7IGNvbnN0IHJlcSA9IHRoaXM7IGNvbnNvbGUubG9nKCdvblJlYWQnLCB7IHJlcSwgZGF0YSB9KTsgfSwqLyAvKiBvblBvc3QoZGF0YSkgeyBjb25zdCByZXEgPSB0aGlzOyB0cnkgeyByZXEuanNvbiA9IEpTT04ucGFyc2UoZGF0YSk7IH0gY2F0Y2goZXJyb3IpIHsgY29uc29sZS5sb2coJ29uUG9zdCcsIHsgcmVxLApkYXRhLCBlcnJvciB9KTsgfSB9LCovIG9uSHR0cCh3cywgcmVxLCByZXNwKSB7IC8qIGlmKHJlcS5tZXRob2QgIT0gJ0dFVCcpKi8gLy9jb25zb2xlLmxvZygnb25IdHRwJywgY29uc29sZS5jb25maWcoeyBjb21wYWN0OiAwIH0pLCB3cyk7IC8qIGNvbnNvbGUubG9nKCdceDFiWzM4OzU7MjIwbW9uSHR0cCgxKVx4MWJbMG0nLCBgcmVxID1gLApjb25zb2xlLmNvbmZpZyhyZXBsLmluc3BlY3RPcHRpb25zKSwgcmVxKTsgY29uc29sZS5sb2coJ1x4MWJbMzg7NTsyMjBtb25IdHRwKDEpXHgxYlswbScsIGByZXNwID1gLCBjb25zb2xlLmNvbmZpZyhyZXBsLmluc3BlY3RPcHRpb25zKSwgcmVzcCk7Ki8gLy8gY29uc29sZS5sb2coJ1x4MWJbMzg7NTsyMjBtb25IdHRwKDEpXHgxYlswbScsCmNvbnNvbGUuY29uZmlnKHJlcGwuaW5zcGVjdE9wdGlvbnMpLCB7IHJlcSwgcmVzcCB9KTsgZGVmaW5lKGdsb2JhbFRoaXMsIHsgd3MsIHJlcSwgcmVzcCB9KTsgY29uc3QgeyBwZWVyLCBhZGRyZXNzLCBwb3J0IH0gPSB3czsgY29uc3QgeyBtZXRob2QsIGhlYWRlcnMgfSA9IHJlcTsgLy9yZXNwLmhlYWRlcnNbJ1NlcnZlciddID0KJ3VwbG9hZC1zZXJ2ZXInOyByZXNwLmhlYWRlcnMgPSB7IFNlcnZlcjogJ3VwbG9hZC1zZXJ2ZXInIH07IC8vY29uc29sZS5sb2coJ29uSHR0cCByZXNwLmhlYWRlcnMnLCByZXNwLmhlYWRlcnMsIHJlc3AuaGVhZGVyc1snU2VydmVyJ10pOyAvLyBpZihnbG9iYWxUaGlzLm9uUmVxdWVzdCkgZ2xvYmFsVGhpcy5vblJlcXVlc3QocmVxLCByZXNwKTsgLyoKaWYoKHJlcS51cmwucGF0aCA/PyAnJykuZW5kc1dpdGgoJy5qcycpKSBjb25zb2xlLmxvZygnb25IdHRwJywgcmVxLnVybC5wYXRoKTsgKi8gaWYoKHJlcS51cmwucGF0aCA/PyAnJykuZW5kc1dpdGgoJ2ZpbGVzJykpIHsgcmV0dXJuOyAvL3Jlc3AudHlwZSA9ICdhcHBsaWNhdGlvbi9qc29uJzsgfSBlbHNlIGlmKHJlcS5tZXRob2QgIT0gJ0dFVCcgJiYKKHJlcS5oZWFkZXJzWydjb250ZW50LXR5cGUnXSA9PSAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyB8fCAocmVxLmhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddID8/ICcnKS5zdGFydHNXaXRoKCdtdWx0aXBhcnQvZm9ybS1kYXRhJykpKSB7IGxldCBmcCwgaGFzaCwgdG1wbmFtLCBleHQsIHByb2dyZXNzID0gMDsKY29uc29sZS5sb2cocmVxLm1ldGhvZCwgaGVhZGVycyk7IGlmKHJlcS51cmwucGF0aC5lbmRzV2l0aCgndXBsb2FkJykpIHJlc3Auc3RhdHVzID0gMjAwOyByZXNwLnR5cGUgPSAndGV4dC9yYXcnOyBmcCA9IG5ldyBGb3JtUGFyc2VyKHdzLCBbJ2ZpbGVzJywgJ3V1aWQnXSwgeyBjaHVua1NpemU6IDgxOTIgLyoqIDI1NiovLCBvbk9wZW4obmFtZSwKZmlsZW5hbWUpIHsgY29uc29sZS5sb2coYG9uT3Blbigke25hbWV9LCAke2ZpbGVuYW1lfSlgKTsgaWYodGhpcy5maWxlKSB7IHRoaXMub25jbG9zZS5jYWxsKHRoaXMsIG5hbWUpOyB9IHRoaXMubmFtZSA9IG5hbWU7IHRoaXMuZmlsZW5hbWUgPSBmaWxlbmFtZTsgZXh0ID0gcGF0aC5leHRuYW1lKGZpbGVuYW1lKS50b0xvd2VyQ2FzZSgpOwp0aGlzLmZpbGUgPSBmcy5vcGVuU3luYygodGhpcy50ZW1wID0gJ3VwbG9hZHMvJyArICh0bXBuYW0gPSByYW5kU3RyKDIwKSArICcudG1wJykpLCAndysnLCAwbzY0NCk7IGhhc2ggPSBuZXcgSGFzaChIYXNoLlRZUEVfU0hBMSk7IH0sIG9uQ29udGVudChuYW1lLCBkYXRhKSB7IC8vCmNvbnNvbGUubG9nKGBvbkNvbnRlbnQoJHt0aGlzLmZpbGVuYW1lfSlgLGRhdGEuYnl0ZUxlbmd0aCk7IHByb2dyZXNzICs9IGRhdGEuYnl0ZUxlbmd0aDsgbGV0IHdzMiA9IGJ5X3V1aWRbd3MudXVpZCA/PyB0aGlzLnV1aWRdOyBmcy53cml0ZVN5bmModGhpcy5maWxlLCBkYXRhKTsgaGFzaC51cGRhdGUoZGF0YSk7IGlmKHdzMikKd3MyLnNlbmRDb21tYW5kKHsgdHlwZTogJ3Byb2dyZXNzJywgZG9uZTogcHJvZ3Jlc3MsIG5hbWUsIGZpbGVuYW1lOiB0aGlzLmZpbGVuYW1lLCB0b3RhbDogK2hlYWRlcnNbJ2NvbnRlbnQtbGVuZ3RoJ10gfSk7IH0sIG9uQ2xvc2UobmFtZSwgZmlsZSkgeyB0cnkgeyBjb25zb2xlLmxvZyhgb25DbG9zZVsxXSgke25hbWV9LCAke2ZpbGV9KWAsCnRoaXMudXVpZCk7IGxldCBleGlmLCBjYWNoZSwgc2hhMTsgaWYoaGFzaCkgeyBoYXNoLmZpbmFsaXplKCk7IHNoYTEgPSBoYXNoLnRvU3RyaW5nKCk7IH0gaWYodGhpcy5maWxlKSB7IGZzLmNsb3NlU3luYyh0aGlzLmZpbGUpOyB0aGlzLmZpbGUgPSBudWxsOyB9IGlmKHNoYTEpIHsgbGV0IGYgPSB4ID0+ICd1cGxvYWRzLycgKyBzaGExICsgeDsgbGV0CnJldCA9IGxpbmsodGhpcy50ZW1wLCBmKGV4dCkpOyBsZXQgeyBlcnJubyB9ID0gZXJyb3IoKTsgbGV0IGpzb24gPSBmKCcuanNvbicpOyBpZihmcy5leGlzdHNTeW5jKGpzb24pICYmIChjYWNoZSA9IFJlYWRKU09OKGpzb24pKSkgeyBleGlmID0gY2FjaGUuZXhpZjsgfSBlbHNlIHsgaWYoIS8ocG5nfHN2Z3xnaWZ8dGdhKSQvaS50ZXN0KGV4dCkpIHsKdHJ5IHsgZXhpZiA9IFJlYWRFeGlmdG9vbChmKGV4dCkpOyB9IGNhdGNoKGUpIHsgdHJ5IHsgZXhpZiA9IFJlYWRFeGlmdG9vbCh0aGlzLnRlbXApOyB9IGNhdGNoKGUpIHt9IH0gfSBsZXQgb2JqID0geyBmaWxlbmFtZTogdGhpcy5maWxlbmFtZSwgc3RvcmFnZTogZihleHQpLCB1cGxvYWRlZDogRGF0ZS5ub3coKSwgYWRkcmVzcywgZXhpZiB9OwppZighL2pwZT9nJC8udGVzdChleHQpKSB7IEhlaWZDb252ZXJ0KGYoZXh0KSwgZignLmpwZycpKTsgaWYoZnMuZXhpc3RzU3luYyhmKCcuanBnJykpKSBvYmouanBnID0gZignLmpwZycpOyB9IGxldCB3aWR0aCA9ICcnLCBoZWlnaHQgPSAnMjU2JzsgaWYoZXhpZikgeyBjb25zdCB7IEltYWdlU2l6ZSwgSW1hZ2VIZWlnaHQsIEltYWdlV2lkdGggfSA9CmV4aWY7IGxldCBhc3BlY3QgPSBJbWFnZVdpZHRoIC8gSW1hZ2VIZWlnaHQ7IGlmKGFzcGVjdCA+PSAxKSB7IHdpZHRoID0gMjU2OyBoZWlnaHQgPSB3aWR0aCAvIGFzcGVjdDsgfSBlbHNlIHsgLyogaGVpZ2h0ID0gMjU2OyB3aWR0aCA9IGhlaWdodCAqIGFzcGVjdDsqLyB9IH0gTWFnaWNrUmVzaXplKG9iai5qcGcgPz8gZihleHQpLApmKCcudGh1bWIuanBnJyksIG9iai5leGlmPy5Sb3RhdGlvbiA/PyAwLCB3aWR0aCwgaGVpZ2h0KTsgaWYoZnMuZXhpc3RzU3luYyhmKCcudGh1bWIuanBnJykpKSBvYmoudGh1bWJuYWlsID0gZignLnRodW1iLmpwZycpOyBXcml0ZUpTT04oanNvbiwgb2JqKTsgLy8gY29uc29sZS5sb2coYGJ5X3V1aWRgLCBieV91dWlkKTsKY29uc29sZS5sb2coYHV1aWRgLCB3cy51dWlkID8/IHRoaXMudXVpZCk7IGNhY2hlID0gb2JqOyB9IGlmKHJldCA9PSAwIHx8IGVycm5vID09IDE3KSB7IHVubGluayh0aGlzLnRlbXApOyB0aGlzLnRlbXAgPSBudWxsOyB9IH0gY29uc3QgeyBmaWxlbmFtZSB9ID0gdGhpczsgbGV0IHdzMiA9IGJ5X3V1aWRbd3MudXVpZCA/PyB0aGlzLnV1aWRdOwppZih3czIpIHdzMi5zZW5kQ29tbWFuZCh7IHR5cGU6ICd1cGxvYWQnLCAuLi4oY2FjaGUgPz8ge30pLCBmaWxlbmFtZSwgZXhpZiB9KTsgLy8gY29uc29sZS5sb2coYG9uQ2xvc2VbMl0oJHtuYW1lfSwgJHtmaWxlfSlgKTsgfSBjYXRjaChlKSB7IGNvbnNvbGUubG9nKGBvbkNsb3NlIEVSUk9SOmAsIGUubWVzc2FnZSk7IH0gfSwgb25GaW5hbGl6ZSgpCnsgY29uc29sZS5sb2coYG9uRmluYWxpemUoKSBmb3JtIHBhcnNlcmAsIHRoaXMudXVpZCk7IHJlc3AuYm9keSA9IGBkb25lOiAke3Byb2dyZXNzfSBieXRlcyByZWFkXHJcbmA7IH0gfSk7IH0gLy90aHJvdyBuZXcgRXJyb3IoYGh0dHAgJHttZXRob2R9IHJlcXVlc3RgKTsgaWYoIXJlcS5oZWFkZXJzIHx8IHR5cGVvZiByZXEuaGVhZGVycyAhPQonb2JqZWN0JykgY29uc29sZS5sb2coJ05vIGhlYWRlcnMnLCByZXEpOyBjb25zdCB7IGJvZHksIHVybCB9ID0gcmVzcDsgY29uc3QgeyByZWZlcmVyIH0gPSByZXEuaGVhZGVyczsgbGV0IGZpbGUgPSB1cmwucGF0aC5zbGljZSgxKTsgY29uc3QgZGlyID0gcGF0aC5kaXJuYW1lKGZpbGUpOyAvL2ZpbGUucmVwbGFjZSgvXC9bXlwvXSokL2csICcnKTsKaWYoZmlsZS5lbmRzV2l0aCgnLnR4dCcpIHx8IGZpbGUuZW5kc1dpdGgoJy5odG1sJykgfHwgZmlsZS5lbmRzV2l0aCgnLmNzcycpKSB7IHJlc3AuYm9keSA9IFJlYWRGaWxlKGZpbGUpOyB9IGVsc2UgaWYoZmlsZS5lbmRzV2l0aCgnLmpzJykpIHsgbGV0IGZpbGUxID0gZmlsZTsgaWYoL3Fqcy1tb2R1bGVzXC9saWIvLnRlc3QoZmlsZSkgJiYKIS8oZG9tfHV0aWwpXC5qcy8udGVzdChmaWxlKSkgeyBsZXQgZmlsZTIgPSBmaWxlLnJlcGxhY2UoLy4qcWpzLW1vZHVsZXNcLy9nLCAnJyk7IGlmKGZzLmV4aXN0c1N5bmMoZmlsZTIpKSB7IGZpbGUgPSBmaWxlMjsgfSB9IGVsc2UgaWYoIWZzLmV4aXN0c1N5bmMoZmlsZSkpIHsgZm9yKGxldCBkaXIgb2YgWydxdWlja2pzL3Fqcy1tb2R1bGVzJywKJ3F1aWNranMvcWpzLW1vZHVsZXMvbGliJywgJy4nLCAnbGliJ10pIHsgbGV0IGZpbGUyID0gZGlyICsgJy8nICsgZmlsZTsgY29uc29sZS5sb2coJ2luZXhpc3RlbnQgZmlsZScsIGZpbGUsIGZpbGUyLCBmcy5leGlzdHNTeW5jKGZpbGUyKSwgcmVmZXJlcik7IGlmKGZzLmV4aXN0c1N5bmMoZmlsZTIpKSB7IGZpbGUgPSBmaWxlMjsgYnJlYWs7IH0gfQp9IGlmKGZpbGUxICE9IGZpbGUpIHsgLy8gY29uc29sZS5sb2coJ1x4MWJbMzg7NTsyMTRtb25IdHRwXHgxYlswbScsIGZpbGUxLCAnLT4nLCBmaWxlKTsgcmVzcC5zdGF0dXMgPSAzMDI7IHJlc3AuaGVhZGVycyA9IHsgWydMb2NhdGlvbiddOiAnLycgKyBmaWxlIH07IHJldHVybiByZXNwOyB9Ci8vY29uc29sZS5sb2coJ1x4MWJbMzg7NTszM21vbkh0dHBceDFiWzBtJywgZmlsZTEsIGZpbGUpOyAvLyBsZXQgYm9keSA9IFJlYWRGaWxlKGZpbGUpOyBjb25zdCByZSA9IC9eKFxzKihpbXxleClwb3J0W15cbl0qZnJvbSBbJyJdKShbXi4vJyJdKikoWyciXVxzKjtbXHQgXSpcbj8pL2dtOyByZXNwLmJvZHkgPSBib2R5LnJlcGxhY2VBbGwocmUsCihtYXRjaCwgcDEsIHAwLCBwMiwgcDMsIG9mZnNldCkgPT4geyBpZighL1tcL1wuXS8udGVzdChwMikpIHsgbGV0IGZuYW1lID0gYCR7cDJ9LmpzYDsgbGV0IHJlbCA9IHBhdGgucmVsYXRpdmUoZm5hbWUsIGRpcik7IC8vY29uc29sZS5sb2coJ29uSHR0cCcsIHsgbWF0Y2gsIGZuYW1lIH0sIHJlbCk7IC8vIGlmKCFmcy5leGlzdHNTeW5jKCByZWwpKQpyZXR1cm4gYGA7IG1hdGNoID0gW3AxLCByZWwsIHAzXS5qb2luKCcnKTsgLy9jb25zb2xlLmxvZygnYXJncycsIHsgbWF0Y2gsIHAxLCBwMiwgcDMsIG9mZnNldCB9KTsgfSByZXR1cm4gbWF0Y2g7IH0pOyB9IHsgbGV0IHsgYm9keSB9ID0gcmVzcDsgLy9jb25zb2xlLmxvZygnXHgxYlszODs1OzIxMm1vbkh0dHAoMilceDFiWzBtJywgeyBib2R5IH0pOwp9IHJldHVybiByZXNwOyB9LCBvbk1lc3NhZ2Uod3MsIGRhdGEpIHsgY29uc29sZS5sb2coJ29uTWVzc2FnZScsIHdzLCBkYXRhKTsgcmV0dXJuIGNhbGxiYWNrcy5vbk1lc3NhZ2Uod3MsIGRhdGEpOyB9LCAuLi4odXJsICYmIHVybC5ob3N0ID8gdXJsIDoge30pIH0pOyB9KTsgZGVmaW5lKGdsb2JhbFRoaXMsIHsgZ2V0IGNvbm5lY3Rpb25zKCkgewpyZXR1cm4gWy4uLmNvbm5lY3Rpb25zXTsgfSwgZ2V0IGJ5X3V1aWQoKSB7IHJldHVybiBieV91dWlkOyB9LCB1dWlkKGRhdGEpIHsgcmV0dXJuIGJ5X3V1aWRbZGF0YV07IH0gfSk7IE9iamVjdC5hc3NpZ24oZ2xvYmFsVGhpcywgeyByZXBsLCBxdWl0LCBleGl0OiBxdWl0LCBzdGQsIG9zLCBkZWVwLCBmcywgcGF0aCwgUmVhZEpTT04sCldyaXRlSlNPTiwgUmVhZEZpbGUsIFdyaXRlRmlsZSwgUmVhZEJKU09OLCBXcml0ZUJKU09OLCBwYXJzZURhdGUsIGRhdGVUb09iamVjdCwgSGFzaCwgRm9ybVBhcnNlciwgRXhlY1Rvb2wsIEV4ZWN1dGUsIGV4dGVuZEdlbmVyYXRvciwgZXh0ZW5kQXJyYXksIGV4dGVuZEFzeW5jR2VuZXJhdG9yLCBNYXRjaGVyLCBFeGVjVG9vbCwgR2V0TWltZSwKTWF0Y2hlciwgS2V5T3JWYWx1ZU1hdGNoZXIsIEdldFJvb3REaXJlY3RvcmllcywgR2V0RGlyLCBEaXJOYW1lLCBEYXRlU3RyLCBNb2RlU3RyLCBSZWFkRXhpdjIsIFJlYWRFeGlmdG9vbCwgSGVpZkNvbnZlcnQsIE1hZ2lja1Jlc2l6ZSwgRGlyZWN0b3J5LCBuZXQ6IHsgc2V0TG9nLCBMTExfVVNFUiwgTExMX05PVElDRSwgTExMX1dBUk4sCkxMTF9JTkZPLCBjbGllbnQsIHNlcnZlciwgRm9ybVBhcnNlciwgSGFzaCwgUmVzcG9uc2UsIFNvY2tldCB9IH0pOyBkZWxldGUgZ2xvYmFsVGhpcy5ERUJVRzsgY3JlYXRlV1MoIHsgcHJvdG9jb2w6ICd3cycsIGhvc3Q6ICcwLjAuMC4wJywgcG9ydDogODk5OSB9LCB7IG9uRmQoZmQsIHJkLCB3cikgeyAvL2NvbnNvbGUubG9nKCdvbkZkJywgZmQsCnJkLCB3cik7IG9zLnNldFJlYWRIYW5kbGVyKGZkLCByZCk7IG9zLnNldFdyaXRlSGFuZGxlcihmZCwgd3IpOyB9LCBvbkNsb3NlKHdzLCByZWFzb24pIHt9LCBvbk1lc3NhZ2Uod3MsIGRhdGEpIHt9IH0sIHRydWUgKTsgZnVuY3Rpb24gcXVpdCh3aHkpIHsgY29uc29sZS5sb2coYHF1aXQoJyR7d2h5fScpYCk7IGxldCBjZmcgPSB7Cmluc3BlY3RPcHRpb25zOiBjb25zb2xlLm9wdGlvbnMgfTsgV3JpdGVKU09OKGAuJHtiYXNlfS1jb25maWdgLCBjZmcpOyByZXBsLmNsZWFudXAod2h5KTsgfSByZXBsLnJ1blN5bmMoKTsgfSB0cnkgeyBtYWluKC4uLnNjcmlwdEFyZ3Muc2xpY2UoMSkpOyB9IGNhdGNoKGVycm9yKSB7IGNvbnNvbGUubG9nKGBGQUlMOiAke2Vycm9yPy5tZXNzYWdlID8/CmVycm9yfVxuJHtlcnJvcj8uc3RhY2t9YCk7IDE7IHN0ZC5leGl0KDEpOyB9IGZpbmFsbHkgeyB9CgAAAAAAAAAAmIYAAAAAAAAAAAAAAAAAAAAAAACYhgAAAAAAAAAAAAAAAAAAAAAAAJiGAAAAAAAAAAAAAAAAAAAAAAAAmIYAAAAAAAAAAAAAAAAAAAAAAACYhgAAAAAAAAAAAAA",
					"BQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8"
				],
				[
					1,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACYhgAAaW1wb3J0ICogYXMgc3RkIGZyb20gJ3N0ZCc7CmltcG9ydCAqIGFzIG9zIGZyb20gJ29zJzsKaW1wb3J0ICogYXMgZGVlcCBmcm9tICcuL2xpYi9kZWVwLmpzJzsKaW1wb3J0ICogYXMgeG1sIGZyb20gJ3htbCc7CmltcG9ydCAqIGFzIHBhdGggZnJvbSAncGF0aCc7CmltcG9ydCB7IENvbnNvbGUgfSBmcm9tICdjb25zb2xlJzsKaW1wb3J0IHsgRGlyZWN0b3J5LCBCT1RILCBUWVBFX0RJUiwgVFlQRV9MTkssIFRZUEVfUkVHLCBUWVBFX01BU0sgfSBmcm9tICdkaXJlY3RvcnknOwppbXBvcnQgUkVQTCBmcm9tICcuL3F1aWNranMvcWpzLW1vZHVsZXMvbGliL3JlcGwuanMnOwppbXBvcnQgaW5zcGVjdCBmcm9tICcuL2xpYi9vYmplY3RJbnNwZWN0LmpzJzsKaW1wb3J0ICogYXMgVGVybWluYWwgZnJvbSAnLi90ZXJtaW5hbC5qcyc7CmltcG9ydCAqIGFzIGZzIGZyb20gJ2ZzJzsKaW1wb3J0IHsgbGluaywgdW5saW5rLCBlcnJvciwgZm5tYXRjaCwgRk5NX0VYVE1BVENIIH0gZnJvbSAnbWlzYyc7CmltcG9ydCB7IHRvU3RyaW5nLCBkZWZpbmUsIHRvVW5peFRpbWUsIGdldE9wdCwgcmFuZFN0ciwgaXNPYmplY3QsIGlzTnVtZXJpYywgaXNBcnJheUJ1ZmZlciwgZ2xvYiwgR0xPQl9CUkFDRSwgd2FpdEZvciB9IGZyb20gJ3V0aWwnOwppbXBvcnQgeyBzZXRMb2csIExMTF9VU0VSLCBMTExfTk9USUNFLCBMTExfV0FSTiwgTExMX0lORk8sIGNsaWVudCwgc2VydmVyLCBGb3JtUGFyc2VyLCBIYXNoLCBSZXNwb25zZSwgU29ja2V0IH0gZnJvbSAnbmV0JzsKaW1wb3J0IHsgcGFyc2VEYXRlLCBkYXRlVG9PYmplY3QgfSBmcm9tICcuL2RhdGUtaGVscGVycy5qcyc7CmltcG9ydCB7IElmRGVidWcsIExvZ0lmRGVidWcsIFJlYWRGaWxlLCBMb2FkSGlzdG9yeSwgUmVhZEpTT04sIFJlYWRYTUwsIE1hcEZpbGUsIFdyaXRlRmlsZSwgV3JpdGVKU09OLCBXcml0ZVhNTCwgUmVhZEJKU09OLCBXcml0ZUJKU09OLCBGaWx0ZXIsIEZpbHRlckltYWdlcywgU29ydEZpbGVzLCBTdGF0RmlsZXMsIFJlYWRGZCwgRmRSZWFkZXIsIENvcHlUb0NsaXBib2FyZCwgUmVhZENhbGxiYWNrLCBMb2dDYWxsLCBTcGF3biwgRmV0Y2hVUkwgfSBmcm9tICcuL2lvLWhlbHBlcnMuanMnOwppbXBvcnQgeyBwYXJzZURlZ01pblNlYywgcGFyc2VHUFNMb2NhdGlvbiB9IGZyb20gJy4vc3RyaW5nLWhlbHBlcnMuanMnOwppbXBvcnQgeyBoLCBodG1sLCByZW5kZXIsIENvbXBvbmVudCwgdXNlU3RhdGUsIHVzZUxheW91dEVmZmVjdCwgdXNlUmVmIH0gZnJvbSAnLi9saWIvcHJlYWN0Lm1qcyc7CmltcG9ydCByZW5kZXJUb1N0cmluZyBmcm9tICcuL2xpYi9wcmVhY3QtcmVuZGVyLXRvLXN0cmluZy5qcyc7CmltcG9ydCB7IGV4ZWMsIHNwYXduIH0gZnJvbSAnY2hpbGRfcHJvY2Vzcyc7CmltcG9ydCB7IEV4ZWN1dGUgfSBmcm9tICcuL29zLWhlbHBlcnMuanMnOwppbXBvcnQgdHJrbCBmcm9tICcuL2xpYi90cmtsLmpzJzsKaW1wb3J0IHsgdGFrZSB9IGZyb20gJy4vbGliL2l0ZXJhdG9yL2hlbHBlcnMuanMnOwppbXBvcnQgeyBleHRlbmRBcnJheSwgZXh0ZW5kR2VuZXJhdG9yLCBleHRlbmRBc3luY0dlbmVyYXRvciB9IGZyb20gJ3V0aWwnOwppbXBvcnQgeyBSZWN1cnNpdmVEaXJJdGVyYXRvciB9IGZyb20gJy4vZGlyLWhlbHBlcnMuanMnOwoKZXh0ZW5kQXJyYXkoKTsKZXh0ZW5kR2VuZXJhdG9yKCk7CmV4dGVuZEdlbmVyYXRvcihPYmplY3QuZ2V0UHJvdG90eXBlT2YobmV3IE1hcCgpLmtleXMoKSkpOwpleHRlbmRHZW5lcmF0b3IoT2JqZWN0LmdldFByb3RvdHlwZU9mKG5ldyBEaXJlY3RvcnkoJy4nKSkpOwpleHRlbmRBc3luY0dlbmVyYXRvcigpOwoKZ2xvYmFsVGhpcy5mcyA9IGZzOwpnbG9iYWxUaGlzLmxvZ0ZpbHRlciA9IC8od3Nfc2V0X3RpbWVvdXQ6IG9uIGltbW9ydGFsIHN0cmVhbXxVbmhhbmRsZWR8UFJPWFktfFZIT1NUX0NFUlRfQUdJTkd8QklORHxFVkVOVF9XQUlUfFdSSVRBQkxFKS87Cgp0cmtsLnByb3BlcnR5KGdsb2JhbFRoaXMsICdsb2dMZXZlbCcpLnN1YnNjcmliZSh2YWx1ZSA9PgogIHNldExvZyh2YWx1ZSwgKGxldmVsLCBtZXNzYWdlKSA9PiB7CiAgICBpZigvX19sd3N8c2VydmVfKHJlc29sdmVkfGdlbmVyYXRvcnxwcm9taXNlfHJlc3BvbnNlKXxYWGJsKFwoWzEyM11cKS4qd3JpdGFibGV8eFwoWy9dXCkuKldSSVRFQUJMRSl8bHdzXy8udGVzdChtZXNzYWdlKSkgcmV0dXJuOwogICAgaWYobGV2ZWwgPT0gTExMX0lORk8gJiYgIS9wcm94eS8udGVzdChtZXNzYWdlKSkgcmV0dXJuOwogICAgaWYobG9nRmlsdGVyLnRlc3QobWVzc2FnZSkpIHJldHVybjsKCiAgICAvL2lmKHBhcmFtcy5kZWJ1ZyB8fCBsZXZlbCA8PSBMTExfV0FSTikKICAgIG91dCgKICAgICAgKFsnRVJSJywgJ1dBUk4nLCAnTk9USUNFJywgJ0lORk8nLCAnREVCVUcnLCAnUEFSU0VSJywgJ0hFQURFUicsICdFWFQnLCAnQ0xJRU5UJywgJ0xBVEVOQ1knLCAnTUlOTkVUJywgJ1RIUkVBRCddW01hdGgubG9nMihsZXZlbCldID8/IGxldmVsICsgJycpLnBhZEVuZCg4KSArCiAgICAgICAgbWVzc2FnZS5yZXBsYWNlKC9cbi9nLCAnXFxuJykucmVwbGFjZSgvXHIvZywgJ1xccicpCiAgICApOwogIH0pCik7Cgphc3luYyBmdW5jdGlvbiBBc3luY0NvbGxlY3QoaXRlcikgewogIGxldCByZXQgPSBbXTsKICBmb3IgYXdhaXQobGV0IGNodW5rIG9mIGF3YWl0IGl0ZXIpIHJldC5wdXNoKGNodW5rKTsKICByZXR1cm4gcmV0Owp9CgpmdW5jdGlvbiBFeGVjVG9vbChjbWQsIC4uLmFyZ3MpIHsKICBsZXQgY2hpbGQgPSBzcGF3bihjbWQsIGFyZ3MsIHsgc3RkaW86IFswLCAncGlwZScsIDJdIH0pOwogIGxldCBbc3RkaW4sIHN0ZG91dCwgc3RkZXJyXSA9IGNoaWxkLnN0ZGlvOwogIGxldCByOwogIGxldCBiID0gbmV3IEFycmF5QnVmZmVyKDEwMjQpOwogIHIgPSBjaGlsZC53YWl0KCk7CiAgLy8gY29uc29sZS5sb2coJ0V4ZWNUb29sJywgeyBhcmdzLCBjaGlsZCB9KTsKCiAgciA9IG9zLnJlYWQoc3Rkb3V0LCBiLCAwLCAxMDI0KTsKICBsZXQgZGF0YSA9IGIuc2xpY2UoMCwgcik7CiAgbGV0IHN0ciA9IHRvU3RyaW5nKGRhdGEpOwoKICByZXR1cm4gc3RyOwp9CgpmdW5jdGlvbiBHZXRNaW1lKGZpbGUpIHsKICBsZXQgb3V0cHV0ID0gRXhlY1Rvb2woJ2ZpbGUnLCAnLWknLCBmaWxlKTsKICBvdXRwdXQgPSBvdXRwdXQucmVwbGFjZSgvW1xyXG5dKiQvZywgJycpOwogIG91dHB1dCA9IG91dHB1dC5yZXBsYWNlKG5ldyBSZWdFeHAoZmlsZSArICc6XFxzKycpLCAnJyk7CiAgb3V0cHV0ID0gb3V0cHV0LnJlcGxhY2UoL1w7XHMqLiovZywgJycpOwogIHJldHVybiBvdXRwdXQ7Cn0KCmZ1bmN0aW9uIE1hdGNoZXIocGF0dGVybiwgdCA9IGFyZyA9PiBhcmcpIHsKICByZXR1cm4gKC4uLmFyZ3MpID0+IHBhdHRlcm4gPT0gdCguLi5hcmdzKSB8fCAwID09IGZubWF0Y2gocGF0dGVybiwgdCguLi5hcmdzKSwgRk5NX0VYVE1BVENIKTsKfQoKZnVuY3Rpb24gS2V5T3JWYWx1ZU1hdGNoZXIocGF0dGVybikgewogIGxldCBtYXRjaGVyID0gTWF0Y2hlcihwYXR0ZXJuKTsKICByZXR1cm4gKFtrZXksIHZhbHVlXSkgPT4gbWF0Y2hlcihrZXkpIHx8IG1hdGNoZXIodmFsdWUpOwp9CgpmdW5jdGlvbiBHZXRSb290RGlyZWN0b3JpZXMocGF0dGVybiA9ICcqJykgewogIHJldHVybiBhbGxvd2VkRGlycy5rZXlzKCkuZmlsdGVyKE1hdGNoZXIocGF0dGVybikpOwp9Cgpjb25zdCBNYWtlVVVJRCA9IChybmcgPSBNYXRoLnJhbmRvbSkgPT4gWzgsIDQsIDQsIDQsIDEyXS5tYXAobiA9PiByYW5kU3RyKG4sICcwMTIzNDU2Nzg5YWJjZGVmJyksIHJuZykuam9pbignLScpOwoKY29uc3QgZGVmYXVsdERpcnMgPSAoZ2xvYmFsVGhpcy5kZWZhdWx0RGlycyA9IFsKICAnLicsCiAgLi4uZ2xvYignLi4vKi9lYWdsZScpLAogICcuL3VwbG9hZHMvKi57c2NoLGJyZCxsYnJ9JywKICAnL21udC9leHRleHQvUGhvdG9zLypBUFBMRS8qLntKUEcsUE5HLEdJRixBQUUsTU9WLEhFSUMsTVA0LFdFQlB9JywKICBbJy9ob21lL3JvbWFuL0JpbGRlcicsIG5ldyBSZWdFeHAoJy4oanBnfGpwZWd8cG5nfGhlaWN8dGlmfHRpZmYpJCcsICdpJyldCl0pOwoKY29uc3QgYWxsb3dlZERpcnMgPSAoZ2xvYmFsVGhpcy5hbGxvd2VkRGlycyA9IG5ldyBNYXAoCiAgZGVmYXVsdERpcnMKICAgIC5tYXAoZGQgPT4gR2V0RGlyKEFycmF5LmlzQXJyYXkoZGQpID8gZGRbMF0gOiBkZCkpCiAgICAubWFwKGQgPT4gcGF0aC5yZXNvbHZlKGQpKQogICAgLm1hcChkID0+IHBhdGgucmVsYXRpdmUoZCkpCiAgICAubWFwKGQgPT4gW0Rpck5hbWUoZCksIGRdKQopKTsKCmZ1bmN0aW9uIEdldERpcihkaXIpIHsKICBsZXQgYSA9IHBhdGgudG9BcnJheShkaXIpOwogIGxldCBpID0gYS5maW5kSW5kZXgobiA9PiAvWyp7fV0vLnRlc3QobikpOwogIHJldHVybiBpICE9IC0xID8gcGF0aC5zbGljZShkaXIsIDAsIGkpIDogZGlyOwp9CgpmdW5jdGlvbiBEaXJOYW1lKG5hbWUpIHsKICBsZXQgcCA9IHBhdGgucmVsYXRpdmUobmFtZSk7CgogIHAgPSBwYXRoLnNsaWNlKAogICAgcCwKICAgIHBhdGgudG9BcnJheShwKS5maW5kSW5kZXgoaXQgPT4gaXQgIT0gJy4uJykKICApOwogIHJldHVybiBwOwp9CmZ1bmN0aW9uIERhdGVTdHIoZGF0ZSkgewogIGxldCBzdHIgPSBkYXRlLnRvSVNPU3RyaW5nKCk7CiAgbGV0IHRpID0gc3RyLmluZGV4T2YoJ1QnKTsKICByZXR1cm4gKAogICAgc3RyLnN1YnN0cmluZygwLCB0aSkgLyoucmVwbGFjZSgvLS9nLCAnJykqLyArICcgJyArIHN0ci5zdWJzdHJpbmcodGkgKyAxLCB0aSArIDEgKyA4KSAvLy5yZXBsYWNlKC86L2csICcnKQogICk7Cn0KCmZ1bmN0aW9uIE1vZGVTdHIobW9kZSkgewogIHJldHVybiAoCiAgICAobW9kZSAmICgwbzEyMDAwMCA9PSAwbzEyMDAwMCkgPyAnbCcgOiBtb2RlICYgMG80MDAwMCA/ICdkJyA6ICctJykgKwogICAgKG1vZGUgJiAwYjEwMDAwMDAwMCA/ICdyJyA6ICctJykgKwogICAgKG1vZGUgJiAwYjAxMDAwMDAwMCA/ICd3JyA6ICctJykgKwogICAgKG1vZGUgJiAwYjAwMTAwMDAwMCA/ICd4JyA6ICctJykgKwogICAgKG1vZGUgJiAwYjEwMDAwMCA/ICdyJyA6ICctJykgKwogICAgKG1vZGUgJiAwYjAxMDAwMCA/ICd3JyA6ICctJykgKwogICAgKG1vZGUgJiAwYjAwMTAwMCA/ICd4JyA6ICctJykgKwogICAgKG1vZGUgJiAwYjEwMCA/ICdyJyA6ICctJykgKwogICAgKG1vZGUgJiAwYjAxMCA/ICd3JyA6ICctJykgKwogICAgKG1vZGUgJiAwYjAwMSA/ICd4JyA6ICctJykKICApOwp9Cgpjb25zdCBIVE1MUGFnZSA9ICh7IHRpdGxlLCBzdHlsZSwgc2NyaXB0cyA9IFtdLCBjaGlsZHJlbiwgLi4ucHJvcHMgfSkgPT4gewogIHJldHVybiBoKCdodG1sJywge30sIFsKICAgIGgoCiAgICAgICdoZWFkJywKICAgICAge30sCiAgICAgIFsKICAgICAgICBoKCd0aXRsZScsIHt9LCBbdGl0bGVdKSwKICAgICAgICAuLi4oc3R5bGUgPyBbaCgnc3R5bGUnLCB7IHR5cGU6ICd0ZXh0L2NzcycgfSwgW3N0eWxlXSldIDogW10pLAogICAgICAgIGgoCiAgICAgICAgICAnbGluaycsCiAgICAgICAgICB7CiAgICAgICAgICAgIHJlbDogJ3N0eWxlc2hlZXQnLAogICAgICAgICAgICBocmVmOiAnc3RhdGljL2Nzcy9saXN0LmNzcycKICAgICAgICAgIH0sCiAgICAgICAgICBbXQogICAgICAgICkKICAgICAgXS5jb25jYXQoc2NyaXB0cy5tYXAoc2NyaXB0ID0+IGgoJ3NjcmlwdCcsIHsgdHlwZTogJ21vZHVsZScsIHNyYzogc2NyaXB0IH0pKSkKICAgICksCiAgICBoKCdib2R5Jywge30sIGNoaWxkcmVuID8/IFtdKQogIF0pOwp9OwoKY29uc3QgRmlsdGVyRm9ybSA9ICh7IC4uLnByb3BzIH0pID0+CiAgaCgnZm9ybScsIHsgYWN0aW9uOiAnZmlsZScsIG1ldGhvZDogJ1BPU1QnIH0sIFsKICAgIGgoCiAgICAgICdpbnB1dCcsCiAgICAgIHsKICAgICAgICB0eXBlOiAndGV4dCcsCiAgICAgICAgc2l6ZTogMjAsCiAgICAgICAgbmFtZTogJ2ZpbHRlcicsCiAgICAgICAgdmFsdWU6ICcuKicgLyosCiAgICAgICAgICBvbmNoYW5nZTogZSA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdvbmNoYW5nZScsIGUpOwogICAgICAgICAgfSovCiAgICAgIH0sCiAgICAgIFtdCiAgICApLAogICAgaCgnaW5wdXQnLCB7IHR5cGU6ICdzdWJtaXQnLCB2YWx1ZTogJ1N1Ym1pdCcsIGNsYXNzOiAnaGlkZGVuJyB9LCBbXSkKICBdKTsKCmNvbnN0IEhUTUxUYWJsZSA9ICh7IHJvd3MsIC4uLnByb3BzIH0pID0+IGgoJ3RhYmxlJywgcHJvcHMsIHJvd3MpOwpjb25zdCBIVE1MVGFibGVSb3cgPSAoeyBjb2x1bW5zLCAuLi5wcm9wcyB9KSA9PiBoKCd0cicsIHByb3BzLCBjb2x1bW5zKTsKY29uc3QgSFRNTFRhYmxlQ29sdW1uID0gKHsgY29sdW1ucywgY2hpbGRyZW4sIHRhZyA9ICd0ZCcsIC4uLnByb3BzIH0pID0+IGgodGFnLCBwcm9wcywgY2hpbGRyZW4pOwoKY29uc3QgRmlsZUxpbmsgPSAoeyBmaWxlLCAuLi5wcm9wcyB9KSA9PiB7CiAgcmV0dXJuIGgoJ2EnLCB7IGhyZWY6ICdmaWxlL3VwbG9hZHMvJyArIGZpbGUgfSwgW2ZpbGVdKTsKfTsKY29uc3QgRmlsZU9iamVjdCA9ICh7IGZpbGUsIHN0YXQgPSB7fSwgLi4ucHJvcHMgfSkgPT4gewogIHN0YXQgPz89IGZzLmxzdGF0U3luYygndXBsb2Fkcy8nICsgZmlsZSk7CiAgLy8gY29uc29sZS5sb2coJ0ZpbGVPYmplY3QnLCB7IGZpbGUsIHN0YXQgfSk7CiAgbGV0IGlzRGlyID0gc3RhdC5pc0RpcmVjdG9yeSgpOwoKICByZXR1cm4gaChIVE1MVGFibGVSb3csIHt9LCBbCiAgICBoKEhUTUxUYWJsZUNvbHVtbiwgeyBjbGFzczogJ21vZGUnIH0sIFsKICAgICAgLy8oc3RhdC5tb2RlICYgMGIxMTExMTExMTEpLnRvU3RyaW5nKDgpLAogICAgICBNb2RlU3RyKHN0YXQubW9kZSkKICAgIF0pLAogICAgaChIVE1MVGFibGVDb2x1bW4sIHsgY2xhc3M6ICdmaWxlJyB9LCBbaChGaWxlTGluaywgeyBmaWxlOiBmaWxlICsgKGlzRGlyID8gJy8nIDogJycpIH0sIFtdKV0pLAogICAgaChIVE1MVGFibGVDb2x1bW4sIHsgY2xhc3M6ICdzaXplJyB9LCBbc3RhdC5zaXplICsgJyddKSwKICAgIGgoSFRNTFRhYmxlQ29sdW1uLCB7IGNsYXNzOiAnZGF0ZScgfSwgW0RhdGVTdHIobmV3IERhdGUoc3RhdC5hdGltZSkpXSkKICBdKTsKfTsKCmNvbnN0IEZpbGVUYWJsZSA9ICh7IGZpbGVzLCAuLi5wcm9wcyB9KSA9PiB7CiAgLy9jb25zb2xlLmxvZygnRmlsZVRhYmxlJywgZmlsZXMpOwoKICBsZXQgZmllbGRzID0gWydtb2RlJywgJ2ZpbGUnLCAnc2l6ZScsICdhdGltZSddOwoKICBmaWxlcyA9IGZpbGVzLnNvcnQoKGEsIGIpID0+IGEuZmlsZS5sb2NhbGVDb21wYXJlKGIuZmlsZSkpOwoKICByZXR1cm4gaCgKICAgIEhUTUxUYWJsZSwKICAgIHsKICAgICAgLi4ucHJvcHMsCiAgICAgIGNlbGxzcGFjaW5nOiAwLAogICAgICBjZWxscGFkZGluZzogMCwKICAgICAgYm9yZGVyOiAwLAogICAgICByb3dzOiBbCiAgICAgICAgaCgKICAgICAgICAgIEhUTUxUYWJsZVJvdywKICAgICAgICAgIHsKICAgICAgICAgICAgY29sdW1uczogZmllbGRzLm1hcChmaWVsZCA9PiBoKEhUTUxUYWJsZUNvbHVtbiwgeyB0YWc6ICd0aCcgfSwgW2ZpZWxkXSkpCiAgICAgICAgICB9LAogICAgICAgICAgW10KICAgICAgICApCiAgICAgIF0uY29uY2F0KGZpbGVzLm1hcChmaWxlID0+IGgoRmlsZU9iamVjdCwgZmlsZSwgW10pKSkKICAgIH0sCiAgICBbXQogICk7Cn07CgpmdW5jdGlvbiBSZWFkRXhpdjIoZmlsZSkgewogIGNvbnNvbGUubG9nKCdSZWFkRXhpdjInLCBmaWxlKTsKICBsZXQgW3JkZiwgc3Rkb3V0XSA9IG9zLnBpcGUoKTsKICBvcy5leGVjKFsnZXhpdjInLCAnLWUnLCAnWC0nLCAnZXgnLCBmaWxlXSwgeyBzdGRvdXQgfSk7CiAgb3MuY2xvc2Uoc3Rkb3V0KTsKICBsZXQgeG1wZGF0ID0gZnMucmVhZEFsbFN5bmMocmRmKTsKICBmcy5jbG9zZVN5bmMocmRmKTsKICAvLyBjb25zb2xlLmxvZygneG1wZGF0JywgeG1wZGF0KTsKICBsZXQgeG1wID0geG1sLnJlYWQoeG1wZGF0KTsKICAvLyBjb25zb2xlLmxvZygneG1wJywgeG1wKTsKICBsZXQgZmxhdCA9IE9iamVjdC5mcm9tRW50cmllcygKICAgIGRlZXAKICAgICAgLmZsYXR0ZW4oeG1wLCBbXSkKICAgICAgLmZpbHRlcigoW2ssIHZdKSA9PiB2ICE9PSAnJyAmJiAvYXR0cmlidXRlcy4qOi8udGVzdChrKSAmJiAhL1wueG1sbnMvLnRlc3QoaykgJiYgIWlzT2JqZWN0KHYpKQogICAgICAuZmlsdGVyKChbaywgdl0pID0+IC8oR1BTfFtYWV1EaW18W1hZXVJlc3xEYXRlJHxNYWtlJHxNb2RlbCQpLy50ZXN0KGspKQogICAgICAubWFwKChbaywgdl0pID0+IFtrLnJlcGxhY2UoLy4qXC5hdHRyaWJ1dGVzXC4vZywgJycpLCB2XSkKICAgICAgLnNvcnQoKGEsIGIpID0+IGFbMF0ubG9jYWxlQ29tcGFyZShiWzBdKSkKICAgICAgLm1hcCgoW2ssIHZdKSA9PiBbaywgaXNOYU4oK3YpID8gKGlzTmFOKERhdGUucGFyc2UodikpID8gdiA6IG5ldyBEYXRlKHYpKSA6ICt2XSkKICApOwogIHJldHVybiBmbGF0Owp9CgpmdW5jdGlvbiBSZWFkRXhpZnRvb2woZmlsZSkgewogIGNvbnNvbGUubG9nKCdSZWFkRXhpZnRvb2wnLCBmaWxlKTsKCiAgbGV0IFtyZXQsIG91dF0gPSBFeGVjdXRlKCdleGlmdG9vbCcsICctUycsICctZWUnLCBmaWxlKTsKCiAgbGV0IGEgPSBvdXQuc3BsaXQoL1xyP1xuL2cpLmZpbHRlcihsID0+IGwgIT0gJycpOwoKICBhID0gYS5tYXAobGluZSA9PiBbbGluZSwgbGluZS5pbmRleE9mKCc6ICcpXSkubWFwKChbbGluZSwgaWR4XSkgPT4gW2xpbmUuc2xpY2UoMCwgaWR4KSwgbGluZS5zbGljZShpZHggKyAyKV0pOwogIGxldCBvID0gT2JqZWN0LmZyb21FbnRyaWVzKGEpOwoKICAvL2NvbnNvbGUubG9nKCdSZWFkRXhpZnRvb2wnLG8pOwogIHJldHVybiBvOwp9CgpmdW5jdGlvbiBIZWlmQ29udmVydChzcmMsIGRzdCwgcXVhbGl0eSA9IDEwMCkgewogIGNvbnNvbGUubG9nKCdIZWlmQ29udmVydCcsIHNyYywgZHN0KTsKICBsZXQgYXJncyA9IFsnaGVpZi1jb252ZXJ0JywgJy1xJywgcXVhbGl0eSArICcnLCBzcmMsIGRzdF07CiAgbGV0IFtyZXQsIG91dF0gPSBFeGVjdXRlKC4uLmFyZ3MpOwoKICBjb25zb2xlLmxvZygnSGVpZkNvbnZlcnQnLCB7IGFyZ3MsIHJldCwgb3V0IH0pOwogIHJldHVybiBbcmV0LCBvdXRdOwp9CgpmdW5jdGlvbiBNYWdpY2tSZXNpemUoc3JjLCBkc3QsIHJvdGF0ZSA9IDAsIHdpZHRoLCBoZWlnaHQpIHsKICBjb25zb2xlLmxvZygnTWFnaWNrUmVzaXplJywgewogICAgd2lkdGgsCiAgICBoZWlnaHQsCiAgICBkc3QsCiAgICByb3RhdGUKICB9KTsKICBsZXQgYXJncyA9IFsnY29udmVydCcsIHNyYywgJy1yZXNpemUnLCB3aWR0aCArICd4JyArIGhlaWdodCwgLi4uKHJvdGF0ZSA/IFsnLXJvdGF0ZScsICctJyArIHJvdGF0ZV0gOiBbXSksIGRzdF07CiAgbGV0IFtyZXQsIG91dF0gPSBFeGVjdXRlKC4uLmFyZ3MpOwoKICBjb25zb2xlLmxvZygnTWFnaWNrUmVzaXplJywgeyBhcmdzLCByZXQsIG91dCB9KTsKICByZXR1cm4gW3JldCwgb3V0XTsKfQoKZnVuY3Rpb24gbWFpbiguLi5hcmdzKSB7CiAgY29uc3QgYmFzZSA9IHBhdGguYmFzZW5hbWUoc2NyaXB0QXJnc1swXSwgJy5qcycpLnJlcGxhY2UoL1wuW2Etel0qJC8sICcnKTsKICBjb25zdCBjb25maWcgPSBSZWFkSlNPTihgLiR7YmFzZX0tY29uZmlnYCkgPz8ge307CgogIGdsb2JhbFRoaXMuY29uc29sZSA9IG5ldyBDb25zb2xlKHsKICAgIGluc3BlY3RPcHRpb25zOiB7CiAgICAgIGNvbXBhY3Q6IDIsCiAgICAgIGRlcHRoOiBJbmZpbml0eSwKICAgICAgY3VzdG9tSW5zcGVjdDogdHJ1ZSwKICAgICAgbWF4QXJyYXlMZW5ndGg6IDIwMCwKICAgICAgcHJvdG9DaGFpbjogdHJ1ZQogICAgfQogIH0pOwogIGxldCBwYXJhbXMgPSBnZXRPcHQoCiAgICB7CiAgICAgIHZlcmJvc2U6IFtmYWxzZSwgKGEsIHYpID0+ICh2IHwgMCkgKyAxLCAndiddLAogICAgICBsaXN0ZW46IFtmYWxzZSwgbnVsbCwgJ2wnXSwKICAgICAgY29ubmVjdDogW2ZhbHNlLCBudWxsLCAnYyddLAogICAgICBjbGllbnQ6IFtmYWxzZSwgbnVsbCwgJ0MnXSwKICAgICAgc2VydmVyOiBbZmFsc2UsIG51bGwsICdTJ10sCiAgICAgIGRlYnVnOiBbZmFsc2UsIG51bGwsICd4J10sCiAgICAgIHRsczogW2ZhbHNlLCBudWxsLCAndCddLAogICAgICAnbm8tdGxzJzogW2ZhbHNlLCAodiwgcHYsIG8pID0+ICgoby50bHMgPSBmYWxzZSksIHRydWUpLCAnVCddLAogICAgICBhZGRyZXNzOiBbdHJ1ZSwgbnVsbCwgJ2EnXSwKICAgICAgcG9ydDogW3RydWUsIG51bGwsICdwJ10sCiAgICAgICdzc2wtY2VydCc6IFt0cnVlLCBudWxsXSwKICAgICAgJ3NzbC1wcml2YXRlLWtleSc6IFt0cnVlLCBudWxsXSwKICAgICAgJ0AnOiAnYWRkcmVzcyxwb3J0JwogICAgfSwKICAgIGFyZ3MKICApOwogIGlmKHBhcmFtc1snbm8tdGxzJ10gPT09IHRydWUpIHBhcmFtcy50bHMgPSBmYWxzZTsKCiAgY29uc3QgeyBhZGRyZXNzID0gJzAuMC4wLjAnLCBwb3J0ID0gODk5OSwgJ3NzbC1jZXJ0Jzogc3NsQ2VydCA9ICdsb2NhbGhvc3QuY3J0JywgJ3NzbC1wcml2YXRlLWtleSc6IHNzbFByaXZhdGVLZXkgPSAnbG9jYWxob3N0LmtleScgfSA9IHBhcmFtczsKICBjb25zdCBsaXN0ZW4gPSBwYXJhbXMuY29ubmVjdCAmJiAhcGFyYW1zLmxpc3RlbiA/IGZhbHNlIDogdHJ1ZTsKICBjb25zdCBpc19zZXJ2ZXIgPSAhcGFyYW1zLmNsaWVudCB8fCBwYXJhbXMuc2VydmVyOwoKICBsZXQgbmFtZSA9IHByb2Nlc3MuZW52WydOQU1FJ10gPz8gYmFzZTsKCiAgbmFtZSA9IG5hbWUKICAgIC5yZXBsYWNlKC8uKlwvLywgJycpCiAgICAucmVwbGFjZSgvLS9nLCAnICcpCiAgICAucmVwbGFjZSgvXC5bXlwvLl0qJC8sICcnKTsKCiAgbGV0IFtwcmVmaXgsIHN1ZmZpeF0gPSBuYW1lLnNwbGl0KCcgJyk7CgogIGxldCByZXBsID0gbmV3IFJFUEwoYFx4MWJbMzg7NTsxNjVtJHtwcmVmaXh9IFx4MWJbMzg7NTszOW0ke3N1ZmZpeH1ceDFiWzBtYCwgZmFsc2UpOwogIGNvbnN0IGhpc3RmaWxlID0gJy51cGxvYWQtc2VydmVyLWhpc3RvcnknOwogIHJlcGwuaGlzdG9yeUxvYWQoaGlzdGZpbGUsIGZhbHNlKTsKICByZXBsLmxvYWRTYXZlT3B0aW9ucygpOwogIHJlcGwuZGlyZWN0aXZlcy5pID0gWwogICAgKG1vZHVsZSwgLi4uYXJncykgPT4gewogICAgICBjb25zb2xlLmxvZygnYXJncycsIGFyZ3MpOwogICAgICB0cnkgewogICAgICAgIHJldHVybiByZXF1aXJlKG1vZHVsZSk7CiAgICAgIH0gY2F0Y2goZSkge30KICAgICAgaW1wb3J0KG1vZHVsZSkudGhlbihtID0+IChnbG9iYWxUaGlzW21vZHVsZV0gPSBtKSk7CiAgICB9LAogICAgJ2ltcG9ydCBtb2R1bGUnCiAgXTsKCiAgbGV0IHsgbG9nIH0gPSBjb25zb2xlOwogIHJlcGwuc2hvdyA9IGFyZyA9PiBzdGQucHV0cygodHlwZW9mIGFyZyA9PSAnc3RyaW5nJyA/IGFyZyA6IGluc3BlY3QoYXJnLCBnbG9iYWxUaGlzLmNvbnNvbGUub3B0aW9ucykpICsgJ1xuJyk7CgogIHJlcGwuY2xlYW51cCA9ICgpID0+IHsKICAgIHJlcGwucmVhZGxpbmVSZW1vdmVQcm9tcHQoKTsKICAgIFRlcm1pbmFsLm1vdXNldHJhY2tpbmdEaXNhYmxlKCk7CiAgICBsZXQgbnVtTGluZXMgPSByZXBsLmhpc3RvcnlTYXZlKGhpc3RmaWxlKTsKCiAgICByZXBsLnByaW50U3RhdHVzKGBFWElUICh3cm90ZSAke251bUxpbmVzfSBoaXN0b3J5IGVudHJpZXMpYCwgZmFsc2UpOwoKICAgIHN0ZC5leGl0KDApOwogIH07CgogIGNvbnNvbGUub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oCiAgICByZXBsLmluc3BlY3RPcHRpb25zLAogICAgeyAuLi5jb25zb2xlLm9wdGlvbnMgfSwKICAgIHsKICAgICAgZGVwdGg6IEluZmluaXR5LAogICAgICBjb21wYWN0OiAxCiAgICB9CiAgKTsKICByZXBsLmluc3BlY3RPcHRpb25zLmhpZGVLZXlzLnB1c2goU3ltYm9sLmluc3BlY3QpOwoKICBjb25zb2xlLmxvZyA9ICguLi5hcmdzKSA9PiByZXBsLnByaW50U3RhdHVzKCgpID0+IGxvZyhjb25zb2xlLmNvbmZpZyhyZXBsLmluc3BlY3RPcHRpb25zKSwgLi4uYXJncykpOwoKICBsZXQgbG9nRmlsZSA9CiAgICB7CiAgICAgIHB1dHMocykgewogICAgICAgIHJlcGwucHJpbnRTdGF0dXMoKCkgPT4gc3RkLnB1dHMocykpOwogICAgICB9CiAgICB9ID8/IHN0ZC5vcGVuKCd1cGxvYWQtc2VydmVyLmxvZycsICd3KycpOwoKICBsZXQgY29ubmVjdGlvbnMgPSBuZXcgU2V0KCk7CiAgbGV0IGJ5X3V1aWQgPSB7fTsKCiAgZnVuY3Rpb24gUGFyc2VCb2R5KGdlbikgewogICAgbGV0IHByb20sCiAgICAgIG8gPSAnJywKICAgICAgeDsKCiAgICB3aGlsZSgoeCA9IGdlbi5uZXh0KCkpKSB7CiAgICAgIGxldCB7IHZhbHVlLCBkb25lIH0gPSB4OwogICAgICBvICs9IHZhbHVlOwogICAgfQogICAgcmV0dXJuIG87CiAgfQoKICBjb25zdCBjcmVhdGVXUyA9IChnbG9iYWxUaGlzLmNyZWF0ZVdTID0gKHVybCwgY2FsbGJhY2tzLCBsaXN0ZW4pID0+IHsKICAgIC8vY29uc29sZS5sb2coJ2NyZWF0ZVdTJywgeyB1cmwsIGNhbGxiYWNrcywgbGlzdGVuIH0pOwoKICAgIGdsb2JhbFRoaXMub3V0ID0gcyA9PiBsb2dGaWxlLnB1dHMocyArICdcbicpOwoKICAgIGxvZ0xldmVsID0gKHBhcmFtcy5kZWJ1ZyA/IExMTF9VU0VSIDogMCkgfCAoKChwYXJhbXMuZGVidWcgPyBMTExfSU5GTyA6IExMTF9XQVJOKSA8PCAxKSAtIDEpOwogICAgY29uc29sZS5sb2coJ2NyZWF0ZVdTJywgeyBsb2dMZXZlbCB9KTsKCiAgICByZXR1cm4gW2NsaWVudCwgc2VydmVyXVsrbGlzdGVuXSh7CiAgICAgIGJsb2NrOiBmYWxzZSwKICAgICAgdGxzOiBwYXJhbXMudGxzLAogICAgICBzc2xDZXJ0LAogICAgICBzc2xQcml2YXRlS2V5LAogICAgICBtaW1ldHlwZXM6IFsKICAgICAgICBbJy5zdmd6JywgJ2FwcGxpY2F0aW9uL2d6aXAnXSwKICAgICAgICBbJy5tanMnLCAnYXBwbGljYXRpb24vamF2YXNjcmlwdCddLAogICAgICAgIFsnLmpzJywgJ2FwcGxpY2F0aW9uL2phdmFzY3JpcHQnXSwKICAgICAgICBbJy53YXNtJywgJ2FwcGxpY2F0aW9uL3dhc20nXSwKICAgICAgICBbJy5lb3QnLCAnYXBwbGljYXRpb24vdm5kLm1zLWZvbnRvYmplY3QnXSwKICAgICAgICBbJy5saWInLCAnYXBwbGljYXRpb24veC1hcmNoaXZlJ10sCiAgICAgICAgWycuYnoyJywgJ2FwcGxpY2F0aW9uL3gtYnppcDInXSwKICAgICAgICBbJy5naXRpZ25vcmUnLCAndGV4dC9wbGFpbiddLAogICAgICAgIFsnLmNtYWtlJywgJ3RleHQvcGxhaW4nXSwKICAgICAgICBbJy5oZXgnLCAndGV4dC9wbGFpbiddLAogICAgICAgIFsnLm1kJywgJ3RleHQvcGxhaW4nXSwKICAgICAgICBbJy5wYnhwcm9qJywgJ3RleHQvcGxhaW4nXSwKICAgICAgICBbJy53YXQnLCAndGV4dC9wbGFpbiddLAogICAgICAgIFsnLmMnLCAndGV4dC94LWMnXSwKICAgICAgICBbJy5oJywgJ3RleHQveC1jJ10sCiAgICAgICAgWycuY3BwJywgJ3RleHQveC1jKysnXSwKICAgICAgICBbJy5ocHAnLCAndGV4dC94LWMrKyddLAogICAgICAgIFsnLmZpbHRlcnMnLCAndGV4dC94bWwnXSwKICAgICAgICBbJy5wbGlzdCcsICd0ZXh0L3htbCddLAogICAgICAgIFsnLnN0b3J5Ym9hcmQnLCAndGV4dC94bWwnXSwKICAgICAgICBbJy52Y3hwcm9qJywgJ3RleHQveG1sJ10sCiAgICAgICAgWycuYmF0JywgJ3RleHQveC1tc2Rvcy1iYXRjaCddLAogICAgICAgIFsnLm1tJywgJ3RleHQveC1vYmplY3RpdmUtYyddLAogICAgICAgIFsnLm0nLCAndGV4dC94LW9iamVjdGl2ZS1jJ10sCiAgICAgICAgWycuc2gnLCAndGV4dC94LXNoZWxsc2NyaXB0J10KICAgICAgXSwKICAgICAgbW91bnRzOiBbCiAgICAgICAgWycvJywgJy4nLCAndXBsb2FkLmh0bWwnXSwKICAgICAgICBbJy9nZXQnLCAnLi91cGxvYWRzJywgJyddLAogICAgICAgIFsnL3dhcm1jYXQnLCAnaHR0cHM6Ly93YXJtY2F0LmNvbS8nLCAnaW5kZXguaHRtbCddLAogICAgICAgIFsnL2Rpc3RyZWxlYycsICdodHRwczovL3d3dy5kaXN0cmVsZWMuY2gvJywgJ2xvZ2luJ10sCiAgICAgICAgWycvaGFzdXJhJywgJ2h0dHA6Ly93aWxkLWJlYXV0eS5oZXJva3VhcHAuY29tL3YxLycsICdncmFwaHFsJ10sCiAgICAgICAgLy8gWycvdXBsb2FkJywgJ2x3cy1kZWFkZHJvcCcsIG51bGwsICdsd3MtZGVhZGRyb3AnXSwKICAgICAgICBhc3luYyBmdW5jdGlvbiogdGVzdChyZXEsIHJlc3ApIHsKICAgICAgICAgIHJlc3AudHlwZSA9ICd0ZXh0L3BsYWluJzsKCiAgICAgICAgICBjb25zb2xlLmxvZygnKnRlc3QnLCB7IHJlcSwgcmVzcCB9KTsKCiAgICAgICAgICBsZXQgYm9keVN0ciA9ICcnOwogICAgICAgICAgaWYocmVxLm1ldGhvZCA9PSAnUE9TVCcpIHsKICAgICAgICAgICAgZm9yIGF3YWl0KGxldCBjaHVuayBvZiBhd2FpdCByZXEuYm9keSkgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjaHVuaycsIGNodW5rKTsKICAgICAgICAgICAgICBib2R5U3RyICs9IHRvU3RyaW5nKGNodW5rKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgY29uc29sZS5sb2coJ2JvZHlTdHInLCBib2R5U3RyKTsKCiAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykgewogICAgICAgICAgICB5aWVsZCBgbGluZSAjJHtpfVxuYDsKICAgICAgICAgICAgYXdhaXQgd2FpdEZvcigoMTAgLSBpICsgMSkgKiAxMCk7CiAgICAgICAgICB9CgogICAgICAgICAgeWllbGQgJ2RvbmUhJzsKICAgICAgICB9LAogICAgICAgIGZ1bmN0aW9uIHByb3h5KHJlcSwgcmVzcCkgewogICAgICAgICAgY29uc29sZS5sb2coJ3Byb3h5JywgeyByZXEsIHJlc3AgfSk7CiAgICAgICAgICBjb25zdCB7IHVybCwgbWV0aG9kLCBoZWFkZXJzIH0gPSByZXE7CiAgICAgICAgICBjb25zb2xlLmxvZygncHJveHknLCB7IHVybCwgbWV0aG9kLCBoZWFkZXJzIH0pOwogICAgICAgICAgY29uc3QgeyBzdGF0dXMsIG9rLCB0eXBlIH0gPSByZXNwOwoKICAgICAgICAgIGNvbnNvbGUubG9nKCdwcm94eScsIHsgc3RhdHVzLCBvaywgdXJsLCB0eXBlIH0pOwogICAgICAgIH0sCiAgICAgICAgZnVuY3Rpb24qIGNvbmZpZyhyZXEsIHJlc3ApIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCcqY29uZmlnJywgeyByZXEsIHJlc3AgfSk7CiAgICAgICAgICB5aWVsZCAne30nOwogICAgICAgIH0sCiAgICAgICAgZnVuY3Rpb24qIGZpbGUocmVxLCByZXNwKSB7CiAgICAgICAgICBsZXQgeyBib2R5LCBoZWFkZXJzLCBqc29uLCB1cmwgfSA9IHJlcTsKICAgICAgICAgIGxldCB7IHF1ZXJ5IH0gPSB1cmw7CgogICAgICAgICAgaWYodHlwZW9mIGJvZHkgPT0gJ3N0cmluZycpCiAgICAgICAgICAgIHF1ZXJ5ID0gewogICAgICAgICAgICAgIC4uLnF1ZXJ5LAogICAgICAgICAgICAgIC4uLihKU09OLnBhcnNlKGJvZHkpID8/IHt9KQogICAgICAgICAgICB9OwoKICAgICAgICAgIGxldCB7IGFjdGlvbiA9ICdsaXN0JywgY2hhcnNldCA9ICd1dGYtOCcsIGJpbmFyeSA9IGZhbHNlLCBmaWxlLCBjb250ZW50cyB9ID0gcXVlcnkgPz8ge307CgogICAgICAgICAgaWYoL15cL2ZpbGVcLy4vLnRlc3QodXJsLnBhdGgpKSB7CiAgICAgICAgICAgIGZpbGUgPSB1cmwucGF0aC5yZXBsYWNlKC9eXC9maWxlXC8vLCAnJyk7CiAgICAgICAgICAgIGFjdGlvbiA9ICdsb2FkJzsKICAgICAgICAgIH0KICAgICAgICAgIGNvbnNvbGUubG9nKCcqZmlsZScsIHsgcXVlcnksIGJvZHksIGZpbGUgfSk7CgogICAgICAgICAgY29uc29sZS5sb2coYCpmaWxlYCwgeyBhY3Rpb24sIGZpbGUgfSk7CgogICAgICAgICAgaWYoZmlsZSkgewogICAgICAgICAgICBmaWxlID0gcGF0aC5hYnNvbHV0ZShmaWxlKTsKICAgICAgICAgICAgZmlsZSA9IHBhdGguY29sbGFwc2UoZmlsZSk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKAogICAgICAgICAgICAgIGBhbGxvd2VkRGlyczpgLAogICAgICAgICAgICAgIGFsbG93ZWREaXJzIC8vLm1hcChkaXIgPT4gcGF0aC5ub3JtYWxpemUoZGlyKSkKICAgICAgICAgICAgKTsKCiAgICAgICAgICAgIC8vY29uc29sZS5sb2coYGFsbG93ZWQ6YCwgYWxsb3dlZERpcnMvKi5tYXAoZGlyID0+IHBhdGguaXNpbihmaWxlLCBkaXIpKSovKTsKICAgICAgICAgICAgbGV0IGFsbG93ZWQgPSBbLi4uYWxsb3dlZERpcnNdLnNvbWUoKFtkaXJdKSA9PiBwYXRoLmlzaW4oZmlsZSwgcGF0aC5ub3JtYWxpemUoZGlyKSkpOwoKICAgICAgICAgICAgaWYoIWFsbG93ZWQpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgTm90IGFsbG93ZWQ6ICcke2ZpbGV9J2ApOwogICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTm90IGFsbG93ZWQ6ICcke2ZpbGV9J2ApOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgc3dpdGNoIChhY3Rpb24pIHsKICAgICAgICAgICAgY2FzZSAnbG9hZCc6CiAgICAgICAgICAgICAgbGV0IG1pbWUgPSBHZXRNaW1lKGZpbGUpOwogICAgICAgICAgICAgIHJlc3AudHlwZSA9IG1pbWU7CiAgICAgICAgICAgICAgcmVzcC5oZWFkZXJzID0geyAnY29udGVudC10eXBlJzogbWltZSB9OwogICAgICAgICAgICAgIGxldCBkYXRhID0gUmVhZEZpbGUoZmlsZSwgdHJ1ZSk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coYCpmaWxlLmxvYWRgLCB7IGRhdGEsIG1pbWUgfSk7CiAgICAgICAgICAgICAgeWllbGQgZGF0YTsKICAgICAgICAgICAgICByZXNwLmJvZHkgPSBkYXRhOwogICAgICAgICAgICAgIC8veWllbGQKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAnc2F2ZSc6CiAgICAgICAgICAgICAgV3JpdGVGaWxlKGZpbGUsIGNvbnRlbnRzKTsKICAgICAgICAgICAgICB5aWVsZCAnZG9uZSFcclxuJzsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAnbGlzdCc6CiAgICAgICAgICAgICAgbGV0IGZpbGVzID0gZnMucmVhZGRpclN5bmMoJ3VwbG9hZHMnKS5maWx0ZXIoZiA9PiAhL15cLiQvLnRlc3QoZikpOwogICAgICAgICAgICAgIGxldCBjb21wb25lbnQgPSBoKAogICAgICAgICAgICAgICAgSFRNTFBhZ2UsCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiAnRmlsZSBsaXN0JywKICAgICAgICAgICAgICAgICAgc3R5bGU6IGBib2R5LCAqIHsKICBmb250LWZhbWlseTogTWlzY0ZpeGVkU0M2MTMsRml4ZWQsIkNvdXJpZXIgTmV3IjsKfWAsCiAgICAgICAgICAgICAgICAgIHNjcmlwdHM6IFsnZmlsZWxpc3QuanMnXQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIFsKICAgICAgICAgICAgICAgICAgaChGaWx0ZXJGb3JtLCB7fSwgW10pLAogICAgICAgICAgICAgICAgICBoKEZpbGVUYWJsZSwgewogICAgICAgICAgICAgICAgICAgIGZpbGVzOiBmaWxlcy5tYXAoZmlsZSA9PiAoewogICAgICAgICAgICAgICAgICAgICAgZmlsZSwKICAgICAgICAgICAgICAgICAgICAgIHN0YXQ6IGZzLnN0YXRTeW5jKGZpbGUpCiAgICAgICAgICAgICAgICAgICAgfSkpCiAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICB5aWVsZCByZW5kZXJUb1N0cmluZyhjb21wb25lbnQpOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIHlpZWxkIGZpbGVzLmpvaW4oJ1xuJyk7CgogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gc3VjaCBjb21tYW5kOiAnJHthY3Rpb259J2ApOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgZnVuY3Rpb24qIHVwbG9hZHMocmVxLCByZXNwKSB7CiAgICAgICAgICByZXNwLnR5cGUgPSAnYXBwbGljYXRpb24vanNvbic7CiAgICAgICAgICBjb25zb2xlLmxvZygndXBsb2FkcycsIHJlcSwgcmVzcCk7CiAgICAgICAgICBjb25zdCB7IGxpbWl0ID0gJzAsMTAwJywgcHJldHR5ID0gMCB9ID0gcmVxLnVybC5xdWVyeSA/PyB7fTsKICAgICAgICAgIGxldCBbc3RhcnQsIGVuZF0gPSBsaW1pdC5zcGxpdCgvLC9nKS5tYXAocyA9PiArcyk7CiAgICAgICAgICBjb25zb2xlLmxvZygndXBsb2FkcycsIHsgc3RhcnQsIGVuZCB9KTsKICAgICAgICAgIGxldCByZXN1bHQgPSBbXSwKICAgICAgICAgICAgZW50cmllcyA9IGdsb2IoJ3VwbG9hZHMvKi5qc29uJyk7CiAgICAgICAgICBmb3IobGV0IGVudHJ5IG9mIChBcnJheS5pc0FycmF5KGVudHJpZXMpID8gZW50cmllcyA6IFtdKS5zbGljZShzdGFydCwgZW5kKSkgewogICAgICAgICAgICBsZXQganNvbiA9IFJlYWRKU09OKGVudHJ5KTsKICAgICAgICAgICAgY29uc3QgeyBzdG9yYWdlLCBmaWxlbmFtZSwgdXBsb2FkZWQsIGFkZHJlc3MsIGV4aWYsIHRodW1ibmFpbCB9ID0ganNvbjsKICAgICAgICAgICAganNvbi5zaXplID0gZnMuc2l6ZVN5bmMoc3RvcmFnZSk7CiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGpzb24pOwogICAgICAgICAgfQoKICAgICAgICAgIGNvbnNvbGUubG9nKCd1cGxvYWRzJywgY29uc29sZS5jb25maWcoeyBkZXB0aDogMSwgY29tcGFjdDogMiwgbWF4QXJyYXlMZW5ndGg6IDEwIH0pLCByZXN1bHQpOwogICAgICAgICAgeWllbGQgSlNPTi5zdHJpbmdpZnkocmVzdWx0LCAuLi4oK3ByZXR0eSA/IFtudWxsLCAyXSA6IFtdKSk7CiAgICAgICAgfSwKICAgICAgICBhc3luYyBmdW5jdGlvbiogZmlsZXMocmVxLCByZXNwKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygnKmZpbGVzIHF1ZXJ5ID0nLCByZXEudXJsLnF1ZXJ5KTsKICAgICAgICAgIGNvbnN0IHsgZmlsdGVyID0gJyonLCByb290LCB0eXBlID0gVFlQRV9ESVIgfCBUWVBFX1JFRyB8IFRZUEVfTE5LLCBsaW1pdCA9ICcwJyB9ID0gcmVxLnVybC5xdWVyeTsKICAgICAgICAgIGNvbnNvbGUubG9nKCcqZmlsZXMnLCB7IHJvb3QsIGZpbHRlciwgdHlwZSB9KTsKICAgICAgICAgIGNvbnN0IFtvZmZzZXQgPSAwLCBzaXplID0gSW5maW5pdHldID0gbGltaXQuc3BsaXQoJywnKS5tYXAobiA9PiArbik7CiAgICAgICAgICBjb25zb2xlLmxvZygnKmZpbGVzJywgeyBvZmZzZXQsIHNpemUgfSk7CiAgICAgICAgICBsZXQgaSA9IDA7CiAgICAgICAgICBsZXQgZiA9IE1hdGNoZXIoZmlsdGVyKTsKICAgICAgICAgIGlmKCFyb290KSB7CiAgICAgICAgICAgIGZvcihsZXQgbmFtZSBvZiBhbGxvd2VkRGlycy5rZXlzKCkuZmlsdGVyKGYpKSB5aWVsZCBuYW1lICsgJy9cclxuJzsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGZvcihsZXQgW2tleSwgdmFsdWVdIG9mIGFsbG93ZWREaXJzLmVudHJpZXMoKS5maWx0ZXIoS2V5T3JWYWx1ZU1hdGNoZXIocm9vdCkpKSB7CiAgICAgICAgICAgICAgbGV0IGRpciA9IG5ldyBEaXJlY3RvcnkodmFsdWUsIEJPVEgsICt0eXBlKTsKICAgICAgICAgICAgICB5aWVsZCBrZXkgKyAnOlxyXG4nOwogICAgICAgICAgICAgIGZvcihsZXQgW25hbWUsIHR5cGVdIG9mIGRpci5maWx0ZXIoKFtuYW1lLCB0eXBlXSkgPT4gZihuYW1lKSkpIHlpZWxkIG5hbWUgKyAoK3R5cGUgPT0gVFlQRV9ESVIgPyAnLycgOiAnJykgKyAnXHJcbic7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGNvbnNvbGUubG9nKCcqZmlsZXMnLCB7IGksIGYgfSk7CiAgICAgICAgfSwKICAgICAgICBmdW5jdGlvbiogZmlsZXMyKHJlcSwgcmVzcCkgewogICAgICAgICAgbGV0IHsgYm9keSwgaGVhZGVycywganNvbiwgdXJsIH0gPSByZXE7CiAgICAgICAgICBsZXQgeyBxdWVyeSB9ID0gdXJsOwogICAgICAgICAgZGVmaW5lKGdsb2JhbFRoaXMsIHsgZmlsZXNSZXF1ZXN0OiB7IHJlcSwgcmVzcCwgYm9keSwgcXVlcnkgfSB9KTsKICAgICAgICAgIGNvbnNvbGUubG9nKCcqZmlsZXMnLCB7IHJlcSwgcmVzcCwgYm9keSwgcXVlcnkgfSk7CiAgICAgICAgICBjb25zdCBkYXRhID0gcXVlcnkgPz8ge307CiAgICAgICAgICByZXNwLnR5cGUgPSAnYXBwbGljYXRpb24vanNvbic7CiAgICAgICAgICBsZXQgeyBkaXJzID0gZGVmYXVsdERpcnMsIGZpbHRlciA9ICdbXi5dLionID8/ICcuKGJyZHxzY2h8R1tBLVpdW0EtWl0pJCcsIHZlcmJvc2UgPSBmYWxzZSwgb2JqZWN0cyA9IHRydWUsIGtleSA9ICdtdGltZScsIGxpbWl0ID0gbnVsbCwgZmxhdCA9IGZhbHNlIH0gPSBkYXRhID8/IHt9OwogICAgICAgICAgbGV0IHJlc3VsdHMgPSBbXTsKICAgICAgICAgIGZvcihsZXQgZGlyIG9mIGRpcnMpIHsKICAgICAgICAgICAgbGV0IHN0LAogICAgICAgICAgICAgIG5hbWVzID0gW107CiAgICAgICAgICAgIGlmKEFycmF5LmlzQXJyYXkoZGlyKSkgewogICAgICAgICAgICAgIGxldCBbLCByZV0gPSBkaXI7CiAgICAgICAgICAgICAgbGV0IGFic2RpciA9IHBhdGgucmVhbHBhdGgoZGlyWzBdKTsKICAgICAgICAgICAgICBuYW1lcyA9IFsuLi5SZWN1cnNpdmVEaXJJdGVyYXRvcihhYnNkaXIsIG4gPT4gcmUudGVzdChuKSldOwogICAgICAgICAgICAgIGRpciA9IHBhdGgucmVsYXRpdmUoYWJzZGlyLCBwYXRoLmdldGN3ZCgpKTsKICAgICAgICAgICAgfSBlbHNlIGlmKChzdCA9IGZzLnN0YXRTeW5jKGRpcikpICYmIHN0LmlzRGlyZWN0b3J5KCkpIHsKICAgICAgICAgICAgICBsZXQgYWJzZGlyID0gcGF0aC5yZWFscGF0aChkaXIpOwogICAgICAgICAgICAgIGxldCBjb21wb25lbnRzID0gYWJzZGlyLnNwbGl0KHBhdGguc2VwKTsKICAgICAgICAgICAgICBpZihjb21wb25lbnRzLmxlbmd0aCAmJiBjb21wb25lbnRzWzBdID09PSAnJykgY29tcG9uZW50cy5zaGlmdCgpOwogICAgICAgICAgICAgIGlmKGNvbXBvbmVudHMubGVuZ3RoIDwgMiB8fCBjb21wb25lbnRzWzBdICE9ICdob21lJykgdGhyb3cgbmV3IEVycm9yKGBBY2Nlc3MgZXJyb3JgKTsKICAgICAgICAgICAgICBuYW1lcyA9IGZzLnJlYWRkaXJTeW5jKGFic2RpcikgPz8gW107CiAgICAgICAgICAgICAgZGlyID0gcGF0aC5yZWxhdGl2ZShhYnNkaXIsIHBhdGguZ2V0Y3dkKCkpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIG5hbWVzID0gZ2xvYihkaXIsIEdMT0JfQlJBQ0UpOwogICAgICAgICAgICAgIGlmKCFBcnJheS5pc0FycmF5KG5hbWVzKSkgbmFtZXMgPSBbXTsKICAgICAgICAgICAgICBsZXQgYSA9IHBhdGgudG9BcnJheShkaXIpOwogICAgICAgICAgICAgIGxldCBpID0gYS5maW5kSW5kZXgobiA9PiAvWyp7fV0vLnRlc3QobikpOwogICAgICAgICAgICAgIGRpciA9IHBhdGguc2xpY2UoZGlyLCAwLCBpKTsKICAgICAgICAgICAgICBuYW1lcyA9IG5hbWVzLm1hcChuID0+IG4uc2xpY2UoZGlyLmxlbmd0aCArIDEpKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZighQXJyYXkuaXNBcnJheShuYW1lcykpIGNvbnRpbnVlOwogICAgICAgICAgICBuYW1lcyA9IG5hbWVzLnNvcnQoKGEsIGIpID0+ICcnICsgYiA8ICcnICsgYSk7CiAgICAgICAgICAgIGlmKGZpbHRlcikgewogICAgICAgICAgICAgIGNvbnN0IHJlID0gbmV3IFJlZ0V4cChmaWx0ZXIsICdnaScpOwogICAgICAgICAgICAgIG5hbWVzID0gbmFtZXMuZmlsdGVyKG5hbWUgPT4gcmUudGVzdChuYW1lKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYobGltaXQpIHsKICAgICAgICAgICAgICBsZXQgW29mZnNldCA9IDBdID0gbGltaXQ7CiAgICAgICAgICAgICAgbGV0IFssIGxlbmd0aCA9IG5hbWVzLmxlbmd0aCAtIHN0YXJ0XSA9IGxpbWl0OwogICAgICAgICAgICAgIG5hbWVzID0gbmFtZXMuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyBsZW5ndGgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGxldCBlbnRyaWVzID0gbmFtZXMKICAgICAgICAgICAgICAubWFwKGZpbGUgPT4gKGZzLmV4aXN0c1N5bmMoYCR7ZGlyfS8ke2ZpbGV9YCkgPyBgJHtkaXJ9LyR7ZmlsZX1gIDogZmlsZSkpCiAgICAgICAgICAgICAgLm1hcChmaWxlID0+IFtmaWxlLCBwYXRoLnJlbGF0aXZlKGZpbGUsIHBhdGguZ2V0Y3dkKCkpXSkKICAgICAgICAgICAgICAubWFwKChbZmlsZSwgcmVsXSkgPT4gW2ZpbGUsIGZzLnN0YXRTeW5jKHJlbCldKTsKICAgICAgICAgICAgZW50cmllcyA9IGVudHJpZXMucmVkdWNlKChhY2MsIFtmaWxlLCBzdF0pID0+IHsKICAgICAgICAgICAgICBsZXQgbmFtZSA9IGZpbGUgKyAoc3QgJiYgc3QuaXNEaXJlY3RvcnkoKSA/ICcvJyA6ICcnKTsKICAgICAgICAgICAgICBsZXQgb2JqID0gewogICAgICAgICAgICAgICAgbmFtZQogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgYWNjLnB1c2goWwogICAgICAgICAgICAgICAgbmFtZSwKICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oCiAgICAgICAgICAgICAgICAgIG9iaiwKICAgICAgICAgICAgICAgICAgc3QKICAgICAgICAgICAgICAgICAgICA/IHsKICAgICAgICAgICAgICAgICAgICAgICAgbXRpbWU6IHRvVW5peFRpbWUoc3QubXRpbWUpLAogICAgICAgICAgICAgICAgICAgICAgICB0aW1lOiB0b1VuaXhUaW1lKHN0LmN0aW1lKSwKICAgICAgICAgICAgICAgICAgICAgICAgbW9kZTogYDAkeyhzdC5tb2RlICYgMHgwOWZmKS50b1N0cmluZyg4KX1gLAogICAgICAgICAgICAgICAgICAgICAgICBzaXplOiBzdC5zaXplCiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgOiB7fQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgIF0pOwogICAgICAgICAgICAgIHJldHVybiBhY2M7CiAgICAgICAgICAgIH0sIFtdKTsKICAgICAgICAgICAgaWYoZW50cmllcy5sZW5ndGgpIHsKICAgICAgICAgICAgICBsZXQgY21wID0gewogICAgICAgICAgICAgICAgc3RyaW5nKGEsIGIpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGFbMV1ba2V5XS5sb2NhbGVDb21wYXJlKGJbMV1ba2V5XSk7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgbnVtYmVyKGEsIGIpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGFbMV1ba2V5XSAtIGJbMV1ba2V5XTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9W3R5cGVvZiBlbnRyaWVzWzBdWzFdW2tleV1dOwogICAgICAgICAgICAgIGVudHJpZXMgPSBlbnRyaWVzLnNvcnQoY21wKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBuYW1lcyA9IGVudHJpZXMubWFwKChbbmFtZSwgb2JqXSkgPT4gKG9iamVjdHMgPyBvYmogOiBuYW1lKSk7CiAgICAgICAgICAgIGlmKG5hbWVzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICBpZihmbGF0KSBuYW1lcy5tYXAoKHsgbmFtZSB9KSA9PiByZXN1bHRzLnB1c2goeyBuYW1lOiBwYXRoLm5vcm1hbGl6ZShwYXRoLmpvaW4oZGlyLCBuYW1lKSkgfSkpOwogICAgICAgICAgICAgIGVsc2UgcmVzdWx0cy5wdXNoKHsgZGlyLCBuYW1lcyB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgeWllbGQgSlNPTi5zdHJpbmdpZnkoLi4uW3Jlc3VsdHMsIC4uLih2ZXJib3NlID8gW251bGwsIDJdIDogW10pXSk7CiAgICAgICAgfQogICAgICBdLAogICAgICAuLi51cmwsCgogICAgICAuLi5jYWxsYmFja3MsCiAgICAgIG9uQ29ubmVjdCh3cywgcmVxKSB7CiAgICAgICAgY29uc29sZS5sb2coJ29uQ29ubmVjdFx4MWInKTsKICAgICAgICBjb25zdCB7IHBlZXIsIGFkZHJlc3MsIHBvcnQsIHByb3RvY29sIH0gPSB3czsKCiAgICAgICAgY29uc29sZS5sb2coJ1x4MWJbMzg7NTszM21vbkNvbm5lY3RceDFiWzBtJywgeyBhZGRyZXNzLCBwb3J0LCBwcm90b2NvbCB9KTsKCiAgICAgICAgd3Muc2VuZENvbW1hbmQgPSBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgICBpZighaXNBcnJheUJ1ZmZlcihkYXRhKSAvKiYmIGlzT2JqZWN0KGRhdGEpKi8pIGRhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhKTsKCiAgICAgICAgICByZXR1cm4gdGhpcy5zZW5kKGRhdGEpOwogICAgICAgIH07CiAgICAgICAgaWYoIXdzLnV1aWQpIHsKICAgICAgICAgIGxldCBkYXRhID0gKHdzLnV1aWQgPSBNYWtlVVVJRCgpKTsKCiAgICAgICAgICB3cy5zZW5kQ29tbWFuZCh7IHR5cGU6ICd1dWlkJywgZGF0YSB9KTsKICAgICAgICAgIGJ5X3V1aWRbZGF0YV0gPSB3czsKICAgICAgICB9CiAgICAgICAgY29ubmVjdGlvbnMuYWRkKHdzKTsKCiAgICAgICAgaWYoY2FsbGJhY2tzLm9uQ29ubmVjdCkgcmV0dXJuIGNhbGxiYWNrcy5vbkNvbm5lY3Qod3MsIHJlcSk7CiAgICAgIH0sCiAgICAgIG9uQ2xvc2Uod3MsIHJlYXNvbikgewogICAgICAgIGNvbm5lY3Rpb25zLmRlbGV0ZSh3cyk7CgogICAgICAgIHJldHVybiBjYWxsYmFja3Mub25DbG9zZSh3cywgcmVhc29uKTsKICAgICAgfSwKICAgICAgLyogICAgICBvblJlYWQoZGF0YSkgewogICAgICAgICAgIGNvbnN0IHJlcSA9IHRoaXM7CiAgICAgICAgICBjb25zb2xlLmxvZygnb25SZWFkJywgeyByZXEsIGRhdGEgfSk7CiAgICAgICAgfSwqLwogICAgICAvKiBvblBvc3QoZGF0YSkgewogICAgICAgICBjb25zdCByZXEgPSB0aGlzOwogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcmVxLmpzb24gPSBKU09OLnBhcnNlKGRhdGEpOwogICAgICAgICAgfSBjYXRjaChlcnJvcikgewogICAgICAgICAgICBjb25zb2xlLmxvZygnb25Qb3N0JywgeyByZXEsIGRhdGEsIGVycm9yIH0pOwogICAgICAgICAgfQogICAgICAgIH0sKi8KICAgICAgb25IdHRwKHdzLCByZXEsIHJlc3ApIHsKICAgICAgICAvKiBpZihyZXEubWV0aG9kICE9ICdHRVQnKSovIC8vY29uc29sZS5sb2coJ29uSHR0cCcsIGNvbnNvbGUuY29uZmlnKHsgY29tcGFjdDogMCB9KSwgd3MpOwoKICAgICAgICAvKiAgICBjb25zb2xlLmxvZygnXHgxYlszODs1OzIyMG1vbkh0dHAoMSlceDFiWzBtJywgYHJlcSA9YCwgY29uc29sZS5jb25maWcocmVwbC5pbnNwZWN0T3B0aW9ucyksIHJlcSk7CiAgICAgICAgY29uc29sZS5sb2coJ1x4MWJbMzg7NTsyMjBtb25IdHRwKDEpXHgxYlswbScsIGByZXNwID1gLCBjb25zb2xlLmNvbmZpZyhyZXBsLmluc3BlY3RPcHRpb25zKSwgcmVzcCk7Ki8KICAgICAgICAvLyAgICAgICAgY29uc29sZS5sb2coJ1x4MWJbMzg7NTsyMjBtb25IdHRwKDEpXHgxYlswbScsIGNvbnNvbGUuY29uZmlnKHJlcGwuaW5zcGVjdE9wdGlvbnMpLCB7IHJlcSwgcmVzcCB9KTsKCiAgICAgICAgZGVmaW5lKGdsb2JhbFRoaXMsIHsgd3MsIHJlcSwgcmVzcCB9KTsKCiAgICAgICAgY29uc3QgeyBwZWVyLCBhZGRyZXNzLCBwb3J0IH0gPSB3czsKICAgICAgICBjb25zdCB7IG1ldGhvZCwgaGVhZGVycyB9ID0gcmVxOwoKICAgICAgICAvL3Jlc3AuaGVhZGVyc1snU2VydmVyJ10gPSAndXBsb2FkLXNlcnZlcic7CiAgICAgICAgcmVzcC5oZWFkZXJzID0geyBTZXJ2ZXI6ICd1cGxvYWQtc2VydmVyJyB9OwogICAgICAgIC8vY29uc29sZS5sb2coJ29uSHR0cCByZXNwLmhlYWRlcnMnLCByZXNwLmhlYWRlcnMsIHJlc3AuaGVhZGVyc1snU2VydmVyJ10pOwogICAgICAgIC8vCiAgICAgICAgaWYoZ2xvYmFsVGhpcy5vblJlcXVlc3QpIGdsb2JhbFRoaXMub25SZXF1ZXN0KHJlcSwgcmVzcCk7CgogICAgICAgIC8qIGlmKChyZXEudXJsLnBhdGggPz8gJycpLmVuZHNXaXRoKCcuanMnKSkgCiAgICAgIGNvbnNvbGUubG9nKCdvbkh0dHAnLCByZXEudXJsLnBhdGgpOwoqLwogICAgICAgIGlmKChyZXEudXJsLnBhdGggPz8gJycpLmVuZHNXaXRoKCdmaWxlcycpKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgICAvL3Jlc3AudHlwZSA9ICdhcHBsaWNhdGlvbi9qc29uJzsKICAgICAgICB9IGVsc2UgaWYocmVxLm1ldGhvZCAhPSAnR0VUJyAmJiAocmVxLmhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddID09ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnIHx8IChyZXEuaGVhZGVyc1snY29udGVudC10eXBlJ10gPz8gJycpLnN0YXJ0c1dpdGgoJ211bHRpcGFydC9mb3JtLWRhdGEnKSkpIHsKICAgICAgICAgIGxldCBmcCwKICAgICAgICAgICAgaGFzaCwKICAgICAgICAgICAgdG1wbmFtLAogICAgICAgICAgICBleHQsCiAgICAgICAgICAgIHByb2dyZXNzID0gMDsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlcS5tZXRob2QsIGhlYWRlcnMpOwogICAgICAgICAgaWYocmVxLnVybC5wYXRoLmVuZHNXaXRoKCd1cGxvYWQnKSkgcmVzcC5zdGF0dXMgPSAyMDA7CiAgICAgICAgICByZXNwLnR5cGUgPSAndGV4dC9yYXcnOwoKICAgICAgICAgIGZwID0gbmV3IEZvcm1QYXJzZXIod3MsIFsnZmlsZXMnLCAndXVpZCddLCB7CiAgICAgICAgICAgIGNodW5rU2l6ZTogODE5MiAvKiogMjU2Ki8sCiAgICAgICAgICAgIG9uT3BlbihuYW1lLCBmaWxlbmFtZSkgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBvbk9wZW4oJHtuYW1lfSwgJHtmaWxlbmFtZX0pYCk7CiAgICAgICAgICAgICAgaWYodGhpcy5maWxlKSB7CiAgICAgICAgICAgICAgICB0aGlzLm9uY2xvc2UuY2FsbCh0aGlzLCBuYW1lKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHRoaXMubmFtZSA9IG5hbWU7CiAgICAgICAgICAgICAgdGhpcy5maWxlbmFtZSA9IGZpbGVuYW1lOwogICAgICAgICAgICAgIGV4dCA9IHBhdGguZXh0bmFtZShmaWxlbmFtZSkudG9Mb3dlckNhc2UoKTsKCiAgICAgICAgICAgICAgdGhpcy5maWxlID0gZnMub3BlblN5bmMoKHRoaXMudGVtcCA9ICd1cGxvYWRzLycgKyAodG1wbmFtID0gcmFuZFN0cigyMCkgKyAnLnRtcCcpKSwgJ3crJywgMG82NDQpOwogICAgICAgICAgICAgIGhhc2ggPSBuZXcgSGFzaChIYXNoLlRZUEVfU0hBMSk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9uQ29udGVudChuYW1lLCBkYXRhKSB7CiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYG9uQ29udGVudCgke3RoaXMuZmlsZW5hbWV9KWAsZGF0YS5ieXRlTGVuZ3RoKTsKICAgICAgICAgICAgICBwcm9ncmVzcyArPSBkYXRhLmJ5dGVMZW5ndGg7CgogICAgICAgICAgICAgIGxldCB3czIgPSBieV91dWlkW3dzLnV1aWQgPz8gdGhpcy51dWlkXTsKCiAgICAgICAgICAgICAgZnMud3JpdGVTeW5jKHRoaXMuZmlsZSwgZGF0YSk7CiAgICAgICAgICAgICAgaGFzaC51cGRhdGUoZGF0YSk7CiAgICAgICAgICAgICAgaWYod3MyKQogICAgICAgICAgICAgICAgd3MyLnNlbmRDb21tYW5kKHsKICAgICAgICAgICAgICAgICAgdHlwZTogJ3Byb2dyZXNzJywKICAgICAgICAgICAgICAgICAgZG9uZTogcHJvZ3Jlc3MsCiAgICAgICAgICAgICAgICAgIG5hbWUsCiAgICAgICAgICAgICAgICAgIGZpbGVuYW1lOiB0aGlzLmZpbGVuYW1lLAogICAgICAgICAgICAgICAgICB0b3RhbDogK2hlYWRlcnNbJ2NvbnRlbnQtbGVuZ3RoJ10KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9LAoKICAgICAgICAgICAgb25DbG9zZShuYW1lLCBmaWxlKSB7CiAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBvbkNsb3NlWzFdKCR7bmFtZX0sICR7ZmlsZX0pYCwgdGhpcy51dWlkKTsKICAgICAgICAgICAgICAgIGxldCBleGlmLCBjYWNoZSwgc2hhMTsKICAgICAgICAgICAgICAgIGlmKGhhc2gpIHsKICAgICAgICAgICAgICAgICAgaGFzaC5maW5hbGl6ZSgpOwogICAgICAgICAgICAgICAgICBzaGExID0gaGFzaC50b1N0cmluZygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYodGhpcy5maWxlKSB7CiAgICAgICAgICAgICAgICAgIGZzLmNsb3NlU3luYyh0aGlzLmZpbGUpOwogICAgICAgICAgICAgICAgICB0aGlzLmZpbGUgPSBudWxsOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYoc2hhMSkgewogICAgICAgICAgICAgICAgICBsZXQgZiA9IHggPT4gJ3VwbG9hZHMvJyArIHNoYTEgKyB4OwogICAgICAgICAgICAgICAgICBsZXQgcmV0ID0gbGluayh0aGlzLnRlbXAsIGYoZXh0KSk7CiAgICAgICAgICAgICAgICAgIGxldCB7IGVycm5vIH0gPSBlcnJvcigpOwogICAgICAgICAgICAgICAgICBsZXQganNvbiA9IGYoJy5qc29uJyk7CiAgICAgICAgICAgICAgICAgIGlmKGZzLmV4aXN0c1N5bmMoanNvbikgJiYgKGNhY2hlID0gUmVhZEpTT04oanNvbikpKSB7CiAgICAgICAgICAgICAgICAgICAgZXhpZiA9IGNhY2hlLmV4aWY7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgaWYoIS8ocG5nfHN2Z3xnaWZ8dGdhKSQvaS50ZXN0KGV4dCkpIHsKICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGV4aWYgPSBSZWFkRXhpZnRvb2woZihleHQpKTsKICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2goZSkgewogICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGV4aWYgPSBSZWFkRXhpZnRvb2wodGhpcy50ZW1wKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaChlKSB7fQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBsZXQgb2JqID0gewogICAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6IHRoaXMuZmlsZW5hbWUsCiAgICAgICAgICAgICAgICAgICAgICBzdG9yYWdlOiBmKGV4dCksCiAgICAgICAgICAgICAgICAgICAgICB1cGxvYWRlZDogRGF0ZS5ub3coKSwKICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3MsCiAgICAgICAgICAgICAgICAgICAgICBleGlmCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICBpZighL2pwZT9nJC8udGVzdChleHQpKSB7CiAgICAgICAgICAgICAgICAgICAgICBIZWlmQ29udmVydChmKGV4dCksIGYoJy5qcGcnKSk7CiAgICAgICAgICAgICAgICAgICAgICBpZihmcy5leGlzdHNTeW5jKGYoJy5qcGcnKSkpIG9iai5qcGcgPSBmKCcuanBnJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGxldCB3aWR0aCA9ICcnLAogICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gJzI1Nic7CgogICAgICAgICAgICAgICAgICAgIGlmKGV4aWYpIHsKICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgSW1hZ2VTaXplLCBJbWFnZUhlaWdodCwgSW1hZ2VXaWR0aCB9ID0gZXhpZjsKICAgICAgICAgICAgICAgICAgICAgIGxldCBhc3BlY3QgPSBJbWFnZVdpZHRoIC8gSW1hZ2VIZWlnaHQ7CiAgICAgICAgICAgICAgICAgICAgICBpZihhc3BlY3QgPj0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IDI1NjsKICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gd2lkdGggLyBhc3BlY3Q7CiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAvKiBoZWlnaHQgPSAyNTY7CiAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSBoZWlnaHQgKiBhc3BlY3Q7Ki8KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIE1hZ2lja1Jlc2l6ZShvYmouanBnID8/IGYoZXh0KSwgZignLnRodW1iLmpwZycpLCBvYmouZXhpZj8uUm90YXRpb24gPz8gMCwgd2lkdGgsIGhlaWdodCk7CgogICAgICAgICAgICAgICAgICAgIGlmKGZzLmV4aXN0c1N5bmMoZignLnRodW1iLmpwZycpKSkgb2JqLnRodW1ibmFpbCA9IGYoJy50aHVtYi5qcGcnKTsKICAgICAgICAgICAgICAgICAgICBXcml0ZUpTT04oanNvbiwgb2JqKTsKICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgYnlfdXVpZGAsIGJ5X3V1aWQpOwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGB1dWlkYCwgd3MudXVpZCA/PyB0aGlzLnV1aWQpOwogICAgICAgICAgICAgICAgICAgIGNhY2hlID0gb2JqOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIGlmKHJldCA9PSAwIHx8IGVycm5vID09IDE3KSB7CiAgICAgICAgICAgICAgICAgICAgdW5saW5rKHRoaXMudGVtcCk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZW1wID0gbnVsbDsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY29uc3QgeyBmaWxlbmFtZSB9ID0gdGhpczsKICAgICAgICAgICAgICAgIGxldCB3czIgPSBieV91dWlkW3dzLnV1aWQgPz8gdGhpcy51dWlkXTsKICAgICAgICAgICAgICAgIGlmKHdzMikKICAgICAgICAgICAgICAgICAgd3MyLnNlbmRDb21tYW5kKHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAndXBsb2FkJywKICAgICAgICAgICAgICAgICAgICAuLi4oY2FjaGUgPz8ge30pLAogICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lLAogICAgICAgICAgICAgICAgICAgIGV4aWYKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAvLyAgY29uc29sZS5sb2coYG9uQ2xvc2VbMl0oJHtuYW1lfSwgJHtmaWxlfSlgKTsKICAgICAgICAgICAgICB9IGNhdGNoKGUpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBvbkNsb3NlIEVSUk9SOmAsIGUubWVzc2FnZSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBvbkZpbmFsaXplKCkgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBvbkZpbmFsaXplKCkgZm9ybSBwYXJzZXJgLCB0aGlzLnV1aWQpOwogICAgICAgICAgICAgIHJlc3AuYm9keSA9IGBkb25lOiAke3Byb2dyZXNzfSBieXRlcyByZWFkXHJcbmA7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgLy90aHJvdyBuZXcgRXJyb3IoYGh0dHAgJHttZXRob2R9IHJlcXVlc3RgKTsKCiAgICAgICAgaWYoIXJlcS5oZWFkZXJzIHx8IHR5cGVvZiByZXEuaGVhZGVycyAhPSAnb2JqZWN0JykgY29uc29sZS5sb2coJ05vIGhlYWRlcnMnLCByZXEpOwoKICAgICAgICBjb25zdCB7IGJvZHksIHVybCB9ID0gcmVzcDsKICAgICAgICBjb25zdCB7IHJlZmVyZXIgfSA9IHJlcS5oZWFkZXJzOwoKICAgICAgICBsZXQgZmlsZSA9IHVybC5wYXRoLnNsaWNlKDEpOwogICAgICAgIGNvbnN0IGRpciA9IHBhdGguZGlybmFtZShmaWxlKTsgLy9maWxlLnJlcGxhY2UoL1wvW15cL10qJC9nLCAnJyk7CgogICAgICAgIGlmKGZpbGUuZW5kc1dpdGgoJy50eHQnKSB8fCBmaWxlLmVuZHNXaXRoKCcuaHRtbCcpIHx8IGZpbGUuZW5kc1dpdGgoJy5jc3MnKSkgewogICAgICAgICAgcmVzcC5ib2R5ID0gUmVhZEZpbGUoZmlsZSk7CiAgICAgICAgfSBlbHNlIGlmKGZpbGUuZW5kc1dpdGgoJy5qcycpKSB7CiAgICAgICAgICBsZXQgZmlsZTEgPSBmaWxlOwogICAgICAgICAgaWYoL3Fqcy1tb2R1bGVzXC9saWIvLnRlc3QoZmlsZSkgJiYgIS8oZG9tfHV0aWwpXC5qcy8udGVzdChmaWxlKSkgewogICAgICAgICAgICBsZXQgZmlsZTIgPSBmaWxlLnJlcGxhY2UoLy4qcWpzLW1vZHVsZXNcLy9nLCAnJyk7CiAgICAgICAgICAgIGlmKGZzLmV4aXN0c1N5bmMoZmlsZTIpKSB7CiAgICAgICAgICAgICAgZmlsZSA9IGZpbGUyOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgaWYoIWZzLmV4aXN0c1N5bmMoZmlsZSkpIHsKICAgICAgICAgICAgZm9yKGxldCBkaXIgb2YgWydxdWlja2pzL3Fqcy1tb2R1bGVzJywgJ3F1aWNranMvcWpzLW1vZHVsZXMvbGliJywgJy4nLCAnbGliJ10pIHsKICAgICAgICAgICAgICBsZXQgZmlsZTIgPSBkaXIgKyAnLycgKyBmaWxlOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdpbmV4aXN0ZW50IGZpbGUnLCBmaWxlLCBmaWxlMiwgZnMuZXhpc3RzU3luYyhmaWxlMiksIHJlZmVyZXIpOwogICAgICAgICAgICAgIGlmKGZzLmV4aXN0c1N5bmMoZmlsZTIpKSB7CiAgICAgICAgICAgICAgICBmaWxlID0gZmlsZTI7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBpZihmaWxlMSAhPSBmaWxlKSB7CiAgICAgICAgICAgIC8vICBjb25zb2xlLmxvZygnXHgxYlszODs1OzIxNG1vbkh0dHBceDFiWzBtJywgZmlsZTEsICctPicsIGZpbGUpOwogICAgICAgICAgICByZXNwLnN0YXR1cyA9IDMwMjsKICAgICAgICAgICAgcmVzcC5oZWFkZXJzID0geyBbJ0xvY2F0aW9uJ106ICcvJyArIGZpbGUgfTsKICAgICAgICAgICAgcmV0dXJuIHJlc3A7CiAgICAgICAgICB9CiAgICAgICAgICAvL2NvbnNvbGUubG9nKCdceDFiWzM4OzU7MzNtb25IdHRwXHgxYlswbScsIGZpbGUxLCBmaWxlKTsKCiAgICAgICAgICAvLwogICAgICAgICAgbGV0IGJvZHkgPSBSZWFkRmlsZShmaWxlKTsKCiAgICAgICAgICBjb25zdCByZSA9IC9eKFxzKihpbXxleClwb3J0W15cbl0qZnJvbSBbJyJdKShbXi4vJyJdKikoWyciXVxzKjtbXHQgXSpcbj8pL2dtOwoKICAgICAgICAgIHJlc3AuYm9keSA9IGJvZHkucmVwbGFjZUFsbChyZSwgKG1hdGNoLCBwMSwgcDAsIHAyLCBwMywgb2Zmc2V0KSA9PiB7CiAgICAgICAgICAgIGlmKCEvW1wvXC5dLy50ZXN0KHAyKSkgewogICAgICAgICAgICAgIGxldCBmbmFtZSA9IGAke3AyfS5qc2A7CiAgICAgICAgICAgICAgbGV0IHJlbCA9IHBhdGgucmVsYXRpdmUoZm5hbWUsIGRpcik7CiAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnb25IdHRwJywgeyBtYXRjaCwgZm5hbWUgfSwgcmVsKTsKCiAgICAgICAgICAgICAgLy8gaWYoIWZzLmV4aXN0c1N5bmMoICByZWwpKSByZXR1cm4gYGA7CgogICAgICAgICAgICAgIG1hdGNoID0gW3AxLCByZWwsIHAzXS5qb2luKCcnKTsKCiAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnYXJncycsIHsgbWF0Y2gsIHAxLCBwMiwgcDMsIG9mZnNldCB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gbWF0Y2g7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgewogICAgICAgICAgbGV0IHsgYm9keSB9ID0gcmVzcDsKICAgICAgICAgIC8vY29uc29sZS5sb2coJ1x4MWJbMzg7NTsyMTJtb25IdHRwKDIpXHgxYlswbScsIHsgYm9keSB9KTsKICAgICAgICB9CgogICAgICAgIHJldHVybiByZXNwOwogICAgICB9LAogICAgICBvbk1lc3NhZ2Uod3MsIGRhdGEpIHsKICAgICAgICBjb25zb2xlLmxvZygnb25NZXNzYWdlJywgd3MsIGRhdGEpOwogICAgICAgIHJldHVybiBjYWxsYmFja3Mub25NZXNzYWdlKHdzLCBkYXRhKTsKICAgICAgfSwKICAgICAgLi4uKHVybCAmJiB1cmwuaG9zdCA/IHVybCA6IHt9KQogICAgfSk7CiAgfSk7CgogIGRlZmluZShnbG9iYWxUaGlzLCB7CiAgICBnZXQgY29ubmVjdGlvbnMoKSB7CiAgICAgIHJldHVybiBbLi4uY29ubmVjdGlvbnNdOwogICAgfSwKICAgIGdldCBieV91dWlkKCkgewogICAgICByZXR1cm4gYnlfdXVpZDsKICAgIH0sCiAgICB1dWlkKGRhdGEpIHsKICAgICAgcmV0dXJuIGJ5X3V1aWRbZGF0YV07CiAgICB9CiAgfSk7CgogIE9iamVjdC5hc3NpZ24oZ2xvYmFsVGhpcywgewogICAgcmVwbCwKICAgIHF1aXQsCiAgICBleGl0OiBxdWl0LAogICAgc3RkLAogICAgb3MsCiAgICBkZWVwLAogICAgZnMsCiAgICBwYXRoLAogICAgUmVhZEpTT04sCiAgICBXcml0ZUpTT04sCiAgICBSZWFkRmlsZSwKICAgIFdyaXRlRmlsZSwKICAgIFJlYWRCSlNPTiwKICAgIFdyaXRlQkpTT04sCiAgICBwYXJzZURhdGUsCiAgICBkYXRlVG9PYmplY3QsCiAgICBIYXNoLAogICAgRm9ybVBhcnNlciwKICAgIEV4ZWNUb29sLAogICAgRXhlY3V0ZSwKICAgIGV4dGVuZEdlbmVyYXRvciwKICAgIGV4dGVuZEFycmF5LAogICAgZXh0ZW5kQXN5bmNHZW5lcmF0b3IsCiAgICBNYXRjaGVyLAogICAgRXhlY1Rvb2wsCiAgICBHZXRNaW1lLAogICAgTWF0Y2hlciwKICAgIEtleU9yVmFsdWVNYXRjaGVyLAogICAgR2V0Um9vdERpcmVjdG9yaWVzLAogICAgR2V0RGlyLAogICAgRGlyTmFtZSwKICAgIERhdGVTdHIsCiAgICBNb2RlU3RyLAogICAgUmVhZEV4aXYyLAogICAgUmVhZEV4aWZ0b29sLAogICAgSGVpZkNvbnZlcnQsCiAgICBNYWdpY2tSZXNpemUsCiAgICBEaXJlY3RvcnksCiAgICBuZXQ6IHsgc2V0TG9nLCBMTExfVVNFUiwgTExMX05PVElDRSwgTExMX1dBUk4sIExMTF9JTkZPLCBjbGllbnQsIHNlcnZlciwgRm9ybVBhcnNlciwgSGFzaCwgUmVzcG9uc2UsIFNvY2tldCB9CiAgfSk7CgogIGRlbGV0ZSBnbG9iYWxUaGlzLkRFQlVHOwoKICBjcmVhdGVXUygKICAgIHsgcHJvdG9jb2w6ICd3cycsIGhvc3Q6ICcwLjAuMC4wJywgcG9ydDogODk5OSB9LAogICAgewogICAgICBvbkZkKGZkLCByZCwgd3IpIHsKICAgICAgICAvL2NvbnNvbGUubG9nKCdvbkZkJywgZmQsIHJkLCB3cik7CiAgICAgICAgb3Muc2V0UmVhZEhhbmRsZXIoZmQsIHJkKTsKICAgICAgICBvcy5zZXRXcml0ZUhhbmRsZXIoZmQsIHdyKTsKICAgICAgfSwKICAgICAgb25DbG9zZSh3cywgcmVhc29uKSB7fSwKICAgICAgb25NZXNzYWdlKHdzLCBkYXRhKSB7fQogICAgfSwKICAgIHRydWUKICApOwoKICBmdW5jdGlvbiBxdWl0KHdoeSkgewogICAgY29uc29sZS5sb2coYHF1aXQoJyR7d2h5fScpYCk7CgogICAgbGV0IGNmZyA9IHsgaW5zcGVjdE9wdGlvbnM6IGNvbnNvbGUub3B0aW9ucyB9OwogICAgV3JpdGVKU09OKGAuJHtiYXNlfS1jb25maWdgLCBjZmcpOwogICAgcmVwbC5jbGVhbnVwKHdoeSk7CiAgfQoKICByZXBsLnJ1blN5bmMoKTsKfQoKdHJ5IHsKICBtYWluKC4uLnNjcmlwdEFyZ3Muc2xpY2UoMSkpOwp9IGNhdGNoKGVycm9yKSB7CiAgY29uc29sZS5sb2coYEZBSUw6ICR7ZXJyb3I/Lm1lc3NhZ2UgPz8gZXJyb3J9XG4ke2Vycm9yPy5zdGFja31gKTsKICAxOwogIHN0ZC5leGl0KDEpOwp9IGZpbmFsbHkgewp9CgAAAAAAAAAAuYYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAxQcAAAAAAADHBwAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "lib/eagle/schematicRenderer.js",
			"settings":
			{
				"buffer_size": 6751,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					2,
					1,
					"revert",
					null,
					"AwAAAAAAAAAAAAAAAAAAAAAAAACOGAAAaW1wb3J0IHsgUG9pbnQsIFJlY3QsIExpbmUsIEJCb3ggfSBmcm9tICcuLi9nZW9tLmpzJzsKCmltcG9ydCB7IEVhZ2xlU1ZHUmVuZGVyZXIgfSBmcm9tICcuL3N2Z1JlbmRlcmVyLmpzJzsKaW1wb3J0IHsgSW5zdGFuY2UgfSBmcm9tICcuL2NvbXBvbmVudHMvaW5zdGFuY2UuanMnOwoKZXhwb3J0IGNsYXNzIFNjaGVtYXRpY1JlbmRlcmVyIGV4dGVuZHMgRWFnbGVTVkdSZW5kZXJlciB7CiAgc3RhdGljIHBpblNpemVzID0gewogICAgbG9uZzogMywKICAgIG1pZGRsZTogMiwKICAgIHNob3J0OiAxLAogICAgcG9pbnQ6IDAKICB9OwoKICBzdGF0aWMgcGFsZXR0ZSA9IFBhbGV0dGUuc2NoZW1hdGljKChyLCBnLCBiKSA9PiBuZXcgUkdCQShyLCBnLCBiKSk7CgogIGNvbnN0cnVjdG9yKGRvYywgZmFjdG9yeSkgewogICAgc3VwZXIoZG9jLCBmYWN0b3J5KTsKICAgIHRoaXMuaWQgPSAwOwoKICAgIHRoaXMuc2V0UGFsZXR0ZShTY2hlbWF0aWNSZW5kZXJlci5wYWxldHRlKTsKCiAgICAvL3RoaXMucGFsZXR0ZSA9IFNjaGVtYXRpY1JlbmRlcmVyLnBhbGV0dGU7CiAgfQoKICByZW5kZXJDb2xsZWN0aW9uKGNvbGxlY3Rpb24sIHBhcmVudCwgb3B0cykgewogICAgY29uc3QgYXJyID0gWy4uLmNvbGxlY3Rpb25dOwogICAgdGhpcy5kZWJ1ZyhgU2NoZW1hdGljUmVuZGVyZXIucmVuZGVyQ29sbGVjdGlvbmAsIGFyciwgb3B0cyk7CiAgICBmb3IobGV0IGl0ZW0gb2YgYXJyLmZpbHRlcihpdGVtID0+IGl0ZW0udGFnTmFtZSAhPSAndGV4dCcpKSB0aGlzLnJlbmRlckl0ZW0oaXRlbSwgcGFyZW50LCBvcHRzKTsKICAgIHRoaXMuZGVidWcoYFNjaGVtYXRpY1JlbmRlcmVyLnJlbmRlckNvbGxlY3Rpb25gLCBhcnIsIG9wdHMpOwogICAgZm9yKGxldCBpdGVtIG9mIGFyci5maWx0ZXIoaXRlbSA9PiBpdGVtLnRhZ05hbWUgPT0gJ3RleHQnKSkgdGhpcy5yZW5kZXJJdGVtKGl0ZW0sIHBhcmVudCwgb3B0cyk7CiAgfQoKICAvKioKICAgKiB7IGZ1bmN0aW9uX2Rlc2NyaXB0aW9uIH0KICAgKgogICAqIEBwYXJhbSAgICAgIHs8dHlwZT59ICBpdGVtICAgICAgIFRoZSBpdGVtCiAgICogQHBhcmFtICAgICAgezx0eXBlPn0gIHBhcmVudCAgICAgVGhlIHBhcmVudAogICAqIEBwYXJhbSAgICAgIHs8dHlwZT59ICBbb3B0cz17fV0gIFRoZSBvcHRpb25zCiAgICovCiAgcmVuZGVySXRlbShpdGVtLCBwYXJlbnQsIG9wdGlvbnMgPSB7fSkgewogICAgbGV0IFt0cmFuc2Zvcm1hdGlvbiwgdHJhbnNmb3JtLCBhY2N1bXVsYXRlXSA9IHVzZVRyYW5zZm9ybShvcHRpb25zKTsKCiAgICBjb25zdCB7IHJvdCwgcG9zLCBsYWJlbFRleHQsIC4uLm9wdHMgfSA9IG9wdGlvbnM7CiAgICBsZXQgY29vcmRGbiA9IHRyYW5zZm9ybSA/IE1ha2VDb29yZFRyYW5zZm9ybWVyKHRyYW5zZm9ybS50b01hdHJpeCgpKSA6IGkgPT4gaTsKICAgIHRoaXMuZGVidWcoYFNjaGVtYXRpY1JlbmRlcmVyLnJlbmRlckl0ZW1gLCB7IGl0ZW0sIG9wdGlvbnMgfSk7CgogICAgY29uc3QgbGF5ZXIgPSBpdGVtLmxheWVyOwogICAgY29uc3QgY29sb3IgPSB0eXBlb2YgaXRlbS5nZXRDb2xvciA9PSAnZnVuY3Rpb24nID8gaXRlbS5nZXRDb2xvcigpIDogU2NoZW1hdGljUmVuZGVyZXIucGFsZXR0ZVsxNl07CiAgICBjb25zdCBzdmcgPSAoZWxlbSwgYXR0ciwgcGFyZW50KSA9PgogICAgICB0aGlzLmNyZWF0ZSgKICAgICAgICBlbGVtLAogICAgICAgIHsKICAgICAgICAgIGNsYXNzTmFtZTogaXRlbS50YWdOYW1lLCAvLy4uLkxheWVyQXR0cmlidXRlcyhsYXllciksCiAgICAgICAgICAnZGF0YS1wYXRoJzogaXRlbS5wYXRoLnRvU3RyaW5nKCcgJyksCiAgICAgICAgICAuLi5hdHRyCiAgICAgICAgfSwKICAgICAgICBwYXJlbnQKICAgICAgKTsKCiAgICBzd2l0Y2ggKGl0ZW0udGFnTmFtZSkgewogICAgICBjYXNlICdqdW5jdGlvbic6IHsKICAgICAgICBjb25zdCB7IHgsIHkgfSA9IGNvb3JkRm4oaXRlbSk7CiAgICAgICAgc3ZnKAogICAgICAgICAgJ2NpcmNsZScsCiAgICAgICAgICB7CiAgICAgICAgICAgIGZpbGw6ICcjNGJhNTRiJywKICAgICAgICAgICAgY3g6IHgsCiAgICAgICAgICAgIGN5OiB5LAogICAgICAgICAgICByOiAwLjUsCiAgICAgICAgICAgIHN0cm9rZTogJ25vbmUnCiAgICAgICAgICB9LAogICAgICAgICAgcGFyZW50CiAgICAgICAgKTsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgY2FzZSAncGluJzogewogICAgICAgIGNvbnN0IHsgbGVuZ3RoLCByb3QsIG5hbWUsIHZpc2libGUgfSA9IGl0ZW07CiAgICAgICAgY29uc3QgeyB4LCB5IH0gPSBjb29yZEZuKGl0ZW0pOwogICAgICAgIGNvbnN0IGZ1bmMgPSBpdGVtLmZ1bmN0aW9uOwoKICAgICAgICBjb25zdCBhbmdsZSA9ICsocm90IHx8ICcwJykucmVwbGFjZSgvUi8sICcnKTsKICAgICAgICBsZXQgdmVjbGVuID0gU2NoZW1hdGljUmVuZGVyZXIucGluU2l6ZXNbbGVuZ3RoXSAqIDIuNTQ7CiAgICAgICAgaWYoZnVuYyA9PSAnZG90JykgdmVjbGVuIC09IDEuNTsKICAgICAgICBjb25zdCBkaXIgPSBQb2ludC5mcm9tQW5nbGUoKGFuZ2xlICogTWF0aC5QSSkgLyAxODApOwogICAgICAgIGNvbnN0IHZlYyA9IGRpci5wcm9kKHZlY2xlbik7CiAgICAgICAgY29uc3QgcGl2b3QgPSBuZXcgUG9pbnQoK3gsICt5KTsKICAgICAgICBjb25zdCBwcCA9IGRpci5wcm9kKHZlY2xlbiArIDAuNzUpLmFkZChwaXZvdCk7CiAgICAgICAgY29uc3QgbCA9IG5ldyBMaW5lKHBpdm90LCB2ZWMuYWRkKHBpdm90KSk7CgogICAgICAgIGlmKGZ1bmMgPT0gJ2RvdCcpIHsKICAgICAgICAgIHN2ZygKICAgICAgICAgICAgJ2NpcmNsZScsCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBjbGFzczogJ3BpbicsCiAgICAgICAgICAgICAgc3Ryb2tlOiAnI2E1NGI0YicsCiAgICAgICAgICAgICAgZmlsbDogJ25vbmUnLAogICAgICAgICAgICAgIGN4OiBwcC54LAogICAgICAgICAgICAgIGN5OiBwcC55LAogICAgICAgICAgICAgIHI6IDAuNzUsCiAgICAgICAgICAgICAgJ3N0cm9rZS13aWR0aCc6IDAuMwogICAgICAgICAgICB9LAogICAgICAgICAgICBwYXJlbnQKICAgICAgICAgICk7CiAgICAgICAgfQoKICAgICAgICBzdmcoCiAgICAgICAgICAnbGluZScsCiAgICAgICAgICB7CiAgICAgICAgICAgIGNsYXNzOiAncGluJywKICAgICAgICAgICAgc3Ryb2tlOiAnI2E1NGI0YicsCiAgICAgICAgICAgIC4uLmwudG9PYmplY3QoKSwKICAgICAgICAgICAgJ3N0cm9rZS13aWR0aCc6IDAuMTUKICAgICAgICAgIH0sCiAgICAgICAgICBwYXJlbnQKICAgICAgICApOwogICAgICAgIGlmKG5hbWUgIT0gJycgJiYgdmlzaWJsZSAhPSAnb2ZmJykKICAgICAgICAgIHN2ZygKICAgICAgICAgICAgJ3RleHQnLAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgY2xhc3M6ICdwaW4nLAogICAgICAgICAgICAgIHN0cm9rZTogJ25vbmUnLAogICAgICAgICAgICAgIGZpbGw6IFNjaGVtYXRpY1JlbmRlcmVyLnBhbGV0dGVbNl0sCiAgICAgICAgICAgICAgeDogdmVjLnggKyAyLjU0LAogICAgICAgICAgICAgIHk6IHZlYy55ICsgMCwKICAgICAgICAgICAgICAnZm9udC1zaXplJzogMC42LAogICAgICAgICAgICAgIC8vICAnZm9udC1mYW1pbHknOiAnRml4ZWQgTWVkaXVtJywKICAgICAgICAgICAgICAndGV4dC1hbmNob3InOiAnbGVmdCcsCiAgICAgICAgICAgICAgJ2FsaWdubWVudC1iYXNlbGluZSc6ICdjZW50cmFsJywKICAgICAgICAgICAgICBjaGlsZHJlbjogbmFtZQogICAgICAgICAgICAgIC8vdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7dmVjLnh9LCR7dmVjLnl9KSBzY2FsZSgxLC0xKSByb3RhdGUoJHstYW5nbGV9KWAKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcGFyZW50CiAgICAgICAgICApOwogICAgICAgIGJyZWFrOwogICAgICB9CiAgICAgIGRlZmF1bHQ6IHsKICAgICAgICBzdXBlci5yZW5kZXJJdGVtKGl0ZW0sIHBhcmVudCwgeyAuLi5hY2N1bXVsYXRlKCksIC4uLm9wdHMgfSk7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KICB9CgogIHJlbmRlck5ldChuZXQsIHBhcmVudCkgewogICAgdGhpcy5kZWJ1ZyhgU2NoZW1hdGljUmVuZGVyZXIucmVuZGVyTmV0YCwgeyBuZXQsIHBhcmVudCB9KTsKICAgIGxldCBnID0gdGhpcy5jcmVhdGUoJ2cnLCB7IGNsYXNzTmFtZTogYG5ldCAke25ldC5uYW1lfWAgfSwgcGFyZW50KTsKICAgIGZvcihsZXQgc2VnbWVudCBvZiBuZXQuY2hpbGRyZW4pCiAgICAgIHRoaXMucmVuZGVyQ29sbGVjdGlvbihzZWdtZW50LmNoaWxkcmVuLCBnLCB7CiAgICAgICAgbGFiZWxUZXh0OiBuZXQubmFtZSwKICAgICAgICB0cmFuc2Zvcm1hdGlvbjogdGhpcy50cmFuc2Zvcm0KICAgICAgfSk7CiAgfQoKICByZW5kZXJTaGVldChzaGVldCwgcGFyZW50KSB7CiAgICBjb25zdCB7IHRyYW5zZm9ybSB9ID0gdGhpczsKICAgIHRoaXMuZGVidWcoYFNjaGVtYXRpY1JlbmRlcmVyLnJlbmRlclNoZWV0YCwgeyBzaGVldCwgcGFyZW50LCB0cmFuc2Zvcm0gfSk7CiAgICBsZXQgaW5zdGFuY2VzID0gc2hlZXQuaW5zdGFuY2VzOwogICAgdGhpcy5kZWJ1ZyhgU2NoZW1hdGljUmVuZGVyZXIucmVuZGVyU2hlZXRgLCBzaGVldCk7CiAgICBsZXQgbmV0c0dyb3VwID0gdGhpcy5jcmVhdGUoJ2cnLCB7IGNsYXNzTmFtZTogJ25ldHMnLCB0cmFuc2Zvcm0sICdmb250LWZhbWlseSc6ICdGaXhlZCcsICdmb250LXNpemUnOiAwLjYgfSwgcGFyZW50KTsKICAgIGxldCBpbnN0YW5jZXNHcm91cCA9IHRoaXMuY3JlYXRlKCdnJywgeyBjbGFzc05hbWU6ICdpbnN0YW5jZXMnLCB0cmFuc2Zvcm0sICdmb250LWZhbWlseSc6ICdGaXhlZCcsICdmb250LXNpemUnOiAwLjYgfSwgcGFyZW50KTsKICAgIGluc3RhbmNlc0dyb3VwLnByb3BzLmNoaWxkcmVuID0gWy4uLmluc3RhbmNlcy5saXN0XS5tYXAoZGF0YSA9PiBoKEluc3RhbmNlLCB7IGRhdGEsIG9wdHM6IHsgdHJhbnNmb3JtYXRpb246IHRyYW5zZm9ybSB9IH0pKTsKICAgIGZvcihsZXQgbmV0IG9mIHNoZWV0Lm5ldHMubGlzdCkgdGhpcy5yZW5kZXJOZXQobmV0LCBuZXRzR3JvdXApOwogIH0KCiAgcmVuZGVyKGRvYyA9IHRoaXMuZG9jLCBwYXJlbnQsIHByb3BzID0ge30sIHNoZWV0Tm8gPSAwKSB7CiAgICAvL2NvbnNvbGUubG9nKCdkb2M6JywgZG9jKTsKICAgIGNvbnNvbGUubG9nKCdTY2hlbWF0aWNSZW5kZXJlci5yZW5kZXInLCB7IGRvYywgcGFyZW50LCBwcm9wcywgc2hlZXRObyB9KTsKCiAgICAvKiAgIGNvbnN0IHNoZWV0c0VsZW0gPSBpc09iamVjdChkb2MpICYmIGRvYy5maW5kICYmIGRvYy5maW5kKCdzaGVldHMnKTsKICAgIGNvbnN0IHNoZWV0cyA9IHNoZWV0c0VsZW0/LmNoaWxkcmVuID8/IFtdOyovCgogICAgLy9jb25zb2xlLmxvZygnZG9jLnNoZWV0czonLHNoZWV0cyk7CgogICAgbGV0IHNoZWV0ID0gZG9jLnNoZWV0c1tzaGVldE5vXTsKICAgIGNvbnNvbGUubG9nKCdzaGVldCcsIHNoZWV0KTsKICAgIGNvbnNvbGUubG9nKCdzaGVldE5vJywgc2hlZXRObyk7CiAgICAvL2NvbnNvbGUubG9nKCdkb2MnLCBkb2MsIGNsYXNzTmFtZShkb2MpKTsKCiAgICBsZXQgYm91bmRzID0gZG9jLmdldEJvdW5kcyhzaGVldE5vIHx8IDApOwogICAgLy9jb25zb2xlLmxvZygnYm91bmRzOicsIGJvdW5kcyk7CiAgICBsZXQgcmVjdCA9IGJvdW5kcy50b1JlY3QoUmVjdC5wcm90b3R5cGUpOwoKICAgIHJlY3Qub3V0c2V0KDEuMjcpOwogICAgcmVjdC5yb3VuZCgyLjU0KTsKCiAgICBib3VuZHMgPSBuZXcgQkJveChyZWN0LngxLCAtcmVjdC55MiwgcmVjdC54MiwgLXJlY3QueTEpOwoKICAgIHRoaXMuZGVidWcoYFNjaGVtYXRpY1JlbmRlcmVyLnJlbmRlcmAsIHsKICAgICAgZG9jLAogICAgICBzaGVldE5vLAogICAgICBib3VuZHMsCiAgICAgIHZpZXdCb3g6IHJlY3QKICAgIH0pOwogICAgbGV0IHsgdHJhbnNmb3JtIH0gPSB0aGlzOwogICAgbGV0IHN2Z0VsZW0gPSBzdXBlci5yZW5kZXIoc2hlZXQsIHsgYm91bmRzIH0pOwoKICAgIHRoaXMuZGVidWcoJ3RoaXMudHJhbnNmb3JtOicsIHRoaXMudHJhbnNmb3JtLCAndGhpcy5yZWN0OicsIHRoaXMucmVjdCwgJ2RvYzonLCBkb2MpOwoKICAgIHRoaXMucmVuZGVyU2hlZXQoc2hlZXQsIHN2Z0VsZW0pOwogICAgdGhpcy5kZWJ1ZyhgU2NoZW1hdGljUmVuZGVyZXIucmVuZGVyYCwgeyBzaGVldCwgc3ZnRWxlbSB9KTsKCiAgICAvL3RoaXMucmVuZGVySW5zdGFuY2VzKHBhcmVudCwgc2hlZXRObywgcmVjdCk7CgogICAgcmV0dXJuIHN2Z0VsZW07CiAgfQp9CgpFYWdsZVNWR1JlbmRlcmVyLnJlbmRlcmVyVHlwZXMuc2NoID0gU2NoZW1hdGljUmVuZGVyZXI7CgAAAAAAAAAAXxoAAAAAAAAAAAAAAAAAAAAAAABfGgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAA2AAAAAAAAADYAAAAAAAAAAAAAAAAAAAA"
				]
			]
		},
		{
			"file": "lib/eagle/components.js",
			"settings":
			{
				"buffer_size": 3776,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					7,
					1,
					"cut",
					null,
					"AQAAAMcFAAAAAAAAxwUAAAAAAAA1AAAAaW1wb3J0IHsgV2lyZVBhdGggfSBmcm9tICcuL2NvbXBvbmVudHMvd2lyZVBhdGguanMnOwo",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADHBQAAAAAAAPwFAAAAAAAAAAAAAAAA8L8"
				],
				[
					8,
					2,
					"paste",
					null,
					"AgAAAMcFAAAAAAAA/AUAAAAAAAAAAAAA/AUAAAAAAAAxBgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADHBQAAAAAAAMcFAAAAAAAAAAAAAAAA8L8"
				],
				[
					13,
					1,
					"insert",
					{
						"characters": "ucfirst"
					},
					"CAAAAAUGAAAAAAAABgYAAAAAAAAAAAAABgYAAAAAAAAGBgAAAAAAAAgAAABXaXJlUGF0aAYGAAAAAAAABwYAAAAAAAAAAAAABwYAAAAAAAAIBgAAAAAAAAAAAAAIBgAAAAAAAAkGAAAAAAAAAAAAAAkGAAAAAAAACgYAAAAAAAAAAAAACgYAAAAAAAALBgAAAAAAAAAAAAALBgAAAAAAAAwGAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAFBgAAAAAAAA0GAAAAAAAAAAAAAAAA8L8"
				],
				[
					17,
					1,
					"insert",
					{
						"characters": "./misc.js"
					},
					"CgAAABYGAAAAAAAAFwYAAAAAAAAAAAAAFwYAAAAAAAAXBgAAAAAAABcAAAAvY29tcG9uZW50cy93aXJlUGF0aC5qcxcGAAAAAAAAGAYAAAAAAAAAAAAAGAYAAAAAAAAZBgAAAAAAAAAAAAAZBgAAAAAAABoGAAAAAAAAAAAAABoGAAAAAAAAGwYAAAAAAAAAAAAAGwYAAAAAAAAcBgAAAAAAAAAAAAAcBgAAAAAAAB0GAAAAAAAAAAAAAB0GAAAAAAAAHgYAAAAAAAAAAAAAHgYAAAAAAAAfBgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAWBgAAAAAAAC0GAAAAAAAAAAAAAAAA8L8"
				]
			]
		},
		{
			"file": "eagle2svg.js",
			"settings":
			{
				"buffer_size": 2511,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					8,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAC7CAAAIyEvdXNyL2Jpbi9lbnYgcWpzbQoKCmltcG9ydCAqIGFzIHBhdGggZnJvbSAnLi9saWIvcGF0aC5qcyc7CgppbXBvcnQgeyBsb2csIEVhZ2xlRG9jdW1lbnQsIFJlbmRlcmVyLCBFYWdsZVByb2plY3QgfSBmcm9tICcuL2xpYi9lYWdsZS5qcyc7CgppbXBvcnQgeyBDb25zb2xlIH0gZnJvbSAnY29uc29sZSc7CgppbXBvcnQgeyBXcml0ZUZpbGUgfSBmcm9tICcuL2lvLWhlbHBlcnMuanMnOwppbXBvcnQgeyBnZXRPcHQgfSBmcm9tICd1dGlsJzsKaW1wb3J0IHsgcmVhZEZpbGVTeW5jIH0gZnJvbSAnZnMnOwppbXBvcnQgeyBSZWFjdENvbXBvbmVudCwgcmVuZGVyIH0gZnJvbSAnLi9saWIvZG9tL3ByZWFjdENvbXBvbmVudC5qcyc7CmltcG9ydCByZW5kZXJUb1N0cmluZyBmcm9tICcuL2xpYi9wcmVhY3QtcmVuZGVyLXRvLXN0cmluZy5qcyc7CgoKbGV0IGRlYnVnRmxhZyA9IGZhbHNlOwoKZnVuY3Rpb24gcmVuZGVyKGRvYywgZmlsZW5hbWUpIHsKICBpZihkb2MgaW5zdGFuY2VvZiBFYWdsZVByb2plY3QpIHsKICAgIHJlbmRlcihkb2Muc2NoZW1hdGljKTsKICAgIHJlbmRlcihkb2MuYm9hcmQpOwogICAgcmV0dXJuOwogIH0KICBsZXQgcmVuZGVyZXIgPSBuZXcgUmVuZGVyZXIoZG9jLCBSZWFjdENvbXBvbmVudC5hcHBlbmQsIGRlYnVnRmxhZyk7CgogIC8qIHJlbmRlcmVyLnNldFBhbGV0dGUoWwogICAgWzB4ZmYsIDB4ZmYsIDB4ZmZdLAogICAgWzB4NGIsIDB4NGIsIDB4YTVdLAogICAgWzAsIDAsIDBdLAogICAgWzB4NGIsIDB4YTUsIDB4YTVdLAogICAgWzAsIDAsIDBdLAogICAgWzB4YTUsIDB4NGIsIDB4YTVdLAogICAgWzB4YTUsIDB4YTUsIDB4NGJdLAogICAgWzAsIDAsIDBdLAogICAgWzB4NGIsIDB4NGIsIDB4ZmZdLAogICAgWzB4NGIsIDB4ZmYsIDB4NGJdLAogICAgWzB4NGIsIDB4ZmYsIDB4ZmZdLAogICAgWzB4ZmYsIDB4NGIsIDB4NGJdLAogICAgWzB4ZmYsIDB4NGIsIDB4ZmZdLAogICAgWzB4ZmYsIDB4ZmYsIDB4NGJdLAogICAgWzB4NGIsIDB4NGIsIDB4NGJdLAogICAgWzB4YTUsIDB4YTUsIDB4YTVdLAogICAgWzAsIDAsIDBdCiAgXS5tYXAoKFtyLGcsYl0pID0+IG5ldyBSR0JBKHIsZyxiKSkpOyovCgogIGxldCBzdHI7CiAgbGV0IHN2ZyA9IHJlbmRlcmVyLnJlbmRlcihkb2MpOwogIHRyeSB7CiAgICBzdHIgPSByZW5kZXJUb1N0cmluZyhzdmcpOwogIH0gY2F0Y2goZSkgewogICAgY29uc29sZS5sb2coJ0VSUk9SOicsIGUpOwogICAgY29uc29sZS5sb2coJ1NUQUNLOicsIGUuc3RhY2spOwogIH0KICBsZXQgeG1sID0gZnJvbVhNTChzdHIpOwoKICBpZihmaWxlbmFtZSkgewogICAgbGV0IHJldDsKICAgIHJldCA9IFdyaXRlRmlsZShmaWxlbmFtZSwgKHN0ciA9IHRvWE1MKHhtbCkpKTsKICAgIGNvbnNvbGUubG9nKGBTYXZpbmcgdG8gJyR7ZmlsZW5hbWV9Jy4uLmAsIHJldCk7CiAgfQogIHJldHVybiBzdHI7Cn0KCmZ1bmN0aW9uIG1haW4oLi4uYXJncykgewogIGdsb2JhbFRoaXMuY29uc29sZSA9IG5ldyBDb25zb2xlKHsKICAgIGluc3BlY3RPcHRpb25zOiB7IG1heEFycmF5TGVuZ3RoOiAxMDAsIGNvbG9yczogdHJ1ZSwgZGVwdGg6IDIsIGNvbXBhY3Q6IDAsIGN1c3RvbUluc3BlY3Q6IHRydWUgfQogIH0pOwoKICBsZXQgcGFyYW1zID0gZ2V0T3B0KAogICAgewogICAgICBkZWJ1ZzogW2ZhbHNlLCB2YWx1ZSA9PiAoZGVidWdGbGFnID0gdmFsdWUpLCAneCddLAogICAgICAnb3V0cHV0LWRpcic6IFt0cnVlLCBudWxsLCAnZCddLAogICAgICAnQCc6ICdpbnB1dCcKICAgIH0sCiAgICBhcmdzCiAgKTsKCiAgZm9yKGxldCBhcmcgb2YgYXJncykgewogICAgbGV0IGRvYyA9IEVhZ2xlRG9jdW1lbnQub3BlbihhcmcsIGYgPT4gIHJlYWRGaWxlU3luYyhmLCAndXRmLTgnKSk7CiAgICBsZXQgZmlsZSA9IHBhdGguYmFzZW5hbWUoZG9jLmZpbGVuYW1lLCAnLicgKyBkb2MudHlwZSkgKyAnLScgKyB7IHNjaDogJ3NjaGVtYXRpYycsIGJyZDogJ2JvYXJkJywgbGJyOiAnbGlicmFyeScgfVtkb2MudHlwZV0gKyAnLnN2Zyc7CgogICAgaWYocGFyYW1zWydvdXRwdXQtZGlyJ10pIGZpbGUgPSBwYXRoLmpvaW4ocGFyYW1zWydvdXRwdXQtZGlyJ10sIGZpbGUpOwoKICAgIHJlbmRlcihkb2MsIGZpbGUpOwogIH0KfQoKdHJ5IHsKICBtYWluKC4uLnNjcmlwdEFyZ3Muc2xpY2UoMSkpOwp9IGNhdGNoKGVycm9yKSB7CiAgY29uc29sZS5sb2coYEZBSUw6ICR7ZXJyb3IubWVzc2FnZX1cbiR7ZXJyb3Iuc3RhY2t9YCk7Cn0KAAAAAAAAAADQCQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACLAAAAAAAAAIsAAAAAAAAAAAAAAAAA8L8"
				],
				[
					21,
					1,
					"revert",
					null,
					"AwAAAAAAAAAAAAAAAAAAAAAAAADQCQAAIyEvdXNyL2Jpbi9lbnYgcWpzbQppbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4vbGliL21pc2MuanMnOwppbXBvcnQgKiBhcyBkZWVwIGZyb20gJy4vbGliL2RlZXAuanMnOwppbXBvcnQgKiBhcyBwYXRoIGZyb20gJy4vbGliL3BhdGguanMnOwppbXBvcnQgKiBhcyBmcyBmcm9tICdmcyc7CmltcG9ydCB7IGxvZywgRWFnbGVEb2N1bWVudCwgUmVuZGVyZXIsIEVhZ2xlUHJvamVjdCB9IGZyb20gJy4vbGliL2VhZ2xlLmpzJzsKaW1wb3J0IHJlcXVpcmUgZnJvbSAncmVxdWlyZSc7CmltcG9ydCB7IENvbnNvbGUgfSBmcm9tICdjb25zb2xlJzsKaW1wb3J0IHsgcmVhZCBhcyBmcm9tWE1MLCB3cml0ZSBhcyB0b1hNTCB9IGZyb20gJy4vbGliL3htbC5qcyc7CmltcG9ydCB7IFdyaXRlRmlsZSB9IGZyb20gJy4vaW8taGVscGVycy5qcyc7CmltcG9ydCB7IGdldE9wdCB9IGZyb20gJ3V0aWwnOwppbXBvcnQgeyByZWFkRmlsZVN5bmMgfSBmcm9tICdmcyc7CmltcG9ydCB7IFJlYWN0Q29tcG9uZW50LCByZW5kZXIgfSBmcm9tICcuL2xpYi9kb20vcHJlYWN0Q29tcG9uZW50LmpzJzsKaW1wb3J0IHJlbmRlclRvU3RyaW5nIGZyb20gJy4vbGliL3ByZWFjdC1yZW5kZXItdG8tc3RyaW5nLmpzJzsKaW1wb3J0IHsgUkdCQSwgaXNSR0JBLCBJbW11dGFibGVSR0JBLCBkZWZhdWx0IGFzIHJnYmEgfSBmcm9tICcuL2xpYi9jb2xvci9yZ2JhLmpzJzsKCmxldCBkZWJ1Z0ZsYWcgPSBmYWxzZTsKCmZ1bmN0aW9uIHJlbmRlcihkb2MsIGZpbGVuYW1lKSB7CiAgaWYoZG9jIGluc3RhbmNlb2YgRWFnbGVQcm9qZWN0KSB7CiAgICByZW5kZXIoZG9jLnNjaGVtYXRpYyk7CiAgICByZW5kZXIoZG9jLmJvYXJkKTsKICAgIHJldHVybjsKICB9CiAgbGV0IHJlbmRlcmVyID0gbmV3IFJlbmRlcmVyKGRvYywgUmVhY3RDb21wb25lbnQuYXBwZW5kLCBkZWJ1Z0ZsYWcpOwoKICAvKiByZW5kZXJlci5zZXRQYWxldHRlKFsKICAgIFsweGZmLCAweGZmLCAweGZmXSwKICAgIFsweDRiLCAweDRiLCAweGE1XSwKICAgIFswLCAwLCAwXSwKICAgIFsweDRiLCAweGE1LCAweGE1XSwKICAgIFswLCAwLCAwXSwKICAgIFsweGE1LCAweDRiLCAweGE1XSwKICAgIFsweGE1LCAweGE1LCAweDRiXSwKICAgIFswLCAwLCAwXSwKICAgIFsweDRiLCAweDRiLCAweGZmXSwKICAgIFsweDRiLCAweGZmLCAweDRiXSwKICAgIFsweDRiLCAweGZmLCAweGZmXSwKICAgIFsweGZmLCAweDRiLCAweDRiXSwKICAgIFsweGZmLCAweDRiLCAweGZmXSwKICAgIFsweGZmLCAweGZmLCAweDRiXSwKICAgIFsweDRiLCAweDRiLCAweDRiXSwKICAgIFsweGE1LCAweGE1LCAweGE1XSwKICAgIFswLCAwLCAwXQogIF0ubWFwKChbcixnLGJdKSA9PiBuZXcgUkdCQShyLGcsYikpKTsqLwoKICBsZXQgc3RyOwogIGxldCBzdmcgPSByZW5kZXJlci5yZW5kZXIoZG9jKTsKICB0cnkgewogICAgc3RyID0gcmVuZGVyVG9TdHJpbmcoc3ZnKTsKICB9IGNhdGNoKGUpIHsKICAgIGNvbnNvbGUubG9nKCdFUlJPUjonLCBlKTsKICAgIGNvbnNvbGUubG9nKCdTVEFDSzonLCBlLnN0YWNrKTsKICB9CiAgbGV0IHhtbCA9IGZyb21YTUwoc3RyKTsKCiAgaWYoZmlsZW5hbWUpIHsKICAgIGxldCByZXQ7CiAgICByZXQgPSBXcml0ZUZpbGUoZmlsZW5hbWUsIChzdHIgPSB0b1hNTCh4bWwpKSk7CiAgICBjb25zb2xlLmxvZyhgU2F2aW5nIHRvICcke2ZpbGVuYW1lfScuLi5gLCByZXQpOwogIH0KICByZXR1cm4gc3RyOwp9CgpmdW5jdGlvbiBtYWluKC4uLmFyZ3MpIHsKICBnbG9iYWxUaGlzLmNvbnNvbGUgPSBuZXcgQ29uc29sZSh7CiAgICBpbnNwZWN0T3B0aW9uczogeyBtYXhBcnJheUxlbmd0aDogMTAwLCBjb2xvcnM6IHRydWUsIGRlcHRoOiAyLCBjb21wYWN0OiAwLCBjdXN0b21JbnNwZWN0OiB0cnVlIH0KICB9KTsKCiAgbGV0IHBhcmFtcyA9IGdldE9wdCgKICAgIHsKICAgICAgZGVidWc6IFtmYWxzZSwgdmFsdWUgPT4gKGRlYnVnRmxhZyA9IHZhbHVlKSwgJ3gnXSwKICAgICAgJ291dHB1dC1kaXInOiBbdHJ1ZSwgbnVsbCwgJ2QnXSwKICAgICAgJ0AnOiAnaW5wdXQnCiAgICB9LAogICAgYXJncwogICk7CgogIGZvcihsZXQgYXJnIG9mIGFyZ3MpIHsKICAgIGxldCBkb2MgPSBFYWdsZURvY3VtZW50Lm9wZW4oYXJnLCBmID0+ICByZWFkRmlsZVN5bmMoZiwgJ3V0Zi04JykpOwogICAgbGV0IGZpbGUgPSBwYXRoLmJhc2VuYW1lKGRvYy5maWxlbmFtZSwgJy4nICsgZG9jLnR5cGUpICsgJy0nICsgeyBzY2g6ICdzY2hlbWF0aWMnLCBicmQ6ICdib2FyZCcsIGxicjogJ2xpYnJhcnknIH1bZG9jLnR5cGVdICsgJy5zdmcnOwoKICAgIGlmKHBhcmFtc1snb3V0cHV0LWRpciddKSBmaWxlID0gcGF0aC5qb2luKHBhcmFtc1snb3V0cHV0LWRpciddLCBmaWxlKTsKCiAgICByZW5kZXIoZG9jLCBmaWxlKTsKICB9Cn0KCnRyeSB7CiAgbWFpbiguLi5zY3JpcHRBcmdzLnNsaWNlKDEpKTsKfSBjYXRjaChlcnJvcikgewogIGNvbnNvbGUubG9nKGBGQUlMOiAke2Vycm9yLm1lc3NhZ2V9XG4ke2Vycm9yLnN0YWNrfWApOwp9CgAAAAAAAAAAzwkAAAAAAAAAAAAAAAAAAAAAAADPCQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABMCAAAAAAAAEwIAAAAAAAAAAAAAAAA8L8"
				],
				[
					1,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADPCQAAIyEvdXNyL2Jpbi9lbnYgcWpzbQppbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4vbGliL21pc2MuanMnOwppbXBvcnQgKiBhcyBkZWVwIGZyb20gJy4vbGliL2RlZXAuanMnOwppbXBvcnQgKiBhcyBwYXRoIGZyb20gJy4vbGliL3BhdGguanMnOwppbXBvcnQgKiBhcyBmcyBmcm9tICdmcyc7CmltcG9ydCB7IGxvZywgRWFnbGVEb2N1bWVudCwgUmVuZGVyZXIsIEVhZ2xlUHJvamVjdCB9IGZyb20gJy4vbGliL2VhZ2xlLmpzJzsKaW1wb3J0IHJlcXVpcmUgZnJvbSAncmVxdWlyZSc7CmltcG9ydCB7IENvbnNvbGUgfSBmcm9tICdjb25zb2xlJzsKaW1wb3J0IHsgcmVhZCBhcyBmcm9tWE1MLCB3cml0ZSBhcyB0b1hNTCB9IGZyb20gJy4vbGliL3htbC5qcyc7CmltcG9ydCB7IFdyaXRlRmlsZSB9IGZyb20gJy4vaW8taGVscGVycy5qcyc7CmltcG9ydCB7IGdldE9wdCB9IGZyb20gJ3V0aWwnOwppbXBvcnQgeyByZWFkRmlsZVN5bmMgfSBmcm9tICdmcyc7CmltcG9ydCB7IFJlYWN0Q29tcG9uZW50LCByZW5kZXIgfSBmcm9tICcuL2xpYi9kb20vcHJlYWN0Q29tcG9uZW50LmpzJzsKaW1wb3J0IHJlbmRlclRvU3RyaW5nIGZyb20gJy4vbGliL3ByZWFjdC1yZW5kZXItdG8tc3RyaW5nLmpzJzsKaW1wb3J0IHsgUkdCQSwgaXNSR0JBLCBJbW11dGFibGVSR0JBLCBkZWZhdWx0IGFzIHJnYmEgfSBmcm9tICcuL2xpYi9jb2xvci9yZ2JhLmpzJzsKCmxldCBkZWJ1Z0ZsYWcgPSBmYWxzZTsKCmZ1bmN0aW9uIHJlbmRlcihkb2MsIGZpbGVuYW1lKSB7CiAgaWYoZG9jIGluc3RhbmNlb2YgRWFnbGVQcm9qZWN0KSB7CiAgICByZW5kZXIoZG9jLnNjaGVtYXRpYyk7CiAgICByZW5kZXIoZG9jLmJvYXJkKTsKICAgIHJldHVybjsKICB9CiAgbGV0IHJlbmRlcmVyID0gbmV3IFJlbmRlcmVyKGRvYywgUmVhY3RDb21wb25lbnQuYXBwZW5kLCBkZWJ1Z0ZsYWcpOwoKICAvKiByZW5kZXJlci5zZXRQYWxldHRlKFsKICAgIFsweGZmLCAweGZmLCAweGZmXSwKICAgIFsweDRiLCAweDRiLCAweGE1XSwKICAgIFswLCAwLCAwXSwKICAgIFsweDRiLCAweGE1LCAweGE1XSwKICAgIFswLCAwLCAwXSwKICAgIFsweGE1LCAweDRiLCAweGE1XSwKICAgIFsweGE1LCAweGE1LCAweDRiXSwKICAgIFswLCAwLCAwXSwKICAgIFsweDRiLCAweDRiLCAweGZmXSwKICAgIFsweDRiLCAweGZmLCAweDRiXSwKICAgIFsweDRiLCAweGZmLCAweGZmXSwKICAgIFsweGZmLCAweDRiLCAweDRiXSwKICAgIFsweGZmLCAweDRiLCAweGZmXSwKICAgIFsweGZmLCAweGZmLCAweDRiXSwKICAgIFsweDRiLCAweDRiLCAweDRiXSwKICAgIFsweGE1LCAweGE1LCAweGE1XSwKICAgIFswLCAwLCAwXQogIF0ubWFwKChbcixnLGJdKSA9PiBuZXcgUkdCQShyLGcsYikpKTsqLwoKICBsZXQgc3RyOwogIGxldCBzdmcgPSByZW5kZXJlci5yZW5kZXIoZG9jKTsKICB0cnkgewogICAgc3RyID0gcmVuZGVyVG9TdHJpbmcoc3ZnKTsKICB9IGNhdGNoKGUpIHsKICAgIGNvbnNvbGUubG9nKCdFUlJPUjonLCBlKTsKICAgIGNvbnNvbGUubG9nKCdTVEFDSzonLCBlLnN0YWNrKTsKICB9CiAgbGV0IHhtbCA9IGZyb21YTUwoc3RyKTsKCiAgaWYoZmlsZW5hbWUpIHsKICAgIGxldCByZXQ7CiAgICByZXQgPSBXcml0ZUZpbGUoZmlsZW5hbWUsIChzdHIgPSB0b1hNTCh4bWwpKSk7CiAgICBjb25zb2xlLmxvZyhgU2F2aW5nIHRvICcke2ZpbGVuYW1lfScuLi5gLCByZXQpOwogIH0KICByZXR1cm4gc3RyOwp9CgpmdW5jdGlvbiBtYWluKC4uLmFyZ3MpIHsKICBnbG9iYWxUaGlzLmNvbnNvbGUgPSBuZXcgQ29uc29sZSh7CiAgICBpbnNwZWN0T3B0aW9uczogeyBtYXhBcnJheUxlbmd0aDogMTAwLCBjb2xvcnM6IHRydWUsIGRlcHRoOiAyLCBjb21wYWN0OiAwLCBjdXN0b21JbnNwZWN0OiB0cnVlIH0KICB9KTsKCiAgbGV0IHBhcmFtcyA9IGdldE9wdCgKICAgIHsKICAgICAgZGVidWc6IFtmYWxzZSwgdmFsdWUgPT4gKGRlYnVnRmxhZyA9IHZhbHVlKSwgJ3gnXSwKICAgICAgJ291dHB1dC1kaXInOiBbdHJ1ZSwgbnVsbCwgJ2QnXSwKICAgICAgJ0AnOiAnaW5wdXQnCiAgICB9LAogICAgYXJncwogICk7CgogIGZvcihsZXQgYXJnIG9mIGFyZ3MpIHsKICAgIGxldCBkb2MgPSBFYWdsZURvY3VtZW50Lm9wZW4oYXJnLCBmID0+IHJlYWRGaWxlU3luYyhmLCAndXRmLTgnKSk7CiAgICBsZXQgZmlsZSA9IHBhdGguYmFzZW5hbWUoZG9jLmZpbGVuYW1lLCAnLicgKyBkb2MudHlwZSkgKyAnLScgKyB7IHNjaDogJ3NjaGVtYXRpYycsIGJyZDogJ2JvYXJkJywgbGJyOiAnbGlicmFyeScgfVtkb2MudHlwZV0gKyAnLnN2Zyc7CgogICAgaWYocGFyYW1zWydvdXRwdXQtZGlyJ10pIGZpbGUgPSBwYXRoLmpvaW4ocGFyYW1zWydvdXRwdXQtZGlyJ10sIGZpbGUpOwoKICAgIHJlbmRlcihkb2MsIGZpbGUpOwogIH0KfQoKdHJ5IHsKICBtYWluKC4uLnNjcmlwdEFyZ3Muc2xpY2UoMSkpOwp9IGNhdGNoKGVycm9yKSB7CiAgY29uc29sZS5sb2coYEZBSUw6ICR7ZXJyb3IubWVzc2FnZX1cbiR7ZXJyb3Iuc3RhY2t9YCk7Cn0KAAAAAAAAAADPCQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAATAgAAAAAAABMCAAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "pcb-conversion.js",
			"settings":
			{
				"buffer_size": 5484,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					1,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABsFQAAaW1wb3J0IHsgUmVhZEZpbGUsIFdyaXRlRmlsZSB9IGZyb20gJy4vaW8taGVscGVycy5qcyc7CmltcG9ydCAqIGFzIHBhdGggZnJvbSAncGF0aCc7CmltcG9ydCAqIGFzIHV0aWwgZnJvbSAndXRpbCc7CmltcG9ydCB7IGV4ZWMsIHNwYXduIH0gZnJvbSAnY2hpbGRfcHJvY2Vzcyc7CmltcG9ydCAqIGFzIGZzIGZyb20gJ2ZzJzsKaW1wb3J0IGNoaWxkX3Byb2Nlc3MgZnJvbSAnY2hpbGRfcHJvY2Vzcyc7CmltcG9ydCB7IEV4ZWNUb29sIH0gZnJvbSAnLi9vcy1oZWxwZXJzLmpzJzsKZXhwb3J0IHsgRXhlY1Rvb2wgfSBmcm9tICcuL29zLWhlbHBlcnMuanMnOwoKZXhwb3J0IGZ1bmN0aW9uIEVhZ2xlVG9HZXJiZXIoYm9hcmRGaWxlLCBvcHRzID0ge30pIHsKICBjb25zb2xlLmxvZygnY29udmVydFRvR2VyYmVyJywgeyBib2FyZEZpbGUsIG9wdHMgfSk7CiAgbGV0IHsKICAgIGxheWVycyA9IG9wdHMuc2lkZSA9PSAnb3V0bGluZScgPyBbJ01lYXN1cmVzJ10gOiBvcHRzLmRyaWxsID8gWydEcmlsbHMnLCAnSG9sZXMnXSA6IFtvcHRzLmZyb250ID8gJ1RvcCcgOiAnQm90dG9tJywgJ1BhZHMnLCAnVmlhcyddLAogICAgZm9ybWF0ID0gb3B0cy5kcmlsbCA/ICdFWENFTExPTicgOiAnR0VSQkVSX1JTMjc0WCcsCiAgICBkYXRhLAogICAgZmV0Y2ggPSBmYWxzZSwKICAgIGZyb250LAogICAgYmFjaywKICAgIG91dGRpciA9IHN0ZC5nZXRlbnYoJ1RNUERJUicpID8/ICcvdG1wJwogIH0gPSBvcHRzOwogIGNvbnN0IGJhc2UgPSBwYXRoLmJhc2VuYW1lKGJvYXJkRmlsZSwgJy5icmQnKTsKICBjb25zdCBmb3JtYXRUb0V4dCA9IChsYXllcnMsIGZvcm1hdCkgPT4gewogICAgaWYob3B0cy5kcmlsbCB8fCBmb3JtYXQuc3RhcnRzV2l0aCgnRVhDRUxMT04nKSB8fCBsYXllcnMuaW5kZXhPZignRHJpbGxzJykgIT0gLTEgfHwgbGF5ZXJzLmluZGV4T2YoJ0hvbGVzJykgIT0gLTEpIHJldHVybiAnVFhUJzsKICAgIGlmKGxheWVycy5pbmRleE9mKCdCb3R0b20nKSAhPSAtMSB8fCBmb3JtYXQuc3RhcnRzV2l0aCgnR0VSQkVSJykpIHJldHVybiBvcHRzLnNpZGUgPT0gJ291dGxpbmUnID8gJ0dLTycgOiBmcm9udCA/ICdHVEwnIDogJ0dCTCc7CgogICAgcmV0dXJuICdyczI3NHgnOwogIH07CiAgY29uc3QgZ2VyYmVyRmlsZSA9IGAke291dGRpcn0vJHtiYXNlfS4ke2Zvcm1hdFRvRXh0KGxheWVycywgZm9ybWF0KX1gOwogIGNvbnN0IGNtZCA9IGBlYWdsZSAtWCAtZCAke2Zvcm1hdH0gLW8gIiR7Z2VyYmVyRmlsZX0iICIke2JvYXJkRmlsZX0iICR7bGF5ZXJzLmpvaW4oJyAnKX1gOwogIGNvbnN0IGFyZ3MgPSBbJy1YJywgJy1kJywgZm9ybWF0LCAnLW8nLCBnZXJiZXJGaWxlLCBib2FyZEZpbGUsIC4uLmxheWVyc107CiAgY29uc3QgYmluID0gJy9vcHQvZWFnbGUtNy4yLjAvYmluL2VhZ2xlJzsKCiAgcmV0dXJuIFtiaW5dLmNvbmNhdChhcmdzKTsKCiAgLyogIGNvbnNvbGUubG9nKGBleGVjdXRpbmcgJyR7Y21kfSdgKTsKICAvLyAgY29uc3QgY2hpbGQgPSBleGVjKGAke2NtZH0gMj4mMSAwPC9kZXYvbnVsbGAsIHt9KTsKICBjb25zdCBjaGlsZCA9IHNwYXduKGJpbiwgYXJncywgewogICAgLy8gIHN0ZGlvOiBbICdpbmhlcml0JywnaW5oZXJpdCcsMV0KICB9KTsKICBjb25zb2xlLmxvZyhgY2hpbGQ6YCwgY2hpbGQpOwogIC8vIGRvIHdoYXRldmVyIHlvdSB3YW50IHdpdGggYGNoaWxkYCBoZXJlIC0gaXQncyBhIENoaWxkUHJvY2VzcyBpbnN0YW5jZSBqdXN0CiAgLy8gd2l0aCBwcm9taXNlLWZyaWVuZGx5IGAudGhlbigpYCAmIGAuY2F0Y2goKWAgZnVuY3Rpb25zIGFkZGVkIHRvIGl0IQogIGxldCBvdXRwdXQgPSAnJzsKCiAgbGV0IGNvZGUgPSBjaGlsZC53YWl0KCk7CgogIGNvbnNvbGUubG9nKGBjb2RlOiAke2NvZGV9YCk7CiAgLy8gIGNvbnNvbGUubG9nKGBvdXRwdXQ6ICR7b3V0cHV0fWApOwogIGlmKGNvZGUgIT09IDApIHRocm93IG5ldyBFcnJvcihvdXRwdXQpOwogIGlmKG91dHB1dCkgb3V0cHV0ID0gb3V0cHV0LnJlcGxhY2UoL1xzKlxyKlxuL2csICdcbicpOwogIGxldCByZXN1bHQgPSB7IGNvZGUsIG91dHB1dCB9OwogIGlmKG9wdHMuZmV0Y2gpIHJlc3VsdC5kYXRhID0gUmVhZEZpbGUoR2V0VkZTUGF0aChnZXJiZXJGaWxlKSk7IC8vIGF3YWl0IChhd2FpdCBmcy5yZWFkRmlsZShHZXRWRlNQYXRoKGdlcmJlckZpbGUpKSkudG9TdHJpbmcoKTsKICByZXN1bHQuZmlsZSA9IGdlcmJlckZpbGU7CiAgY29uc29sZS5sb2coJ2NvbnZlcnRUb0dlcmJlciByZXN1bHQgPScsIHJlc3VsdCk7CiAgcmV0dXJuIHJlc3VsdDsqLwp9CgpleHBvcnQgZnVuY3Rpb24gR2VyYmVyVG9HY29kZShnZXJiZXJGaWxlLCBhbGxPcHRzID0ge30pIHsKICBjb25zdCBiYXNlbmFtZSA9IGdlcmJlckZpbGUucmVwbGFjZSgvLipcLy9nLCAnJykucmVwbGFjZSgvXC5bXi5dKiQvLCAnJyk7CiAgbGV0IHsgZmV0Y2gsIGRhdGEsIHJhdywgLi4ub3B0cyB9ID0gYWxsT3B0czsKICBvcHRzID0gewogICAgYmFzZW5hbWUsCiAgICB6c2FmZTogJzFtbScsCiAgICB6Y2hhbmdlOiAnMm1tJywKICAgIHp3b3JrOiAnLTFtbScsCiAgICB6ZHJpbGw6ICctMm1tJywKICAgIHpjdXQ6ICctMm1tJywKICAgICdjdXR0ZXItZGlhbWV0ZXInOiAnMW1tJywKICAgICdkcmlsbC1mZWVkJzogMTAwMCwKICAgICdkcmlsbC1zcGVlZCc6IDEwMDAwLAogICAgJ21pbGwtZmVlZCc6IDYwMCwKICAgICdtaWxsLXNwZWVkJzogMTYwMDAsCiAgICAnY3V0LWZlZWQnOiAyMDAsCiAgICAnY3V0LXNwZWVkJzogMTAwMDAsCiAgICAnY3V0LWluZmVlZCc6ICcxbW0nLAoKICAgICdvdXRwdXQtZGlyJzogJy4vdG1wLycsCiAgICAuLi5vcHRzCiAgfTsKICBpZihvcHRzLmZyb250ID09IHVuZGVmaW5lZCAmJiBvcHRzLmJhY2sgPT0gdW5kZWZpbmVkICYmIG9wdHMuZHJpbGwgPT0gdW5kZWZpbmVkKSBvcHRzLmJhY2sgPSBnZXJiZXJGaWxlOwogIGxldCBzaWRlcyA9IFtdOwoKICBmb3IobGV0IHNpZGUgb2YgWydmcm9udCcsICdiYWNrJywgJ2RyaWxsJywgJ291dGxpbmUnXSkKICAgIGlmKHNpZGUgaW4gb3B0cykgewogICAgICBpZih0eXBlb2Ygb3B0c1tzaWRlXSAhPSAnc3RyaW5nJykgb3B0c1tzaWRlXSA9IGdlcmJlckZpbGU7CiAgICAgIHNpZGVzLnB1c2goc2lkZSk7CiAgICB9CgogIGlmKG9wdHMudm9yb25vaSAmJiAhb3B0cy52ZWN0b3JpYWwpIG9wdHMudmVjdG9yaWFsID0gMTsKCiAgY29uc29sZS5kZWJ1ZyhgZ2VyYmVyVG9HY29kZWAsIG9wdHMpOwogIGZ1bmN0aW9uIG1ha2VQYXRoKGV4dCwgc2lkZSwgYmFzZSA9IGJhc2VuYW1lKSB7CiAgICByZXR1cm4gcGF0aC5qb2luKG9wdHNbJ291dHB1dC1kaXInXSwgYCR7YmFzZX1fJHtzaWRlfS4ke2V4dH1gKTsKICB9CgogIGNvbnN0IHBhcmFtcyA9IFsuLi5PYmplY3QuZW50cmllcyhvcHRzKV0KICAgIC5maWx0ZXIoKFtrLCB2XSkgPT4gdHlwZW9mIHYgPT0gJ3N0cmluZycgfHwgdHlwZW9mIHYgPT0gJ251bWJlcicgfHwgKHR5cGVvZiB2ID09ICdib29sZWFuJyAmJiB2ID09PSB0cnVlKSkKICAgIC5tYXAoKFtrLCB2XSkgPT4gYC0tJHtrfSR7dHlwZW9mIHYgIT0gJ2Jvb2xlYW4nICYmIHYgIT0gJycgPyAnPScgKyB2IDogJyd9YCk7CiAgLy9jb25zb2xlLmxvZygnUmVxdWVzdCAvZ2NvZGUnLCB7IGdlcmJlckZpbGUsIGZldGNoLCByYXcgfSk7CiAgLy9jb25zb2xlLndhcm4oYGdlcmJlclRvR2NvZGVgLCBVdGlsLmFiYnJldmlhdGUoZ2VyYmVyRmlsZSksIHsgZ2NvZGVGaWxlLCBvcHRzIH0pOwoKICByZXR1cm4gWydwY2IyZ2NvZGUnXS5jb25jYXQocGFyYW1zKTsKICAvKgogIGxldCB3YWl0OwogIHRyeSB7CiAgICBjb25zdCBjbWQgPSBgcGNiMmdjb2RlICR7cGFyYW1zLmpvaW4oJyAnKX0gMj4mMWA7CiAgICBjb25zb2xlLndhcm4oYGV4ZWN1dGluZyAnJHtjbWR9J2ApOwogICAgY29uc3QgY2hpbGQgPSBleGVjKGNtZCwge30pOwogICAgLy8gZG8gd2hhdGV2ZXIgeW91IHdhbnQgd2l0aCBgY2hpbGRgIGhlcmUgLSBpdCdzIGEgQ2hpbGRQcm9jZXNzIGluc3RhbmNlIGp1c3QKICAgIC8vIHdpdGggcHJvbWlzZS1mcmllbmRseSBgLnRoZW4oKWAgJiBgLmNhdGNoKClgIGZ1bmN0aW9ucyBhZGRlZCB0byBpdCEKICAgIGxldCBvdXRwdXQgPSAnJzsKICAgIGNoaWxkLnN0ZG91dC5vbignZGF0YScsIGRhdGEgPT4gKG91dHB1dCArPSBkYXRhKSk7CiAgICBjaGlsZC5zdGRlcnIub24oJ2RhdGEnLCBkYXRhID0+IChvdXRwdXQgKz0gZGF0YSkpOwogICAgd2FpdCA9IGF3YWl0IGNoaWxkLmNhdGNoKGVycm9yID0+ICh7IGNvZGU6IC0xLCBlcnJvciB9KSk7CgogICAgY29uc3QgeyBzdGRvdXQsIHN0ZGVyciwgY29kZSwgc2lnbmFsIH0gPSB3YWl0OwogICAgaWYob3V0cHV0KSBvdXRwdXQgPSBVdGlsLmFiYnJldmlhdGUob3V0cHV0LnJlcGxhY2UoL1xzKlxyKlxuL2csICdcbicpLCAyMDApOwogICAgY29uc29sZS5sb2coJ1Jlc3BvbnNlIC9nY29kZScsIHsgc3Rkb3V0LCBvdXRwdXQsIHNpZGVzIH0pOwoKICAgIC8vICAgaWYoY29kZSAhPT0gMCkgdGhyb3cgbmV3IEVycm9yKG91dHB1dCk7CgogICAgY29uc3QgZ2NvZGVGaWxlID0gbWFrZVBhdGgoJ25nYycsIHNpZGVzWzBdKTsKICAgIGNvbnN0IHN2Z0ZpbGUgPSBtYWtlUGF0aCgnc3ZnJywgc2lkZXNbMF0sICdwcm9jZXNzZWQnKTsKCiAgICBmb3IobGV0IFtmaWxlLCB0b10gb2Ygc2lkZXMubWFwKHNpZGUgPT4gW21ha2VQYXRoKCdzdmcnLCBzaWRlLCAncHJvY2Vzc2VkJyksIG1ha2VQYXRoKCdzdmcnLCBzaWRlKV0pKQogICAgICBpZihmcy5leGlzdHNTeW5jKGZpbGUpKSBmcy5yZW5hbWVTeW5jKGZpbGUsIHRvKTsKCiAgICBsZXQgZmlsZXMgPSBzaWRlcy5tYXAoc2lkZSA9PiBbc2lkZSwgbWFrZVBhdGgoJ25nYycsIHNpZGUpXSkuZmlsdGVyKChbc2lkZSwgZmlsZV0pID0+IGZzLmV4aXN0c1N5bmMoZmlsZSkpOwogICAgY29uc29sZS5sb2coJ1Jlc3BvbnNlIC9nY29kZScsIHsgZmlsZXMgfSk7CgogICAgbGV0IHJlc3VsdCA9IHsgY29kZSwgb3V0cHV0LCBjbWQgfTsKICAgIGlmKGZldGNoKSB7CiAgICAgIGZvcihsZXQgW3NpZGUsIGZpbGVdIG9mIGZpbGVzKSByZXN1bHRbc2lkZV0gPSBhd2FpdCAoYXdhaXQgZnNQcm9taXNlcy5yZWFkRmlsZShHZXRWRlNQYXRoKGZpbGUpKSkudG9TdHJpbmcoKTsKICAgIH0KICAgIGlmKHJhdykgewogICAgICBjb25zdCB7IGZpbGUgfSA9IHJlc3VsdDsKICAgICAgcmV0dXJuIFNlbmRSYXcocmVzLCBmaWxlLCByZXN1bHQuZGF0YSk7CiAgICB9CiAgICByZXN1bHQuZmlsZXMgPSBPYmplY3QuZnJvbUVudHJpZXMoZmlsZXMpOwogICAgY29uc29sZS5sb2coCiAgICAgICdSZXNwb25zZSAvZ2NvZGUnLAogICAgICB1dGlsLmZpbHRlcktleXMocmVzdWx0LCBrZXkgPT4gIS8oWG91dHB1dHxkYXRhKS8udGVzdChrZXkpKQogICAgKTsKICAgIHJldHVybiByZXN1bHQ7CiAgfSBjYXRjaChlcnJvcikgewogICAgY29uc29sZS5sb2coYEVSUk9SOiAke2Vycm9yLm1lc3NhZ2V9YCk7CiAgfSovCn0KAAAAAAAAAABsFQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "lib/eagle/document.js",
			"settings":
			{
				"buffer_size": 11395,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					24,
					1,
					"insert",
					{
						"characters": "console.log"
					},
					"CwAAAHUHAAAAAAAAdgcAAAAAAAAAAAAAdgcAAAAAAAB3BwAAAAAAAAAAAAB3BwAAAAAAAHgHAAAAAAAAAAAAAHgHAAAAAAAAeQcAAAAAAAAAAAAAeQcAAAAAAAB6BwAAAAAAAAAAAAB6BwAAAAAAAHsHAAAAAAAAAAAAAHsHAAAAAAAAfAcAAAAAAAAAAAAAfAcAAAAAAAB9BwAAAAAAAAAAAAB9BwAAAAAAAH4HAAAAAAAAAAAAAH4HAAAAAAAAfwcAAAAAAAAAAAAAfwcAAAAAAACABwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB1BwAAAAAAAHUHAAAAAAAAAAAAAAAA8L8"
				],
				[
					25,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAIAHAAAAAAAAggcAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACABwAAAAAAAIAHAAAAAAAAAAAAAAAA8L8"
				],
				[
					26,
					1,
					"insert_snippet",
					{
						"contents": "'$0'"
					},
					"AQAAAIEHAAAAAAAAgwcAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACBBwAAAAAAAIEHAAAAAAAAAAAAAAAA8L8"
				],
				[
					27,
					1,
					"insert",
					{
						"characters": "EagleCo"
					},
					"BwAAAIIHAAAAAAAAgwcAAAAAAAAAAAAAgwcAAAAAAACEBwAAAAAAAAAAAACEBwAAAAAAAIUHAAAAAAAAAAAAAIUHAAAAAAAAhgcAAAAAAAAAAAAAhgcAAAAAAACHBwAAAAAAAAAAAACHBwAAAAAAAIgHAAAAAAAAAAAAAIgHAAAAAAAAiQcAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACCBwAAAAAAAIIHAAAAAAAAAAAAAAAA8L8"
				],
				[
					28,
					1,
					"left_delete",
					null,
					"AQAAAIgHAAAAAAAAiAcAAAAAAAABAAAAbw",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACJBwAAAAAAAIkHAAAAAAAAAAAAAAAA8L8"
				],
				[
					29,
					1,
					"insert",
					{
						"characters": "D"
					},
					"AQAAAIgHAAAAAAAAiQcAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACIBwAAAAAAAIgHAAAAAAAAAAAAAAAA8L8"
				],
				[
					30,
					2,
					"left_delete",
					null,
					"AgAAAIgHAAAAAAAAiAcAAAAAAAABAAAARIcHAAAAAAAAhwcAAAAAAAABAAAAQw",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACJBwAAAAAAAIkHAAAAAAAAAAAAAAAA8L8"
				],
				[
					31,
					1,
					"insert",
					{
						"characters": "Document.open"
					},
					"DQAAAIcHAAAAAAAAiAcAAAAAAAAAAAAAiAcAAAAAAACJBwAAAAAAAAAAAACJBwAAAAAAAIoHAAAAAAAAAAAAAIoHAAAAAAAAiwcAAAAAAAAAAAAAiwcAAAAAAACMBwAAAAAAAAAAAACMBwAAAAAAAI0HAAAAAAAAAAAAAI0HAAAAAAAAjgcAAAAAAAAAAAAAjgcAAAAAAACPBwAAAAAAAAAAAACPBwAAAAAAAJAHAAAAAAAAAAAAAJAHAAAAAAAAkQcAAAAAAAAAAAAAkQcAAAAAAACSBwAAAAAAAAAAAACSBwAAAAAAAJMHAAAAAAAAAAAAAJMHAAAAAAAAlAcAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACHBwAAAAAAAIcHAAAAAAAAAAAAAAAA8L8"
				],
				[
					33,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAJUHAAAAAAAAlgcAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACVBwAAAAAAAJUHAAAAAAAAAAAAAAAA8L8"
				],
				[
					34,
					1,
					"insert_snippet",
					{
						"contents": "{$0}"
					},
					"AQAAAJYHAAAAAAAAmAcAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACWBwAAAAAAAJYHAAAAAAAAAAAAAAAA8L8"
				],
				[
					35,
					1,
					"insert",
					{
						"characters": "filename,"
					},
					"CQAAAJcHAAAAAAAAmAcAAAAAAAAAAAAAmAcAAAAAAACZBwAAAAAAAAAAAACZBwAAAAAAAJoHAAAAAAAAAAAAAJoHAAAAAAAAmwcAAAAAAAAAAAAAmwcAAAAAAACcBwAAAAAAAAAAAACcBwAAAAAAAJ0HAAAAAAAAAAAAAJ0HAAAAAAAAngcAAAAAAAAAAAAAngcAAAAAAACfBwAAAAAAAAAAAACfBwAAAAAAAKAHAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACXBwAAAAAAAJcHAAAAAAAAAAAAAAAA8L8"
				],
				[
					36,
					1,
					"left_delete",
					null,
					"AQAAAJ8HAAAAAAAAnwcAAAAAAAABAAAALA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACgBwAAAAAAAKAHAAAAAAAAAAAAAAAA8L8"
				],
				[
					37,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAJ8HAAAAAAAAoAcAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACfBwAAAAAAAJ8HAAAAAAAAAAAAAAAA8L8"
				],
				[
					39,
					1,
					"left_delete",
					null,
					"AQAAAKAHAAAAAAAAoAcAAAAAAAABAAAAfQ",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAChBwAAAAAAAKEHAAAAAAAAAAAAAAAA8L8"
				],
				[
					40,
					1,
					"insert",
					{
						"characters": "mx"
					},
					"AgAAAKAHAAAAAAAAoQcAAAAAAAAAAAAAoQcAAAAAAACiBwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACgBwAAAAAAAKAHAAAAAAAAAAAAAAAA8L8"
				],
				[
					41,
					2,
					"left_delete",
					null,
					"AgAAAKEHAAAAAAAAoQcAAAAAAAABAAAAeKAHAAAAAAAAoAcAAAAAAAABAAAAbQ",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACiBwAAAAAAAKIHAAAAAAAAAAAAAAAA8L8"
				],
				[
					42,
					1,
					"insert",
					{
						"characters": "xml}"
					},
					"BAAAAKAHAAAAAAAAoQcAAAAAAAAAAAAAoQcAAAAAAACiBwAAAAAAAAAAAACiBwAAAAAAAKMHAAAAAAAAAAAAAKMHAAAAAAAApAcAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACgBwAAAAAAAKAHAAAAAAAAAAAAAAAA8L8"
				],
				[
					44,
					1,
					"insert",
					{
						"characters": ";"
					},
					"AQAAAKUHAAAAAAAApgcAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAClBwAAAAAAAKUHAAAAAAAAAAAAAAAA8L8"
				],
				[
					53,
					1,
					"revert",
					null,
					"AwAAAAAAAAAAAAAAAAAAAAAAAACALAAAaW1wb3J0IHBhcnNlWE1MIGZyb20gJy4uL3htbC9wYXJzZS5qcyc7CmltcG9ydCB0WG1sIGZyb20gJy4uL3RYbWwuanMnOwppbXBvcnQgeyBkZWZpbmUsIGFiYnJldmlhdGUsIG1hcEFkYXB0ZXIsIG1hcEZ1bmN0aW9uLCBtZW1vaXplLCB3ZWFrTWFwcGVyIH0gZnJvbSAnLi4vbWlzYy5qcyc7CmltcG9ydCAqIGFzIGRlZXAgZnJvbSAnLi4vZGVlcC5qcyc7CmltcG9ydCBkZWVwRGlmZiBmcm9tICcuLi9kZWVwLWRpZmYuanMnOwppbXBvcnQgeyBFYWdsZVJlZiB9IGZyb20gJy4vcmVmLmpzJzsKaW1wb3J0IHsgSW1tdXRhYmxlUGF0aCB9IGZyb20gJy4uL2pzb24uanMnOwppbXBvcnQgeyBFYWdsZU5vZGUgfSBmcm9tICcuL25vZGUuanMnOwppbXBvcnQgeyBFYWdsZUVsZW1lbnQgfSBmcm9tICcuL2VsZW1lbnQuanMnOwppbXBvcnQgeyBMaW5lc1RvUGF0aCB9IGZyb20gJy4vcmVuZGVyVXRpbHMuanMnOwppbXBvcnQgeyBpc0JCb3gsIEJCb3gsIFJlY3QsIFBvaW50LCBQb2ludExpc3QsIExpbmUgfSBmcm9tICcuLi9nZW9tLmpzJzsKaW1wb3J0IHsgUkdCQSB9IGZyb20gJy4uL2NvbG9yLmpzJzsKaW1wb3J0IHsgRWFnbGVOb2RlTGlzdCB9IGZyb20gJy4vbm9kZUxpc3QuanMnOwppbXBvcnQgeyBFYWdsZU5vZGVNYXAgfSBmcm9tICcuL25vZGVNYXAuanMnOwppbXBvcnQgeyBQYXRoTWFwcGVyIH0gZnJvbSAnLi4vanNvbi9wYXRoTWFwcGVyLmpzJzsKaW1wb3J0IHsgUGFsZXR0ZSB9IGZyb20gJy4vY29tbW9uLmpzJzsKaW1wb3J0IHsgcmVhZCBhcyBmcm9tWE1MLCB3cml0ZSBhcyB0b1hNTCB9IGZyb20gJy4uL3htbC5qcyc7CmltcG9ydCB7IEltbXV0YWJsZVhQYXRoIH0gZnJvbSAnLi4veG1sL3hwYXRoLmpzJzsKaW1wb3J0IHsgbGF6eVByb3BlcnR5LCBsYXp5UHJvcGVydGllcyB9IGZyb20gJy4uL21pc2MuanMnOwoKZnVuY3Rpb24gR2V0UHJveHkoZm4gPSAocHJvcCwgdGFyZ2V0KSA9PiBudWxsLCBoYW5kbGVycyA9IHt9KSB7CiAgcmV0dXJuIG5ldyBQcm94eSgKICAgIHt9LAogICAgewogICAgICBnZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcikgewogICAgICAgIGxldCByZXQgPSBmbihwcm9wLCB0YXJnZXQpOwogICAgICAgIHJldHVybiByZXQ7CiAgICAgIH0sCiAgICAgIC4uLmhhbmRsZXJzCiAgICB9CiAgKTsKfQoKZXhwb3J0IGNsYXNzIEVhZ2xlRG9jdW1lbnQgZXh0ZW5kcyBFYWdsZU5vZGUgewogIHN0YXRpYyB0eXBlcyA9IFsnYnJkJywgJ3NjaCcsICdsYnInXTsKICB4bWwgPSBudWxsOwogIGZpbGUgPSBudWxsOwogIHR5cGUgPSBudWxsOwoKICAvKiBwcmV0dGllci1pZ25vcmUgKi8gZ2V0IHR5cGVOYW1lKCkgewogICAgcmV0dXJuIHsKICAgICAgYnJkOiAnYm9hcmQnLAogICAgICBzY2g6ICdzY2hlbWF0aWMnLAogICAgICBsYnI6ICdsaWJyYXJ5JwogICAgfVt0aGlzLnR5cGVdOwogIH0KCiAgc3RhdGljIHR5cGVOYW1lKGZpbGVFeHRlbnNpb24pIHsKICAgIHJldHVybiB7CiAgICAgIGJyZDogJ2JvYXJkJywKICAgICAgc2NoOiAnc2NoZW1hdGljJywKICAgICAgbGJyOiAnbGlicmFyeScKICAgIH1bZmlsZUV4dGVuc2lvbl07CiAgfQoKICBzdGF0aWMgYmFzZU9mKGZpbGVuYW1lKSB7CiAgICByZXR1cm4gZmlsZW5hbWUucmVwbGFjZSgvXC4oYnJkfHNjaHxsYnIpJC9pLCAnJyk7CiAgfQoKICBzdGF0aWMgdHlwZU9mKGZpbGVuYW1lKSB7CiAgICByZXR1cm4gdGhpcy50eXBlTmFtZShmaWxlbmFtZS5yZXBsYWNlKC8uKlwuL2csICcnKS50b0xvd2VyQ2FzZSgpKTsKICB9CgogIHN0YXRpYyBnZXQgW1N5bWJvbC5zcGVjaWVzXSgpIHsKICAgIHJldHVybiBFYWdsZUVsZW1lbnQ7CiAgfQoKICBzdGF0aWMgb3BlbihmaWxlbmFtZSwgcmVhZEZuID0gZm4gPT4gc3RkLmxvYWRGaWxlKGZuKSkgewogICAgbGV0IHhtbCA9IHJlYWRGbihmaWxlbmFtZSk7CmNvbnNvbGUubG9nKCdFYWdsZURvY3VtZW50Lm9wZW4nLHtmaWxlbmFtZSx4bWx9KTsKICAgIHJldHVybiBuZXcgRWFnbGVEb2N1bWVudCh4bWwsIG51bGwsIGZpbGVuYW1lKTsKICB9CgogIGNvbnN0cnVjdG9yKHhtbFN0ciwgcHJvamVjdCwgZmlsZW5hbWUsIHR5cGUsIGZzKSB7CiAgICBjb25zdCB4bWwgPSBmcm9tWE1MKHhtbFN0cik7IC8vcGFyc2VYTUwoeG1sU3RyKTsKICAgIC8vIGNvbnNvbGUubG9nKCdFYWdsZURvY3VtZW50LmNvbnN0cnVjdG9yJywgeyB4bWwgfSk7CgogICAgbGV0IHhtbE9iaiA9IGRlZXAuY2xvbmUoeG1sWzBdKTsKICAgIHN1cGVyKHByb2plY3QsIEVhZ2xlUmVmKHhtbE9iaiwgW10pLCB4bWxPYmopOwoKICAgIGRlZmluZSh0aGlzLCB7CiAgICAgIHBhdGhNYXBwZXI6IG5ldyBQYXRoTWFwcGVyKHhtbE9iaiwgSW1tdXRhYmxlUGF0aCksCiAgICAgIGRhdGE6IHhtbFN0ciwKICAgICAgcmF3MmVsZW1lbnQ6IHdlYWtNYXBwZXIoKHJhdywgb3duZXIsIHJlZikgPT4gbmV3IEVhZ2xlRWxlbWVudChvd25lciwgcmVmLCByYXcpKQogICAgfSk7CgogICAgY29uc3QgeyBwYXRoTWFwcGVyLCByYXcyZWxlbWVudCB9ID0gdGhpczsKCiAgICBjb25zdCBbb2JqMnBhdGgsIHBhdGgyb2JqXSA9IHBhdGhNYXBwZXIubWFwcy5tYXAobWFwRnVuY3Rpb24pOwogICAgY29uc3QgW29iajJlYWdsZSwgcGF0aDJlYWdsZV0gPSBbbWFwRnVuY3Rpb24ocmF3MmVsZW1lbnQpLCBtYXBBZGFwdGVyKChrZXksIHZhbHVlKSA9PiAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiBrZXkgIT09IHVuZGVmaW5lZCA/IHRoaXMubG9va3VwKGtleSkgOiB1bmRlZmluZWQpKV07CiAgICBjb25zdCBbZWFnbGUycGF0aCwgZWFnbGUyb2JqXSA9IFsKICAgICAgbWFwQWRhcHRlcigoa2V5LCB2YWx1ZSkgPT4gKHZhbHVlID09PSB1bmRlZmluZWQgJiYga2V5ICE9PSB1bmRlZmluZWQgPyBrZXkucGF0aCA6IHVuZGVmaW5lZCkpLAogICAgICBtYXBBZGFwdGVyKChrZXksIHZhbHVlKSA9PiAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiBrZXkgIT09IHVuZGVmaW5lZCA/IGtleS5yYXcgOiB1bmRlZmluZWQpKQogICAgXTsKCiAgICAvLyBwcmV0dGllci1pZ25vcmUKICAgIHRoaXMubWFwcyA9IHsgZWFnbGUyb2JqLCBlYWdsZTJwYXRoLCBvYmoyZWFnbGUsIG9iajJwYXRoLCBwYXRoMmVhZ2xlLCBwYXRoMm9iaiB9OwoKICAgIHR5cGUgPSB0eXBlIHx8IC88bGlicmFyeT4vLnRlc3QoeG1sU3RyKSA/ICdsYnInIDogLyg8ZWxlbWVudFwgfDxib2FyZCkvLnRlc3QoeG1sU3RyKSA/ICdicmQnIDogLyg8aW5zdGFuY2VcIHw8c2hlZXRzPnw8c2NoZW1hdGljPikvLnRlc3QoeG1sU3RyKSA/ICdzY2gnIDogbnVsbDsKCiAgICBpZihmaWxlbmFtZSkgewogICAgICB0aGlzLmZpbGUgPSBmaWxlbmFtZTsKICAgICAgdHlwZSA9IHR5cGUgfHwgZmlsZW5hbWUucmVwbGFjZSgvLipcLy9nLCAnJykucmVwbGFjZSgvLipcLi9nLCAnJyk7CiAgICB9CgogICAgLy9jb25zb2xlLmxvZygnbG9hZCBkb2N1bWVudDonLCB7IGZpbGVuYW1lLCB4bWw6IHhtbFN0ci5zdWJzdHJpbmcoMCwgMTAwKSwgdHlwZSB9KTsKICAgIHRoaXMudHlwZSA9IHR5cGU7CiAgICBpZihwcm9qZWN0KSB0aGlzLm93bmVyID0gcHJvamVjdDsKICAgIGlmKGZzKSBkZWZpbmUodGhpcywgeyBmcyB9KTsKICAgIGRlZmluZSh0aGlzLCB7IHhtbCB9KTsKICAgIGNvbnN0IG9yaWcgPSB4bWxbMF07CiAgICBkZWZpbmUodGhpcywgeyBvcmlnIH0pOwogICAgZGVmaW5lKHRoaXMsIHsgcGFsZXR0ZTogUGFsZXR0ZVt0aGlzLnR5cGUgPT0gJ2JyZCcgPyAnYm9hcmQnIDogJ3NjaGVtYXRpYyddKChyLCBnLCBiKSA9PiBuZXcgUkdCQShyLCBnLCBiKSkgfSk7CgogICAgLy9jb25zb2xlLmxvZygiRWFnbGVEb2N1bWVudC5jb25zdHJ1Y3RvciIsIHt4bWxTdHIscHJvamVjdCxmaWxlbmFtZSx0eXBlfSk7CiAgICAvLyB0aGlzLmluaXRDYWNoZShFYWdsZUVsZW1lbnQsIEVhZ2xlTm9kZUxpc3QuY3JlYXRlKTsKCiAgICAvL2xhenlQcm9wZXJ0eSh0aGlzLCAnY2hpbGRyZW4nLCAoKSA9PiBFYWdsZU5vZGVMaXN0LmNyZWF0ZSh0aGlzLCBbJ2NoaWxkcmVuJ10gLyosIHRoaXMucmF3LmNoaWxkcmVuKi8pKTsKCiAgICBpZih0aGlzLnR5cGUgPT0gJ3NjaCcpIHsKICAgICAgbGV0IHNjaGVtYXRpYyA9IHRoaXMubG9va3VwKCcvZWFnbGUvZHJhd2luZy9zY2hlbWF0aWMnKTsKCiAgICAgIGxldCB7IHBhcnRzLCBzaGVldHMsIGxpYnJhcmllcyB9ID0gc2NoZW1hdGljOwogICAgICBsYXp5UHJvcGVydGllcyh0aGlzLCB7CiAgICAgICAgc2hlZXRzOiAoKSA9PiBFYWdsZU5vZGVMaXN0LmNyZWF0ZShzaGVldHMsIHNoZWV0cy5wYXRoLmNvbmNhdChbJ2NoaWxkcmVuJ10pKSwKICAgICAgICBwYXJ0czogKCkgPT4gRWFnbGVOb2RlTWFwLmNyZWF0ZShwYXJ0cy5jaGlsZHJlbiwgJ25hbWUnKSwgLy8gRWFnbGVOb2RlTGlzdC5jcmVhdGUocGFydHMsIHBhcnRzLnBhdGguY29uY2F0KFsnY2hpbGRyZW4nXSkpLAogICAgICAgIGxpYnJhcmllczogKCkgPT4gRWFnbGVOb2RlTWFwLmNyZWF0ZShsaWJyYXJpZXMuY2hpbGRyZW4sICduYW1lJykKICAgICAgfSk7CiAgICB9CiAgICBpZih0aGlzLnR5cGUgPT0gJ2JyZCcpIHsKICAgICAgbGV0IGJvYXJkID0gdGhpcy5nZXQoJ2JvYXJkJykgPz8gdGhpcy5sb29rdXAoJy9lYWdsZS9kcmF3aW5nL2JvYXJkJyk7CiAgICAgIGxldCB7IGVsZW1lbnRzLCBwbGFpbiwgc2lnbmFscywgbGlicmFyaWVzIH0gPSBib2FyZDsKCiAgICAgIGxhenlQcm9wZXJ0aWVzKHRoaXMsIHsKICAgICAgICBzaWduYWxzOiAoKSA9PiBFYWdsZU5vZGVNYXAuY3JlYXRlKHNpZ25hbHMuY2hpbGRyZW4sICduYW1lJyksCiAgICAgICAgcGxhaW46ICgpID0+IEVhZ2xlTm9kZUxpc3QuY3JlYXRlKHBsYWluLCBwbGFpbi5wYXRoLmNvbmNhdChbJ2NoaWxkcmVuJ10pKSwKICAgICAgICBlbGVtZW50czogKCkgPT4gRWFnbGVOb2RlTWFwLmNyZWF0ZShlbGVtZW50cy5jaGlsZHJlbiwgJ25hbWUnKSwKICAgICAgICBsaWJyYXJpZXM6ICgpID0+IEVhZ2xlTm9kZU1hcC5jcmVhdGUobGlicmFyaWVzLmNoaWxkcmVuLCAnbmFtZScpCiAgICAgIH0pOwogICAgfQoKICAgIGxhenlQcm9wZXJ0eSh0aGlzLCAnY2hpbGRyZW4nLCAoKSA9PiBFYWdsZU5vZGVMaXN0LmNyZWF0ZSh0aGlzLCB0aGlzLnBhdGguZG93bignY2hpbGRyZW4nKSwgbnVsbCkpOwoKICAgIGxldCBkcmF3aW5nID0gdGhpcy5nZXQoJ2RyYXdpbmcnKTsKCiAgICBsZXQgeyBsYXllcnMgfSA9IGRyYXdpbmc7CgogICAgbGF6eVByb3BlcnRpZXModGhpcywgewogICAgICBkcmF3aW5nOiAoKSA9PiBkcmF3aW5nLAogICAgICBsYXllcnM6ICgpID0+IEVhZ2xlTm9kZU1hcC5jcmVhdGUobGF5ZXJzLmNoaWxkcmVuLCAnbmFtZScpCiAgICB9KTsKICB9CgogIC8qIHByZXR0aWVyLWlnbm9yZSAqLyBnZXQgcmF3KCkgewogICAgaWYoQXJyYXkuaXNBcnJheSh0aGlzLnhtbCkpCiAgICByZXR1cm4gdGhpcy54bWxbMF07CiAgLy9jb25zb2xlLmxvZygnRWFnbGVEb2N1bWVudC5nZXQgcmF3JywgeyAndGhpcyc6IHRoaXMub3JpZyx4bWw6IHRoaXMueG1sIH0pOwogIHJldHVybiB0aGlzLnhtbDsKCiAgfQogIC8qIHByZXR0aWVyLWlnbm9yZSAqLyBnZXQgZmlsZW5hbWUoKSB7CiAgICByZXR1cm4gdGhpcy5maWxlICYmIHRoaXMuZmlsZS5yZXBsYWNlKC8uKlwvL2csICcnKTsKICB9CiAgLyogcHJldHRpZXItaWdub3JlICovIGdldCBkaXJuYW1lKCkgewogICAgcmV0dXJuIHRoaXMuZmlsZSAmJiAoL1wvLy50ZXN0KHRoaXMuZmlsZSkgPyB0aGlzLmZpbGUucmVwbGFjZSgvXC9bXlwvXSpcLz8kL2csICcnKSA6ICcuJyk7CiAgfQoKICAvKiBwcmV0dGllci1pZ25vcmUgKi8gZ2V0IGJhc2VuYW1lKCkgewogICAgcmV0dXJuIHRoaXMuZmlsZSAmJiB0aGlzLmZpbGVuYW1lLnJlcGxhY2UoL1wuW2Etel1bYS16XVthLXpdJC9pLCAnJyk7CiAgfQoKICAvKiBwcmV0dGllci1pZ25vcmUgKi8gZ2V0IGNoYW5nZXMoKSB7CiAgICByZXR1cm4gZGVlcERpZmYodGhpcy5vcmlnLCB0aGlzLnJhdyk7CiAgfQoKICBjYWNoZUZpZWxkcygpIHsKICAgIHN3aXRjaCAodGhpcy50eXBlKSB7CiAgICAgIGNhc2UgJ3NjaCc6CiAgICAgICAgcmV0dXJuIFsKICAgICAgICAgIFsnZWFnbGUnLCAnZHJhd2luZycsICdzZXR0aW5ncyddLAogICAgICAgICAgWydlYWdsZScsICdkcmF3aW5nJywgJ2xheWVycyddLAogICAgICAgICAgWydlYWdsZScsICdkcmF3aW5nJywgJ3NjaGVtYXRpYyddLAogICAgICAgICAgWydlYWdsZScsICdkcmF3aW5nJywgJ3NjaGVtYXRpYycsICdsaWJyYXJpZXMnXSwKICAgICAgICAgIFsnZWFnbGUnLCAnZHJhd2luZycsICdzY2hlbWF0aWMnLCAnY2xhc3NlcyddLAogICAgICAgICAgWydlYWdsZScsICdkcmF3aW5nJywgJ3NjaGVtYXRpYycsICdwYXJ0cyddLAogICAgICAgICAgWydlYWdsZScsICdkcmF3aW5nJywgJ3NjaGVtYXRpYycsICdzaGVldHMnXQogICAgICAgIF07CiAgICAgIGNhc2UgJ2JyZCc6CiAgICAgICAgcmV0dXJuIFsKICAgICAgICAgIFsnZWFnbGUnLCAnZHJhd2luZycsICdzZXR0aW5ncyddLAogICAgICAgICAgWydlYWdsZScsICdkcmF3aW5nJywgJ2xheWVycyddLAogICAgICAgICAgWydlYWdsZScsICdkcmF3aW5nJywgJ2JvYXJkJ10sCiAgICAgICAgICBbJ2VhZ2xlJywgJ2RyYXdpbmcnLCAnYm9hcmQnLCAnbGlicmFyaWVzJ10sCiAgICAgICAgICBbJ2VhZ2xlJywgJ2RyYXdpbmcnLCAnYm9hcmQnLCAnY2xhc3NlcyddLAogICAgICAgICAgWydlYWdsZScsICdkcmF3aW5nJywgJ2JvYXJkJywgJ2Rlc2lnbnJ1bGVzJ10sCiAgICAgICAgICBbJ2VhZ2xlJywgJ2RyYXdpbmcnLCAnYm9hcmQnLCAnZWxlbWVudHMnXSwKICAgICAgICAgIFsnZWFnbGUnLCAnZHJhd2luZycsICdib2FyZCcsICdzaWduYWxzJ10sCiAgICAgICAgICBbJ2VhZ2xlJywgJ2RyYXdpbmcnLCAnYm9hcmQnLCAncGxhaW4nXQogICAgICAgIF07CiAgICAgIGNhc2UgJ2xicic6CiAgICAgICAgcmV0dXJuIFsKICAgICAgICAgIFsnZWFnbGUnLCAnZHJhd2luZycsICdzZXR0aW5ncyddLAogICAgICAgICAgWydlYWdsZScsICdkcmF3aW5nJywgJ2xheWVycyddLAogICAgICAgICAgWydlYWdsZScsICdkcmF3aW5nJywgJ2xpYnJhcnknXSwKICAgICAgICAgIFsnZWFnbGUnLCAnZHJhd2luZycsICdsaWJyYXJ5JywgJ3BhY2thZ2VzJ10sCiAgICAgICAgICBbJ2VhZ2xlJywgJ2RyYXdpbmcnLCAnbGlicmFyeScsICdzeW1ib2xzJ10sCiAgICAgICAgICBbJ2VhZ2xlJywgJ2RyYXdpbmcnLCAnbGlicmFyeScsICdkZXZpY2VzZXRzJ10KICAgICAgICBdOwogICAgfQogICAgcmV0dXJuIHN1cGVyLmNhY2hlRmllbGRzKCk7CiAgfQoKICAvKiBwcmV0dGllci1pZ25vcmUgKi8KICBzYXZlVG8oZmlsZSwgb3ZlcndyaXRlID0gZmFsc2UsIGZzKSB7CiAgICBjb25zdCBkYXRhID0gdGhpcy50b1hNTCgnICAnKTsKCiAgICBpZighZmlsZSkKICAgICAgZmlsZSA9IHRoaXMuZmlsZTsKCiAgICBmcyA9IGZzIHx8IHRoaXMuZnMgfHwgZ2xvYmFsVGhpcy5mczsKICAgIGZzLndyaXRlRmlsZVN5bmMoZmlsZSsnLmpzb24nLCBKU09OLnN0cmluZ2lmeSh0aGlzLnJhdyxudWxsLDIpLCB0cnVlKTsKCiAgICBjb25zb2xlLmxvZygnU2F2aW5nJywgZmlsZSwgJ2RhdGE6ICcsYWJicmV2aWF0ZShkYXRhKSk7CiAgICBsZXQgcmV0ID0gZnMud3JpdGVGaWxlU3luYyhmaWxlLCBkYXRhLCBvdmVyd3JpdGUpOwogIC8vICBjb25zb2xlLmxvZygncmV0JyxyZXQpOwoKICAgIGlmKHJldCA8IDApCiAgICAgIHRocm93IG5ldyBFcnJvcihgV3JpdGluZyBmaWxlICcke2ZpbGV9JyBmYWlsZWQ6ICR7ZnMuZXJyc3RyfWApOwogICAgcmV0dXJuIHJldDsKICB9CgogIGluZGV4KHBhdGgsIHRyYW5zZm9ybSA9IGFyZyA9PiBhcmcpIHsKICAgIGlmKCEocGF0aCBpbnN0YW5jZW9mIEltbXV0YWJsZVBhdGgpKSBwYXRoID0gbmV3IEltbXV0YWJsZVBhdGgocGF0aCk7CiAgICByZXR1cm4gdHJhbnNmb3JtKHBhdGguYXBwbHkodGhpcykpOwogIH0KCiAgKmdldEFsbChwcmVkLCB0cmFuc2Zvcm0pIHsKICAgIHlpZWxkKiBzdXBlci5nZXRBbGwocHJlZCwgdHJhbnNmb3JtIHx8ICgodiwgcCwgbykgPT4gRWFnbGVFbGVtZW50LmdldCh0aGlzLCBwLCB2KSkpOwogIH0KCiAgZ2V0KHByZWQsIHRyYW5zZm9ybSkgewogICAgcmV0dXJuIHN1cGVyLmdldChwcmVkLCB0cmFuc2Zvcm0gfHwgKCh2LCBwLCBvKSA9PiBFYWdsZUVsZW1lbnQuZ2V0KHRoaXMsIHAsIHYpKSk7CiAgfQoKICBmaW5kKHByZWQsIHRyYW5zZm9ybSkgewogICAgcmV0dXJuIHN1cGVyLmZpbmQocHJlZCwgdHJhbnNmb3JtIHx8ICgodiwgcCwgbykgPT4gRWFnbGVFbGVtZW50LmdldCh0aGlzLCBwLCB2KSkpOwogIH0KCiAgbG9va3VwKHhwYXRoKSB7CiAgICBsZXQgZG9jID0gdGhpczsKICAgIHJldHVybiBzdXBlci5sb29rdXAoeHBhdGgsIChvLCBwLCB2KSA9PiBFYWdsZUVsZW1lbnQuZ2V0KG8sIHAsIHYpKTsKICB9CgogIGdldEJvdW5kcyhzaGVldE5vID0gMCkgewogICAgbGV0IGJiID0gbmV3IEJCb3goKTsKICAgIGxldCBzaGVldCA9IHRoaXMuc2hlZXRzID8gdGhpcy5zaGVldHNbc2hlZXROb10gOiBudWxsOwogICAgaWYodGhpcy50eXBlID09ICdzY2gnKSB7CiAgICAgIHJldHVybiB0aGlzLnNoZWV0c1tzaGVldE5vXS5nZXRCb3VuZHModiA9PiAvKGluc3RhbmNlfG5ldCkvLnRlc3Qodi50YWdOYW1lKSk7CiAgICB9CgogICAgaWYodGhpcy5lbGVtZW50cykgewogICAgICBmb3IobGV0IGVsZW1lbnQgb2YgdGhpcy5lbGVtZW50cy5saXN0KSB7CiAgICAgICAgbGV0IGJicmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRzKCk7CiAgICAgICAgYmIudXBkYXRlKGJicmVjdCk7CiAgICAgIH0KICAgIH0KICAgIGlmKHRoaXMuc2lnbmFscykgewogICAgICBiYi51cGRhdGUoCiAgICAgICAgWy4uLnRoaXMuc2lnbmFscy5saXN0XQogICAgICAgICAgLm1hcChzaWcgPT4gWy4uLnNpZy5jaGlsZHJlbl0pCiAgICAgICAgICAuZmxhdCgpCiAgICAgICAgICAuZmlsdGVyKGMgPT4gISFjLmdlb21ldHJ5KQogICAgICApOwogICAgICBiYi51cGRhdGUoWy4uLnRoaXMuZWxlbWVudHMubGlzdF0ubWFwKGUgPT4gZS5wYWNrYWdlLmdldEJvdW5kcygpLnRvUmVjdChSZWN0LnByb3RvdHlwZSkudHJhbnNmb3JtKGUudHJhbnNmb3JtYXRpb24oKSkpKTsKICAgIH0KICAgIC8qaWYodGhpcy5wbGFpbikgewogICAgICBiYi51cGRhdGUodGhpcy5wbGFpbi5tYXAoY2hpbGQgPT4gY2hpbGQuZ2V0Qm91bmRzKCkpKTsKICAgIH0qLwogICAgcmV0dXJuIGJiOwogIH0KCiAgZ2V0TWVhc3VyZXMob3B0aW9ucyA9IHt9KSB7CiAgICBjb25zdCB7IHNoZWV0ID0gMCB9ID0gb3B0aW9uczsKICAgIGxldCByZXQ7CiAgICBsZXQgcGxhaW4gPSAodGhpcy50eXBlID09ICdzY2gnID8gdGhpcy5zaGVldHNbc2hlZXRdIDogdGhpcykuZ2V0KCdwbGFpbicpOwogICAgCmNvbnNvbGUubG9nKCdwbGFpbicscGxhaW4pOwoKICAgIGZvcihsZXQgbGF5ZXIgb2YgWydEaW1lbnNpb24nLCAnTWVhc3VyZXMnXSkgewogICAgICBsZXQgbGF5ZXJJZCA9IHRoaXMubGF5ZXJzW2xheWVyXS5udW1iZXI7CiAgICAgIAogICAgICByZXQgPSBbLi4ucGxhaW4uY2hpbGRyZW5dLmZpbHRlcihlID0+IGUuYXR0cmlidXRlcy5sYXllciA9PSBsYXllcklkKTsKCiAgICAgIGlmKHJldC5sZW5ndGggPj0gMSkgYnJlYWs7CiAgICB9CgogICAgaWYob3B0aW9ucy5iYm94KSBpZiAocmV0KSByZXQgPSBCQm94LmZyb20ocmV0KTsKCiAgICByZXR1cm4gcmV0OwogIH0KCiAgLyogcHJldHRpZXItaWdub3JlICovIGdldCBtZWFzdXJlcygpIHsKICAgIHJldHVybiB0aGlzLmdldE1lYXN1cmVzKHsgcG9pbnRzOiB0cnVlLCBiYm94OiB0cnVlIH0pOwogIH0KCiAgLyogcHJldHRpZXItaWdub3JlICovIGdldCBkaW1lbnNpb25zKCkgewogICAgbGV0IHNpemUgPSBuZXcgUmVjdCh0aGlzLm1lYXN1cmVzKS5zaXplOwogICAgc2l6ZS51bml0cy53aWR0aCA9IHNpemUudW5pdHMuaGVpZ2h0ID0gJ21tJzsKICAgIHJldHVybiBzaXplOwogIH0KCiAgc2lnbmFsTWFwKCkgewogICAgcmV0dXJuIG5ldyBNYXAoCiAgICAgIFsuLi50aGlzLnNpZ25hbHNdLm1hcCgoW25hbWUsIHNpZ25hbF0pID0+IHsKICAgICAgICBsZXQgb2JqZWN0cyA9IFsuLi5zaWduYWwuY2hpbGRyZW5dCiAgICAgICAgICAubWFwKGNoaWxkID0+IFtjaGlsZCwgY2hpbGQuZ2VvbWV0cnldKQogICAgICAgICAgLmZpbHRlcigoW2NoaWxkLCBnZW9tZXRyeV0pID0+ICEhZ2VvbWV0cnkgfHwgY2hpbGQudGFnTmFtZSA9PSAnY29udGFjdHJlZicpCiAgICAgICAgICAubWFwKChbY2hpbGQsIGdlb21ldHJ5XSkgPT4gY2hpbGQpOwoKICAgICAgICByZXR1cm4gW25hbWUsIG9iamVjdHNdOwogICAgICB9KQogICAgKTsKICB9CgogIGdldExheWVyKGlkKSB7CiAgICBsZXQgbGF5ZXJzID0gdGhpcy5sb29rdXAoJy9lYWdsZS9kcmF3aW5nL2xheWVycycpOwogICAgbGV0IGkgPSAwOwoKICAgIGZvcihsZXQgbGF5ZXIgb2YgbGF5ZXJzLnJhdy5jaGlsZHJlbikgewogICAgICBsZXQgeyBudW1iZXIsIG5hbWUgfSA9IGxheWVyLmF0dHJpYnV0ZXM7CiAgICAgIC8vIGNvbnNvbGUubG9nKCdsYXllcicsIHsgbnVtYmVyLCBuYW1lIH0pOwogICAgICBpZihudW1iZXIgPT0gaWQgfHwgbmFtZSA9PSBpZCkgcmV0dXJuIGxheWVycy5jaGlsZHJlbltpXTsKICAgICAgaSsrOwogICAgfQogICAgcmV0dXJuIG51bGw7CiAgfQoKICBnZXRTaGVldChpZCkgewogICAgbGV0IHNoZWV0cyA9IHRoaXMuZ2V0KCdzaGVldHMnKTsKCiAgICBpZighc2hlZXRzKSByZXR1cm4gbnVsbDsKCiAgICBsZXQgaSA9IDA7CgogICAgZm9yKGxldCBzaGVldCBvZiBzaGVldHMuY2hpbGRyZW4pIHsKICAgICAgaWYoaSA9PSBpZCkgcmV0dXJuIHNoZWV0OwogICAgICBpKys7CiAgICB9CiAgICByZXR1cm4gbnVsbDsKICB9CgogIGdldExpYnJhcnkobmFtZSkgewogICAgcmV0dXJuIHRoaXMuZ2V0KGUgPT4gZS50YWdOYW1lID09ICdsaWJyYXJ5JyAmJiBlLmF0dHJpYnV0ZXMubmFtZSA9PSBuYW1lKTsKICB9CgogIGdldE1haW5FbGVtZW50ID0gbWVtb2l6ZShmdW5jdGlvbiAoKSB7CiAgICAvL2NvbnNvbGUubG9nKCd0aGlzOicsIHRoaXMpOwogICAgc3dpdGNoICh0aGlzLnR5cGUpIHsKICAgICAgY2FzZSAnYnJkJzoKICAgICAgICByZXR1cm4gdGhpcy5sb29rdXAoJ2VhZ2xlL2RyYXdpbmcvYm9hcmQnKTsKICAgICAgY2FzZSAnc2NoJzoKICAgICAgICByZXR1cm4gdGhpcy5sb29rdXAoJ2VhZ2xlL2RyYXdpbmcvc2NoZW1hdGljJyk7CiAgICAgIGNhc2UgJ2xicic6CiAgICAgICAgcmV0dXJuIHRoaXMubG9va3VwKCdlYWdsZS9kcmF3aW5nL2xpYnJhcnknKTsKICAgIH0KICB9KTsKCiAgLyogcHJldHRpZXItaWdub3JlICovIGdldCBtYWluRWxlbWVudCgpIHsKICAgIHJldHVybiB0aGlzLmdldE1haW5FbGVtZW50KCk7CiAgfQp9CgAAAAAAAAAAgywAAAAAAAAAAAAAAAAAAAAAAACDLAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACmBwAAAAAAAKYHAAAAAAAAAAAAAACAeEA"
				]
			]
		}
	],
	"build_system": "",
	"build_system_choices":
	[
	],
	"build_varint": "",
	"command_palette":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"out",
				"Browse Mode: Outline (Right)"
			],
			[
				"json",
				"Pretty JSON: Minify JSON"
			],
			[
				"jspr",
				"JsPrettier: Format Code"
			],
			[
				"outline",
				"Browse Mode: Outline (Right)"
			],
			[
				"color",
				"Color Highlight: Reset"
			],
			[
				"scheme",
				"Color Scheme Editor: Edit current color scheme"
			],
			[
				"edit cu",
				"Color Scheme Editor: Edit current color scheme"
			],
			[
				"insta",
				"Package Control: Install Package"
			],
			[
				"install",
				"Package Control: Install Package"
			],
			[
				"install pac",
				"Package Control: Install Package"
			],
			[
				"prettier",
				"JsPrettier: Format Code"
			],
			[
				"prett",
				"JsPrettier: Format Code"
			],
			[
				"list pack",
				"Package Control: List Packages"
			],
			[
				"edit ",
				"Color Scheme Editor: Edit current color scheme"
			],
			[
				"edit",
				"Color Scheme Editor: Edit current color scheme"
			],
			[
				"remove",
				"Package Control: Remove Package"
			],
			[
				"outli",
				"Browse Mode: Outline (Right)"
			],
			[
				"debugger",
				"Preferences: Debugger Settings"
			],
			[
				"add re",
				"Package Control: Add Repository"
			],
			[
				"outlin",
				"Browse Mode: Outline (Right)"
			],
			[
				"INSTALL",
				"Package Control: Install Package"
			],
			[
				"",
				"Arithmetic"
			],
			[
				"disable",
				"Package Control: Disable Package"
			],
			[
				"Package Control: disable",
				"Package Control: Disable Package"
			],
			[
				"Package Control: ",
				"Package Control: Disable Package"
			],
			[
				"adap",
				"Debugger: Install Adapters"
			],
			[
				"install ada",
				"Debugger: Install Adapters"
			],
			[
				"adapter",
				"Debugger: Install Adapters"
			],
			[
				"debug",
				"Debugger: Install Adapters"
			],
			[
				"Package Control: remove",
				"Package Control: Remove Package"
			],
			[
				"debu",
				"Debugger: Install Adapters"
			],
			[
				"instal",
				"Package Control: Install Package"
			]
		],
		"width": 0.0
	},
	"console":
	{
		"height": 289.0,
		"history":
		[
		]
	},
	"distraction_free":
	{
		"menu_visible": true,
		"show_minimap": false,
		"show_open_files": false,
		"show_tabs": false,
		"side_bar_visible": false,
		"status_bar_visible": false
	},
	"expanded_folders":
	[
		"/home/roman/Projects/plot-cv",
		"/home/roman/Projects/plot-cv/lib",
		"/home/roman/Projects/plot-cv/lib/container"
	],
	"file_history":
	[
		"/home/roman/Projects/plot-cv/lib/container/trieMap.js",
		"/home/roman/Projects/plot-cv/components.js",
		"/home/roman/Projects/plot-cv/eagle2svg.js",
		"/home/roman/Projects/plot-cv/lib/eagle/nodeList.js",
		"/home/roman/Projects/plot-cv/lib/eagle/boardRenderer.js",
		"/home/roman/Projects/plot-cv/lib/eagle/element.js",
		"/home/roman/Projects/plot-cv/lib/eagle/components/text.js",
		"/home/roman/Projects/plot-cv/lib/geom/size.js",
		"/home/roman/Projects/plot-cv/lib/eagle/components/circle.js",
		"/home/roman/Projects/plot-cv/lib/eagle/components/pad.js",
		"/home/roman/Projects/plot-cv/lib/eagle/components/via.js",
		"/home/roman/Projects/plot-cv/lib/eagle/node.js",
		"/home/roman/Projects/plot-cv/lib/misc.js",
		"/home/roman/Projects/plot-cv/lib/color/rgba.js",
		"/home/roman/Projects/plot-cv/lib/eagle/components.js",
		"/home/roman/Projects/plot-cv/lib/eagle/document.js",
		"/home/roman/Projects/plot-cv/lib/util.js",
		"/home/roman/Projects/plot-cv/quickjs/quickjs.c",
		"/home/roman/Projects/plot-cv/quickjs/quickjs.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-inspect.c",
		"/home/roman/Projects/plot-cv/lib/eagle/nodeMap.js",
		"/home/roman/Projects/plot-cv/eagle-shell.js",
		"/home/roman/Projects/plot-cv/io-helpers.js",
		"/home/roman/Projects/plot-cv/ast-shell.js",
		"/home/roman/Projects/plot-cv/clang-ast.js",
		"/home/roman/Projects/plot-cv/fire.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/repl.js",
		"/home/roman/Projects/plot-cv/lib/eagle/project.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-misc.c",
		"/home/roman/Projects/plot-cv/quickjs-misc.c.ast.bjson",
		"/home/roman/Projects/plot-cv/quickjs.h",
		"/home/roman/Projects/plot-cv/fire.html",
		"/home/roman/Projects/plot-cv/fire.es",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-client.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/asynciterator.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-asynciterator.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/remove-functions.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/jsutils.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/jsutils.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-asynciterator.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-client.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/CMakeLists.txt",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/session.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/buffer.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/lib/generator.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/wscli.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/js/rpc.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/tests/server.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/include/libwebsockets/lws-ws-state.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/libwebsockets/minimal-examples/ws-client/minimal-ws-client-spam-tx-rx/minimal-ws-client.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-server-ws.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-request.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-net/src/minnet-response.c",
		"/home/roman/Projects/plot-cv/fire/.prettierrc",
		"/home/roman/Projects/plot-cv/fire/asconfig.json",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/misc.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/src/property-enumeration.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/extendArray.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-tree-walker.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/util.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/require.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/lexer/c.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/resolve-imports.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/src/lexer.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/include/lexer.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-lexer.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/xml-shell.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/tests/test_mysql.js",
		"/home/roman/Dokumente/Eagle-Layouts/VCO-8038-board.svg",
		"/home/roman/Projects/quickjs/quickjs.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/src/qjsm.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-internal.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/src/utils.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/dom.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/list-exports.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-lexer.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/include/token.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/src/token.c",
		"/usr/local/bin/list-exports.js",
		"/home/roman/.config/sublime-text/Packages/User/Themes/Luscious.tmTheme",
		"/home/roman/.config/sublime-text/Packages/User/Themes/Deluxe.tmTheme",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/include/utils.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/include/buffer-utils.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-location.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/include/location.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/include/getdents.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/src/location.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/include/predicate.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/include/js-utils.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/src/js-utils.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-blob.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-blob.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/src/buffer-utils.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-xml.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/include/property-enumeration.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-predicate.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-deep.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/process.js",
		"/home/roman/Projects/plot-cv/quickjs/qjscalc.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/parser.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/include/vector.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-sockets.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/lexer/ecmascript.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/cmake/QuickJSModule.cmake",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/CMakeLists.txt",
		"/home/roman/Projects/an-tronics/eagle/ioboard2.brd",
		"/home/roman/Projects/an-tronics/eagle/mainboard2.brd",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/include/defines.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/parser/ebnf.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-mysql.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/src/path.c",
		"/home/roman/Projects/plot-cv/quickjs/cutils.c",
		"/home/roman/Projects/plot-cv/quickjs/cutils.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/fs.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/console.js",
		"/home/roman/Projects/plot-cv/quickjs/list.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/src/char-utils.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/include/path.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-path.c",
		"/home/roman/Projects/mariadb-10.3-10.3.38/include/mysql_com.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/include/ringbuffer.h",
		"/home/roman/Projects/plot-cv/quickjs/quickjs-libc.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-predicate.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/tests/test_treewalker.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-mysql.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/src/virtual-properties.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/cmake/functions.cmake"
	],
	"find":
	{
		"height": 38.0
	},
	"find_in_files":
	{
		"height": 146.0,
		"where_history":
		[
			"/home/roman/Projects/plot-cv,*.js",
			""
		]
	},
	"find_state":
	{
		"case_sensitive": true,
		"find_history":
		[
			"onRequest",
			"static open",
			"misc",
			"console",
			"lookup",
			"curry",
			"makeTrans",
			"normalize =",
			"ucfirst",
			"params.target",
			"'t'",
			"\\bflags\\b",
			"\\.flags",
			"flags =",
			"Compile\\b",
			"Compile",
			"Compile\\(",
			"Compile",
			"SpawnCom",
			"getOpt",
			"SpawnComp",
			"Table",
			"ReadJSON",
			"padTrunc",
			"Compile ERROR",
			"\\bspawn\\b",
			"Spawn",
			"\\bspawn\\b",
			"spawn\\b",
			"spawn\\(",
			"Compile ERROR",
			"spawn\\b",
			"spawn",
			"spawn\\(",
			"PortableSpawn",
			"hist",
			"ASTShel",
			"ReadFile",
			"ReadJSON",
			"JSON",
			"atexit",
			"findIndex",
			"pushUnique",
			"findIndex",
			"findIndex =",
			"util",
			"indMethods",
			"\n    ",
			"waitkey",
			"\\bbindMethods",
			"\\bbindMethods =",
			" bindMethods =",
			"function bindMethods",
			"bindMethods",
			"platform",
			"CommandRead",
			"platform",
			"getOpt",
			"getArgv",
			"getPlatform",
			"ASTShell",
			"main",
			"\"atomToString",
			"\"atomToStrng",
			"HasProperty",
			"JS_HasProperty",
			"js_inspect_custom_call",
			"custom_inspe",
			"text\\(",
			"entries",
			"inspectSym",
			"#keys",
			"show =",
			"defineGettersSetters",
			"cacheF",
			"cacheFields",
			"libraries'",
			"LoadHistory",
			"cmdhist",
			"static open",
			"\\.open",
			"ReadFile",
			"get board",
			"types",
			"dir-helpers",
			"weakMapper",
			"ArrayFac",
			"MoveIter",
			"'event'",
			"event'",
			"type:",
			"TouchIterator",
			"MovementIterator",
			"TouchIterator",
			"rects",
			"onMessage",
			"Print",
			"Message",
			"'resize'",
			"innerHeigh",
			"resize",
			"seedlist",
			"insert",
			"useTrkl"
		],
		"highlight": true,
		"in_selection": false,
		"preserve_case": false,
		"regex": true,
		"replace_history":
		[
		],
		"reverse": false,
		"scrollbar_highlights": true,
		"show_context": true,
		"use_buffer2": true,
		"use_gitignore": true,
		"whole_word": false,
		"wrap": true
	},
	"groups":
	[
		{
			"sheets":
			[
				{
					"buffer": 0,
					"file": "upload-server.js",
					"selected": true,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 34489,
						"regions":
						{
							"col_0087FFFF":
							{
								"flags": 16,
								"regions":
								[
									[
										23452,
										23465
									],
									[
										31883,
										31896
									]
								],
								"scope": "col_0087FFFF"
							},
							"col_0087FFFF_icon":
							{
								"flags": 16,
								"icon": "Packages/User/Color Highlight.cache/col_0087FFFF_circle.png",
								"regions":
								[
									[
										23431,
										23431
									],
									[
										31858,
										31858
									]
								],
								"scope": "col_gutter"
							},
							"col_00AFFFFF":
							{
								"flags": 16,
								"regions":
								[
									[
										10873,
										10886
									]
								],
								"scope": "col_00AFFFFF"
							},
							"col_00AFFFFF_icon":
							{
								"flags": 16,
								"icon": "Packages/User/Color Highlight.cache/col_00AFFFFF_circle.png",
								"regions":
								[
									[
										10826,
										10826
									]
								],
								"scope": "col_gutter"
							},
							"col_D700FFFF":
							{
								"flags": 16,
								"regions":
								[
									[
										10849,
										10863
									]
								],
								"scope": "col_D700FFFF"
							},
							"col_D700FFFF_icon":
							{
								"flags": 16,
								"icon": "Packages/User/Color Highlight.cache/col_D700FFFF_circle.png",
								"regions":
								[
									[
										10826,
										10826
									]
								],
								"scope": "col_gutter"
							},
							"col_FF87D7FF":
							{
								"flags": 16,
								"regions":
								[
									[
										32641,
										32655
									]
								],
								"scope": "col_FF87D7FF"
							},
							"col_FF87D7FF_icon":
							{
								"flags": 16,
								"icon": "Packages/User/Color Highlight.cache/col_FF87D7FF_circle.png",
								"regions":
								[
									[
										32616,
										32616
									]
								],
								"scope": "col_gutter"
							},
							"col_FFAF00FF":
							{
								"flags": 16,
								"regions":
								[
									[
										31680,
										31694
									]
								],
								"scope": "col_FFAF00FF"
							},
							"col_FFAF00FF_icon":
							{
								"flags": 16,
								"icon": "Packages/User/Color Highlight.cache/col_FFAF00FF_circle.png",
								"regions":
								[
									[
										31651,
										31651
									]
								],
								"scope": "col_gutter"
							},
							"col_FFD700FF":
							{
								"flags": 16,
								"regions":
								[
									[
										24570,
										24584
									],
									[
										24679,
										24693
									],
									[
										24802,
										24816
									]
								],
								"scope": "col_FFD700FF"
							},
							"col_FFD700FF_icon":
							{
								"flags": 16,
								"icon": "Packages/User/Color Highlight.cache/col_FFD700FF_circle.png",
								"regions":
								[
									[
										24543,
										24543
									],
									[
										24658,
										24658
									],
									[
										24771,
										24771
									]
								],
								"scope": "col_gutter"
							}
						},
						"selection":
						[
							[
								24493,
								24502
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 734,
							"syntax": "Packages/JavaScriptNext - ES6 Syntax/JavaScriptNext.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1682118462.05,
							"tabs_extra_last_activated_sheet_index": 0,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 10487.0,
						"zoom_level": 1.0
					},
					"stack_index": 0,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 1,
					"file": "lib/eagle/schematicRenderer.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 6751,
						"regions":
						{
						},
						"selection":
						[
							[
								54,
								54
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 1,
							"syntax": "Packages/JavaScriptNext - ES6 Syntax/JavaScriptNext.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1682106649.58,
							"tabs_extra_last_activated_sheet_index": 1,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 5,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 2,
					"file": "lib/eagle/components.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 3776,
						"regions":
						{
						},
						"selection":
						[
							[
								1567,
								1567
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 30,
							"syntax": "Packages/JavaScriptNext - ES6 Syntax/JavaScriptNext.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1682106649.23,
							"tabs_extra_last_activated_sheet_index": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 4,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 3,
					"file": "eagle2svg.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 2511,
						"regions":
						{
						},
						"selection":
						[
							[
								2124,
								2124
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 79,
							"syntax": "Packages/JavaScriptNext - ES6 Syntax/JavaScriptNext.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1682106646.66,
							"tabs_extra_last_activated_sheet_index": 3,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 17.0,
						"translation.y": 838.0,
						"zoom_level": 1.0
					},
					"stack_index": 2,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 4,
					"file": "pcb-conversion.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 5484,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 0,
							"syntax": "Packages/JavaScriptNext - ES6 Syntax/JavaScriptNext.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1682106647.73,
							"tabs_extra_last_activated_sheet_index": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 3,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 5,
					"file": "lib/eagle/document.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 11395,
						"regions":
						{
						},
						"selection":
						[
							[
								1056,
								1056
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 25,
							"syntax": "Packages/JavaScriptNext - ES6 Syntax/JavaScriptNext.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1682110022.37,
							"tabs_extra_last_activated_sheet_index": 5,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 17.0,
						"zoom_level": 1.0
					},
					"stack_index": 1,
					"stack_multiselect": false,
					"type": "text"
				}
			]
		}
	],
	"incremental_find":
	{
		"height": 24.0
	},
	"input":
	{
		"height": 42.0
	},
	"layout":
	{
		"cells":
		[
			[
				0,
				0,
				1,
				1
			]
		],
		"cols":
		[
			0.0,
			1.0
		],
		"rows":
		[
			0.0,
			1.0
		]
	},
	"menu_visible": true,
	"output.find_results":
	{
		"height": 0.0
	},
	"pinned_build_system": "",
	"project": "plot-cv.sublime-project",
	"replace":
	{
		"height": 44.0
	},
	"save_all_on_build": false,
	"select_file":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"upload-ser",
				"upload-server.js"
			],
			[
				"docu",
				"lib/eagle/document.js"
			],
			[
				"docum",
				"lib/eagle/document.js"
			],
			[
				"pcb-co",
				"pcb-conversion.js"
			],
			[
				"eagle2sv",
				"eagle2svg.js"
			],
			[
				"eagle/compon",
				"lib/eagle/components.js"
			],
			[
				"components",
				"components.js"
			],
			[
				"schematicrend",
				"lib/eagle/schematicRenderer.js"
			],
			[
				"size.j",
				"lib/geom/size.js"
			],
			[
				"node.",
				"lib/eagle/node.js"
			],
			[
				"misc.js",
				"lib/misc.js"
			],
			[
				"util.js",
				"lib/util.js"
			],
			[
				"boardRe",
				"lib/eagle/boardRenderer.js"
			],
			[
				"elemen",
				"lib/eagle/element.js"
			],
			[
				"rgba",
				"lib/color/rgba.js"
			],
			[
				"componen",
				"lib/eagle/components.js"
			],
			[
				"components.j",
				"components.js"
			],
			[
				"nodeLi",
				"lib/eagle/nodeList.js"
			],
			[
				"documen",
				"lib/eagle/document.js"
			],
			[
				"ast-she",
				"ast-shell.js"
			],
			[
				"io-he",
				"io-helpers.js"
			],
			[
				"io-help",
				"io-helpers.js"
			],
			[
				"clang-as",
				"clang-ast.js"
			],
			[
				"repl.",
				"quickjs/qjs-modules/lib/repl.js"
			],
			[
				"clang-ast",
				"clang-ast.js"
			],
			[
				"ast-shell",
				"ast-shell.js"
			],
			[
				"eagle-shel",
				"eagle-shell.js"
			],
			[
				"misc.c",
				"quickjs/qjs-modules/quickjs-misc.c"
			],
			[
				"quickjs-misc.c",
				"quickjs-misc.c.ast.bjson"
			],
			[
				"quickjs-inspe",
				"quickjs/qjs-modules/quickjs-inspect.c"
			],
			[
				"quickjs-in",
				"quickjs/qjs-modules/quickjs-inspect.c"
			],
			[
				"nodeMap",
				"lib/eagle/nodeMap.js"
			],
			[
				"eagle-she",
				"eagle-shell.js"
			],
			[
				"document",
				"lib/eagle/document.js"
			],
			[
				"document.js",
				"lib/eagle/document.js"
			],
			[
				"project.js",
				"lib/eagle/project.js"
			],
			[
				"repl.js",
				"quickjs/qjs-modules/lib/repl.js"
			],
			[
				"fire.html",
				"fire.html"
			],
			[
				"fire.js",
				"fire.js"
			],
			[
				"fire",
				"fire.es"
			],
			[
				"rpc.js",
				"js/rpc.js"
			],
			[
				"wscli",
				"wscli.js"
			],
			[
				"asynciter",
				"lib/asynciterator.c"
			],
			[
				"asyn",
				"lib/asynciterator.c"
			],
			[
				"minnet-asy",
				"src/minnet-asynciterator.c"
			],
			[
				"asynciterat",
				"lib/asynciterator.c"
			],
			[
				"minnet-clie",
				"src/minnet-client.c"
			],
			[
				"async",
				"lib/asynciterator.c"
			],
			[
				"minnet-as",
				"src/minnet-asynciterator.h"
			],
			[
				"jsutils",
				"lib/jsutils.c"
			],
			[
				"cmake",
				"CMakeLists.txt"
			],
			[
				"minnet-cli",
				"src/minnet-client.c"
			],
			[
				"cmakelists",
				"CMakeLists.txt"
			],
			[
				"minnet-req",
				"src/minnet-request.c"
			],
			[
				"minnet-resp",
				"src/minnet-response.c"
			],
			[
				"index",
				"assembly/index.ts"
			],
			[
				"fire-debu",
				"~/Projects/plot-cv/fire/build/fire-debug.js"
			],
			[
				"fire.",
				"assembly/fire.ts"
			],
			[
				"packa",
				"package.json"
			],
			[
				"prettier",
				".prettierrc"
			],
			[
				"ascon",
				"asconfig.json"
			],
			[
				"index.",
				"assembly/index.ts"
			],
			[
				"utils.h",
				"include/utils.h"
			],
			[
				"misc.",
				"lib/misc.js"
			],
			[
				"extendAr",
				"lib/extendArray.js"
			],
			[
				"extendArray",
				"lib/extendArray.js"
			],
			[
				"propery-enu",
				"src/property-enumeration.c"
			],
			[
				"vector.h",
				"include/vector.h"
			],
			[
				"vector.c",
				"src/vector.c"
			],
			[
				"tree-walk",
				"quickjs-tree-walker.c"
			],
			[
				"tree",
				"quickjs-tree-walker.c"
			],
			[
				"extendGener",
				"lib/extendGenerator.js"
			],
			[
				"",
				"quickjs-tree-walker.c"
			],
			[
				"quickjs-tree",
				"quickjs-tree-walker.c"
			],
			[
				"xpath.",
				"lib/xpath.js"
			],
			[
				"xpath",
				"lib/xpath.js"
			],
			[
				"repl.j",
				"lib/repl.js"
			],
			[
				"qjsm",
				"src/qjsm.c"
			],
			[
				"require.js",
				"lib/require.js"
			],
			[
				"c.js",
				"lib/lexer/c.js"
			],
			[
				"test",
				"tests/test_mysql.js"
			],
			[
				"utils.c",
				"src/utils.c"
			],
			[
				"dom.js",
				"lib/dom.js"
			],
			[
				"dom.j",
				"lib/dom.js"
			],
			[
				"xml-s",
				"xml-shell.js"
			],
			[
				"xml-she",
				"xml-shell.js"
			],
			[
				"list-ex",
				"list-exports.js"
			],
			[
				"lexer.c",
				"src/lexer.c"
			],
			[
				"quickjs-lexer",
				"quickjs-lexer.c"
			],
			[
				"lexer.h",
				"include/lexer.h"
			],
			[
				"quickjs-lex",
				"quickjs-lexer.c"
			],
			[
				"resolve",
				"resolve-imports.js"
			],
			[
				"lexer.",
				"quickjs-lexer.c"
			],
			[
				"token.h",
				"include/token.h"
			],
			[
				"token.c",
				"src/token.c"
			],
			[
				"resolve-im",
				"resolve-imports.js"
			],
			[
				"list-exports",
				"list-exports.js"
			],
			[
				"js-ut",
				"include/js-utils.h"
			],
			[
				"predicate.h",
				"quickjs-predicate.h"
			],
			[
				"location.c",
				"src/location.c"
			],
			[
				"buffer-ut",
				"include/buffer-utils.h"
			],
			[
				"location.h",
				"include/location.h"
			],
			[
				"Loc",
				"include/location.h"
			],
			[
				"quickjs-le",
				"quickjs-lexer.c"
			],
			[
				"prop",
				"src/property-enumeration.c"
			],
			[
				"proper",
				"include/property-enumeration.h"
			],
			[
				"quickjs-dee",
				"quickjs-deep.c"
			],
			[
				"quickjs-inps",
				"quickjs-inspect.c"
			],
			[
				"-misc.c",
				"quickjs-misc.c"
			],
			[
				"util",
				"lib/util.js"
			],
			[
				"qjsm.c",
				"src/qjsm.c"
			],
			[
				"dom",
				"lib/dom.js"
			],
			[
				"-inspect",
				"quickjs-inspect.c"
			],
			[
				"cmake/",
				"cmake/QuickJSModule.cmake"
			],
			[
				"process",
				"lib/process.js"
			],
			[
				"process.js",
				"lib/process.js"
			],
			[
				"quickjs.c",
				"~/Projects/plot-cv/quickjs/quickjs.c"
			],
			[
				"ecmascript.js",
				"lib/lexer/ecmascript.js"
			],
			[
				"quickjs-int",
				"quickjs-internal.h"
			],
			[
				"ecmas",
				"lib/lexer/ecmascript.js"
			],
			[
				"ecma",
				"lib/lexer/ecmascript.js"
			],
			[
				"ecmasc",
				"lib/lexer/ecmascript.js"
			],
			[
				"lib/util",
				"lib/util.js"
			],
			[
				"quickjs-my",
				"quickjs-mysql.c"
			],
			[
				"path.c",
				"src/path.c"
			],
			[
				"char-utils",
				"src/char-utils.c"
			],
			[
				"fs.js",
				"lib/fs.js"
			],
			[
				"console.js",
				"lib/console.js"
			]
		],
		"width": 0.0
	},
	"select_project":
	{
		"height": 500.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"",
				"~/Projects/plot-cv/plot-cv.sublime-project"
			]
		],
		"width": 380.0
	},
	"select_symbol":
	{
		"height": 271.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"",
				"WS"
			]
		],
		"width": 1017.0
	},
	"selected_group": 0,
	"settings":
	{
	},
	"show_minimap": true,
	"show_open_files": false,
	"show_tabs": true,
	"side_bar_visible": true,
	"side_bar_width": 308.0,
	"status_bar_visible": true,
	"template_settings":
	{
	}
}
