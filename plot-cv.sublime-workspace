{
	"auto_complete":
	{
		"selected_items":
		[
			[
				"exists",
				"existsAndNotEmpty"
			],
			[
				"RETURN_",
				"RETURN_VALUE_PATH"
			],
			[
				"define",
				"defineProperty(...)"
			],
			[
				"constr",
				"constructor"
			],
			[
				"RE",
				"deep.RETURN_VALUE_PATH"
			],
			[
				"CXXRec",
				"CXXRecordDecl"
			],
			[
				"CXXReco",
				"CXXRecordDecl"
			],
			[
				"des",
				"desugared"
			],
			[
				"con",
				"constructor"
			],
			[
				"jsm_start_",
				"jsm_start_interactive3"
			],
			[
				"by",
				"byobRequest"
			],
			[
				"Read",
				"ReadableStreamBYOBRequest"
			],
			[
				"js_by",
				"js_readable_byob_request"
			],
			[
				"BY",
				"BYOB_REQUEST_METHOD_RESPONDWITHNEWVIEW"
			],
			[
				"JS_",
				"JS_NewObjectProtoClass"
			],
			[
				"JS_Get",
				"JS_GetPropertyUint32"
			],
			[
				"is_",
				"is_exception"
			],
			[
				"JS_T",
				"JS_ThrowInternalError"
			],
			[
				"Repe",
				"RepeaterItem"
			],
			[
				"WRITER_PROP",
				"WRITER_PROP_READY"
			],
			[
				"JS_Throw",
				"JS_ThrowInternalError"
			],
			[
				"to",
				"toStringTag"
			],
			[
				"Der",
				"DereferenceError"
			],
			[
				"Dere",
				"DereferenceError"
			],
			[
				"Is",
				"IsPunctuator"
			],
			[
				"js_magic_fun",
				"js_magic_function"
			],
			[
				"js_queue_iter",
				"js_queue_iterator_class_id"
			],
			[
				"js_queue_itreat",
				"js_queue_iterator_class_id"
			],
			[
				"js_",
				"js_archive_mode"
			],
			[
				"JS_GetP",
				"JS_GetPropertyStr"
			],
			[
				"JS_Set",
				"JS_SetPropertyUint32"
			],
			[
				"ENTRY_IS",
				"ENTRY_ISDATAENCRYPTED"
			],
			[
				"js_archivema",
				"js_archivematch_class_id"
			],
			[
				"JS_NewObjec",
				"JS_NewObjectProtoClass"
			],
			[
				"Module",
				"ModuleLoaderContext"
			],
			[
				"JS_Th",
				"JS_ThrowTypeError"
			],
			[
				"ModuleLo",
				"ModuleLoaderContext"
			],
			[
				"escape",
				"escape_noquote_tab"
			],
			[
				"max",
				"max_array_length"
			],
			[
				"tty",
				"tty_set_raw"
			],
			[
				"getOwnPrope",
				"getOwnPropertyDescriptor"
			],
			[
				"PATH_SKIP",
				"PATH_SKIP_SEPARATOR"
			],
			[
				"ListIterat",
				"ListIteratorKind"
			],
			[
				"_f",
				"_wfindnext64"
			],
			[
				"JS_Free",
				"JS_FreeCString"
			],
			[
				"JS_PROP_",
				"JS_PROP_CONFIGURABLE"
			],
			[
				"JS_GetPr",
				"JS_GetPropertyStr"
			],
			[
				"js_sock",
				"js_sockaddr_data"
			],
			[
				"SET_",
				"SET_CONSOLE_MODE"
			],
			[
				"ERA",
				"ERASE_IN_LINE"
			],
			[
				"js_misc_set",
				"js_misc_settextattr"
			],
			[
				"dw",
				"dwCursorPosition"
			],
			[
				"prop",
				"property_recursion_top"
			],
			[
				"property_enumer",
				"property_enumeration_index"
			],
			[
				"INT",
				"INSPECT_INT32T_INRANGE"
			],
			[
				"js_inspect_print_arra",
				"js_inspect_print_arraybuffer2"
			],
			[
				"is_a",
				"is_arraybuffer"
			],
			[
				"fmt",
				"fmt_ulong"
			],
			[
				"inspec",
				"inspect_newline2"
			],
			[
				"property_",
				"property_recursion_top"
			],
			[
				"js_inspec",
				"js_inspect_print_value"
			],
			[
				"JS_Atom",
				"JS_AtomToValue"
			],
			[
				"mysql_op",
				"mysql_optionsv"
			],
			[
				"MY",
				"MYSQLConnectParameters"
			],
			[
				"js_connect",
				"js_connectparams_class_id"
			],
			[
				"js_conn",
				"js_connectparams_from"
			],
			[
				"MYSQL",
				"MYSQLConnectParameters"
			],
			[
				"mysql_get",
				"mysql_get_socket"
			],
			[
				"async",
				"asyncclosure_resolve"
			],
			[
				"res",
				"resolving_funcs"
			],
			[
				"HAVE_LIB",
				"HAVE_LIBMARIADBCLIENT"
			],
			[
				"js_is_null",
				"js_is_null_or_undefined"
			],
			[
				"FileDesc",
				"FileDescriptorHandlers"
			],
			[
				"js_generat",
				"js_generator_prototype"
			],
			[
				"tab_",
				"tab_atom_len"
			],
			[
				"proper",
				"property_recursion_pop"
			],
			[
				"property_rec",
				"property_recursion_top"
			],
			[
				"property",
				"property_recursion_top"
			],
			[
				"RETURN",
				"deep.RETURN_VALUE_PATH"
			],
			[
				"LIBS",
				"LIBSERIALPORT_LIBRARY_DIR"
			],
			[
				"js_misc_atexit_",
				"js_misc_atexit_called"
			],
			[
				"getO",
				"getOwnPropertyNames(...)"
			],
			[
				"Res",
				"ResolveAlias"
			],
			[
				"relati",
				"relativePath"
			],
			[
				"js_syscla",
				"js_syscallerror_defines"
			],
			[
				"get",
				"getOwnPropertyDescriptor(...)"
			],
			[
				"resol",
				"resolving_funcs"
			],
			[
				"set",
				"set_handler"
			],
			[
				"Async",
				"AsyncSocketClosure"
			],
			[
				"Asy",
				"AsyncSocketClosure"
			],
			[
				"js_socket_async_",
				"js_socket_async_resolver"
			],
			[
				"js_socket_asyc",
				"js_socket_async_closure_free"
			],
			[
				"JS_EV",
				"JS_EVAL_FLAG_COMPILE_ONLY"
			],
			[
				"check_",
				"check_function_and_include"
			],
			[
				"PGCon",
				"PGConnectParameters"
			],
			[
				"PGC",
				"PGConnectParameters"
			],
			[
				"connect",
				"connectparams_parse"
			],
			[
				"Nam",
				"FieldNameFunc"
			],
			[
				"PG",
				"PGSQLResult"
			],
			[
				"js",
				"js_pgresult_class_id"
			],
			[
				"PGSQ",
				"PGSQResultIterator"
			],
			[
				"js_misc_getopa",
				"js_misc_getopaque"
			],
			[
				"js_pgrequ",
				"js_pgresult_opaque"
			],
			[
				"PGRES_PO",
				"PGRES_POLLING_READING"
			],
			[
				"PROP_PRO",
				"PROP_PROTOCOL_VERSION"
			],
			[
				"B",
				"BOOL"
			],
			[
				"Asyn",
				"AsyncIterator"
			],
			[
				"ret",
				"return_flag"
			],
			[
				"ImportID",
				"ImportIdMap"
			],
			[
				"Num",
				"NumericRange"
			],
			[
				"dbuf_",
				"dbuf_init2"
			],
			[
				"getOwn",
				"getOwnPropertyNames(...)"
			],
			[
				"has_",
				"has_dot_or_slash"
			],
			[
				"My",
				"MySQLResult"
			],
			[
				"JS_ToCS",
				"JS_ToCStringLen"
			],
			[
				"CF",
				"CFunctionClosureRecord"
			],
			[
				"extendA",
				"extendAsyncGenerator"
			],
			[
				"JS_SetPr",
				"JS_SetPropertyStr"
			],
			[
				"MYSQL_TYPE_NEW",
				"MYSQL_TYPE_NEWDECIMAL"
			],
			[
				"JS_CF",
				"JS_CFUNC_MAGIC_DEF"
			],
			[
				"js_mysqlresult_fun",
				"js_mysqlresult_functions"
			],
			[
				"JS_ToCSt",
				"JS_ToCStringLen"
			],
			[
				"js_mysql_f",
				"js_mysql_functions"
			],
			[
				"MARIA",
				"MARIADBCLIENT_LIBRARY"
			],
			[
				"depe",
				"dependencyMap"
			],
			[
				"depden",
				"dependencyTree"
			],
			[
				"add_",
				"add_dependencies"
			],
			[
				"ch",
				"chunks_written"
			]
		]
	},
	"buffers":
	[
		{
			"contents": "(ast, r) =>\nDeepFind(ast, pred, flags = deep.RETURN_VALUE)\nDeepSelect(ast, pred, flags = deep.RETURN_VALUE)\nDeepCachePath(ast, path, m = \n(ast))\nDeepPathOf(ast, value)\nDeepGet(ast, path, ...args)\nFileTime(filename)\nNewer(file, ...other)\n  other =>\nOlder(file, other)\nGetSubscripts(str)\n  m =>\nTrimSubscripts(str, sub)\n  nameOrIdPred(name_or_id, ...args)\nnode =>\nList\n  constructor(...args)\n  filter(callback, thisArg = null)\n  callback = elem =>\n  slice(start, end)\n  get first()\n  elem =>\n  entries()\n  keys()\n  values()\n  toArray()\n(a, n) =>\nList\nNode\n  constructor(ast)\n  static get(ast)\n  get ast()\n  get id()\n  get loc()\n  get file()\n(v, k) =>\n(v, k) =>\n  get range()\n  r =>\n  toJSON(obj)\nNode\n(node, ast) =>\nPathOf(node, ast = globalThis['$'].data)\nHier(node_or_path, t = (p, ast, abort) => p.\n(ast), ast = globalThis['$'].data)\n  p =>\n  abortFn = () =>\nFindType(typeName, ast = globalThis['$'].data)\n([tok]) =>\n  node =>\nPointerType\n  constructor(pointee, ast, ns)\n  static fromString(str, ast, ns)\n  toString()\nReferenceType\n  constructor(pointee, ast, ns)\n  static fromString(str, ast, ns)\n  toString()\nType\n  constructor(node, ast, ns)\n  n =>\n  get regExp()\n  isEnum()\n  isPointer()\n  isReference()\n  isFunction()\n  isArray()\n  isInteger()\n  arrayOf()\n  get subscripts()\n  trimSubscripts()\n  get pointer()\n  get reference()\n  getPointer(ast)\n  get unsigned()\n  get signed()\n  isCompound()\n  isFloatingPoint()\n  get alias()\n  get aliases()\n  isEnum()\n  isString()\n  get ffi()\n  get size()\n  toJS()\n  toJSON(obj)\n  static get(name_or_id, ast = globalThis['$'].data)\nnode =>\nnode =>\nRoundTo(value, align)\nRecordDecl\n  constructor(node, ast, ns)\n  child =>\n  child =>\n() =>\n  node =>\n(acc, node) =>\n  i =>\nn =>\n  n =>\n([name, t]) =>\n  get size()\n(acc, [name, type]) =>\n  toJSON()\n([name, member]) =>\nEnumDecl\n  constructor(node, ast)\n  child =>\n({ name, type, inner }) =>\n  toJSON()\nTypedefDecl\n  constructor(node, ast, ns)\n  n =>\n(v, k) =>\n  n =>\n  n =>\n  n =>\n  get size()\n  toJSON()\nFieldDecl\n  constructor(node, ast)\nFunctionDecl\n  constructor(node, ast, ns)\n  child =>\n  child =>\n({ name, type }) =>\n  isMethod()\n  toJSON()\nVarDecl\n  constructor(node, ast)\n  toJSON()\nClassDecl\n  constructor(node, ast)\nBuiltinType\n  constructor(node, ast)\nConstantArrayType\n  constructor(node, ast)\n  toJSON()\nRange\n  constructor(begin, end)\n  get begin()\n  set begin(v)\n  get end()\n  set end(v)\n  toString(opts = { printFile: true })\n  get length()\n  toArray()\n  toObject()\nRange\nLocation\n  static at(file, offset)\n  static from(loc)\n  constructor(loc)\n  update(other)\n  get line()\n  set line(v)\n  get column()\n  set column(v)\n  get offset()\n  set offset(v)\n(t, ...c) =>\n'\\x1b[m' : t =>\n  toString(opts = { printFile: true, onlyOffset: false })\n  toObject()\n  localeCompare(other)\nTypeFactory(node, ast, cache = true)\nSpawnCompiler(compiler, input, outfile, args = [])\n  p =>\n  p =>\n  line =>\n  line =>\n  line =>\nPipeReader(fd, callback)\n(resolve, reject) =>\n() =>\ndata =>\nReadPipe(fd, callback)\nReadOutput(fd)\nSourceDependencies(...args)\nAstDump(compiler, source, args, force)\n  size()\n  json()\n  data()\nSetFile = loc =>\n  files()\n  n =>\n  file =>\n  pred2 = (used, implicit) =>\nnode =>\n  types()\nn =>\n() =>\nList\n  functions()\nn =>\n() =>\nn =>\nList\n  namespaces()\nn =>\nList\n  classes()\n  predicate = n =>\nList\n  variables()\n  n =>\nList\n  names(depth = 1)\n  n =>\n  n =>\nNameFor(decl, ast = globalThis['$']?.data)\n(value, key) =>\nNodeType(n)\n  t =>\nn =>\nNodeName(n, name)\nRawLocation(path)\nRawRange(path)\nCompleteLocation(path)\n  l =>\nCompleteRange(path)\n  l =>\nGetLoc(node)\nGetTypeNode(node, ast = globalThis['$'].data)\n  node =>\n  node =>\nGetTypeStr(node)\n  inner =>\n  inner =>\n([n, t]) =>\nNodeError\n  constructor(message, node)\nNodeError\nNodePrinter(ast)\n  put(str)\n  trim()\n  printer = function(node)\n  get()\n  value()\n  value(node)\n  toString()\n  i =>\nNodePrinter\nAbiTagAttr(abi_tag_attr)\nAccessSpecDecl(access_spec_decl)\nAlignedAttr(aligned_attr)\nAlwaysInlineAttr(always_inline_attr)\nArraySubscriptExpr(array_subscript_expr)\nAsmLabelAttr(asm_label_attr)\nBinaryOperator(binary_operator)\nBlockCommandComment(block_command_comment)\nBuiltinAttr(builtin_attr)\nBreakStmt(break_stmt)\nCallExpr(call_expr)\nRecoveryExpr(recovery_expr)\nCaseStmt(case_stmt)\nCharacterLiteral(character_literal)\nCompoundAssignOperator(compound_assign_operator)\nCompoundStmt(compound_stmt)\nConditionalOperator(conditional_operator)\nConstantExpr(constant_expr)\nConstAttr(const_attr)\nContinueStmt(continue_stmt)\nCStyleCastExpr(cstyle_cast_expr)\nDeclRefExpr(decl_ref_expr)\nDeclStmt(decl_stmt)\nDefaultStmt(default_stmt)\nDeprecatedAttr(deprecated_attr)\nDoStmt(do_stmt)\nEmptyDecl(empty_decl)\nEnumConstantDecl(enum_constant_decl)\nEnumDecl(enum_decl)\nFieldDecl(field_decl)\nFloatingLiteral(floating_literal)\nFormatAttr(format_attr)\nForStmt(for_stmt)\n  n =>\nFullComment(full_comment)\nFunctionDecl(function_decl)\n  n =>\nn =>\nGotoStmt(goto_stmt)\nn =>\nHTMLEndTagComment(html_end_tag_comment)\nHTMLStartTagComment(html_start_tag_comment)\nIfStmt(if_stmt)\nImplicitCastExpr(implicit_cast_expr)\nInitListExpr(init_list_expr)\nInlineCommandComment(inline_command_comment)\nIntegerLiteral(integer_literal)\nLabelStmt(label_stmt)\nMemberExpr(member_expr)\nNonNullAttr(non_null_attr)\nNoThrowAttr(no_throw_attr)\nNullStmt(null_stmt)\nParagraphComment(paragraph_comment)\nParamCommandComment(param_command_comment)\nParenExpr(paren_expr)\nParenListExpr(paren_list_expr)\nParmVarDecl(parm_var_decl)\nPureAttr(pure_attr)\nRecordDecl(record_decl)\nRestrictAttr(restrict_attr)\nReturnStmt(return_stmt)\nReturnsTwiceAttr(returns_twice_attr)\nStringLiteral(string_literal)\nSwitchStmt(switch_stmt)\nTextComment(text_comment)\nTranslationUnitDecl(translation_unit_decl)\nTypedefDecl(typedef_decl)\nUnaryExprOrTypeTraitExpr(unary_expr_or_type_trait_expr)\nUnaryOperator(unary_operator)\nUnresolvedLookupExpr(unresolved_lookup_expr)\nUnresolvedMemberExpr(unresolved_member_expr)\nVarDecl(var_decl, base_type)\n([offset, subscript]) =>\nVerbatimBlockComment(verbatim_block_comment)\nVerbatimBlockLineComment(verbatim_block_line_comment)\nWarnUnusedResultAttr(warn_unused_result_attr)\nWeakAttr(weak_attr)\nWhileStmt(while_stmt)\nOverrideAttr(override_attr)\nAddrLabelExpr(addr_label_expr)\nAliasAttr(alias_attr)\nAlignValueAttr(align_value_attr)\nAllocSizeAttr(alloc_size_attr)\nArrayInitIndexExpr(array_init_index_expr)\nArrayInitLoopExpr(array_init_loop_expr)\nAtomicExpr(atomic_expr)\nAtomicType(atomic_type)\nAutoType(auto_type)\nBuiltinTemplateDecl(builtin_template_decl)\nBuiltinType(builtin_type)\nCallbackAttr(callback_attr)\nClassTemplateDecl(class_template_decl)\nClassTemplatePartialSpecializationDecl(class_template_partial_specialization_decl)\nClassTemplateSpecializationDecl(class_template_specialization_decl)\nComplexType(complex_type)\nCompoundLiteralExpr(compound_literal_expr)\nConstantArrayType(constant_array_type)\nConstructorUsingShadowDecl(constructor_using_shadow_decl)\nConvertVectorExpr(convert_vector_expr)\nDecayedType(decayed_type)\nDecltypeType(decltype_type)\nDependentNameType(dependent_name_type)\nDependentScopeDeclRefExpr(dependent_scope_decl_ref_expr)\nDependentSizedArrayType(dependent_sized_array_type)\nDependentTemplateSpecializationType(dependent_template_specialization_type)\nElaboratedType(elaborated_type)\nEnumType(enum_type)\nExprWithCleanups(expr_with_cleanups)\nFinalAttr(final_attr)\nFormatArgAttr(format_arg_attr)\nFriendDecl(friend_decl)\nFunctionNoProtoType(function_no_proto_type)\nFunctionProtoType(function_proto_type)\nFunctionTemplateDecl(function_template_decl)\nGCCAsmStmt(gcc_asm_stmt)\nGNUInlineAttr(gnu_inline_attr)\nGNUNullExpr(gnu_null_expr)\nImplicitValueInitExpr(implicit_value_init_expr)\nIncompleteArrayType(incomplete_array_type)\nIndirectFieldDecl(indirect_field_decl)\nIndirectGotoStmt(indirect_goto_stmt)\nInjectedClassNameType(injected_class_name_type)\nLambdaExpr(lambda_expr)\nLinkageSpecDecl(linkage_spec_decl)\nLValueReferenceType(l_value_reference_type)\nMaterializeTemporaryExpr(materialize_temporary_expr)\nMaxFieldAlignmentAttr(max_field_alignment_attr)\nMayAliasAttr(may_alias_attr)\nMemberPointerType(member_pointer_type)\nMinVectorWidthAttr(min_vector_width_attr)\nModeAttr(mode_attr)\nNamespaceDecl(namespace_decl)\nNoDebugAttr(no_debug_attr)\nNoInlineAttr(no_inline_attr)\nNonTypeTemplateParmDecl(non_type_template_parm_decl)\nOffsetOfExpr(offset_of_expr)\nOpaqueValueExpr(opaque_value_expr)\nOwnerAttr(owner_attr)\nPackedAttr(packed_attr)\nPackExpansionExpr(pack_expansion_expr)\nPackExpansionType(pack_expansion_type)\nParenType(paren_type)\nPointerAttr(pointer_attr)\nPointerType(pointer_type)\nPredefinedExpr(predefined_expr)\nQualType(qual_type)\nRecordType(record_type)\nReturnsNonNullAttr(returns_non_null_attr)\nRValueReferenceType(r_value_reference_type)\nSentinelAttr(sentinel_attr)\nShuffleVectorExpr(shuffle_vector_expr)\nSizeOfPackExpr(size_of_pack_expr)\nStaticAssertDecl(static_assert_decl)\nStmtExpr(stmt_expr)\nSubstNonTypeTemplateParmExpr(subst_non_type_template_parm_expr)\nSubstTemplateTypeParmType(subst_template_type_parm_type)\nTargetAttr(target_attr)\nTemplateArgument(template_argument)\nTemplateSpecializationType(template_specialization_type)\nTemplateTemplateParmDecl(template_template_parm_decl)\nTemplateTypeParmDecl(template_type_parm_decl)\nTemplateTypeParmType(template_type_parm_type)\nTParamCommandComment(t_param_command_comment)\nTypeAliasDecl(type_alias_decl)\nTypeAliasTemplateDecl(type_alias_template_decl)\nTypedefType(typedef_type)\nTypeOfExprType(type_of_expr_type)\nTypeTraitExpr(type_trait_expr)\nUnaryTransformType(unary_transform_type)\nUnresolvedUsingValueDecl(unresolved_using_value_decl)\nUnusedAttr(unused_attr)\nUsingDecl(using_decl)\nUsingDirectiveDecl(using_directive_decl)\nUsingShadowDecl(using_shadow_decl)\nVAArgExpr(va_arg_expr)\nVarTemplateDecl(var_template_decl)\nVectorType(vector_type)\nVerbatimLineComment(verbatim_line_comment)\nVisibilityAttr(visibility_attr)\nWeakRefAttr(weak_ref_attr)\nCXXRecordDecl(cxx_record_decl)\nCXXConstructorDecl(cxx_constructor_decl)\n  n =>\nCXXCtorInitializer(cxx_ctor_initializer)\nCXXDependentScopeMemberExpr(cxx_dependent_scope_member_expr)\nCXXThisExpr(cxx_this_expr)\nCXXDestructorDecl(cxx_destructor_decl)\n  n =>\nCXXMethodDecl(cxx_method_decl)\n  n =>\nCXXStaticCastExpr(cxx_static_cast_expr)\nCXXUnresolvedConstructExpr(cxx_unresolved_construct_expr)\nCXXNewExpr(cxx_new_expr)\nCXXDeleteExpr(cxx_delete_expr)\nCXXBoolLiteralExpr(cxx_bool_literal_expr)\nCXX11NoReturnAttr(cxx11_no_return_attr)\nCXXBindTemporaryExpr(cxx_bind_temporary_expr)\nCXXCatchStmt(cxx_catch_stmt)\nCXXConstructExpr(cxx_construct_expr)\nCXXConversionDecl(cxx_conversion_decl)\nCXXDefaultArgExpr(cxx_default_arg_expr)\nCXXDefaultInitExpr(cxx_default_init_expr)\nCXXForRangeStmt(cxx_for_range_stmt)\nCXXFunctionalCastExpr(cxx_functional_cast_expr)\nCXXMemberCallExpr(cxx_member_call_expr)\nCXXNoexceptExpr(cxx_noexcept_expr)\nCXXNullPtrLiteralExpr(cxx_null_ptr_literal_expr)\nCXXOperatorCallExpr(cxx_operator_call_expr)\nCXXReinterpretCastExpr(cxx_reinterpret_cast_expr)\nCXXScalarValueInitExpr(cxx_scalar_value_init_expr)\nCXXTemporaryObjectExpr(cxx_temporary_object_expr)\nCXXTryStmt(cxx_try_stmt)\nPrintNode(node)\nPrintAst(node, ast)\n  get()\n  isNode(obj)\nGetType(name_or_id, ast = globalThis['$']?.data)\n  n =>\nnode =>\nnode =>\n  r =>\nGetClass(name_or_id, ast = globalThis['$'].data)\nn =>\n  bases()\nGetBases(node, ast = globalThis['$'].data)\nGetByName(arg, ast = globalThis['$'].data, predicate = () => true)\nn =>\nGetNamespace(arg, root = globalThis['$'].data, predicate = () => true)\nn =>\nNamespaceOf(node, ast = globalThis['$'].data)\n  toString()\nGetFields(node)\n(v, k) =>\n([v, p]) =>\n([loc, ptr]) =>\n  i =>\nGetParams(node)\n  child =>\nPathRemoveLoc(path)\n  p =>",
			"settings":
			{
				"buffer_size": 11594,
				"line_ending": "Unix",
				"name": "ðŒ† Outline",
				"scratch": true
			},
			"undo_stack":
			[
				[
					2,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/ast-shell.js",
						"symkeys":
						[
							[
								2133,
								2137
							],
							[
								2196,
								2200
							],
							[
								2236,
								2266
							],
							[
								2309,
								2330
							],
							[
								2479,
								2505
							],
							[
								2663,
								2682
							],
							[
								3011,
								3039
							],
							[
								3329,
								3337
							],
							[
								3338,
								3352
							],
							[
								3434,
								3444
							],
							[
								3507,
								3555
							],
							[
								3669,
								3678
							],
							[
								3788,
								3810
							],
							[
								4272,
								4294
							],
							[
								4658,
								4676
							],
							[
								4776,
								4794
							],
							[
								4900,
								4926
							],
							[
								5062,
								5066
							],
							[
								5145,
								5161
							],
							[
								5653,
								5672
							],
							[
								6171,
								6176
							],
							[
								6251,
								6266
							],
							[
								6351,
								6359
							],
							[
								6400,
								6408
							],
							[
								6780,
								6853
							],
							[
								6857,
								6865
							],
							[
								6962,
								6992
							],
							[
								7024,
								7029
							],
							[
								7062,
								7069
							],
							[
								7099,
								7127
							],
							[
								7470,
								7477
							],
							[
								7496,
								7519
							],
							[
								7549,
								7556
							],
							[
								7587,
								7595
							],
							[
								7633,
								7640
							],
							[
								7849,
								7862
							],
							[
								8093,
								8136
							],
							[
								8169,
								8178
							],
							[
								8239,
								8243
							],
							[
								8345,
								8349
							],
							[
								8385,
								8399
							],
							[
								8511,
								8539
							],
							[
								8744,
								8769
							],
							[
								8867,
								8891
							],
							[
								8964,
								8968
							],
							[
								9087,
								9091
							],
							[
								9155,
								9169
							],
							[
								9242,
								9251
							],
							[
								9565,
								9579
							],
							[
								9702,
								9737
							],
							[
								9826,
								9831
							],
							[
								9954,
								9966
							],
							[
								10019,
								10044
							],
							[
								10093,
								10104
							],
							[
								10144,
								10155
							],
							[
								10293,
								10304
							],
							[
								10392,
								10405
							],
							[
								10486,
								10518
							],
							[
								10756,
								10785
							],
							[
								10796,
								10811
							],
							[
								10873,
								10892
							],
							[
								11100,
								11139
							],
							[
								11204,
								11244
							],
							[
								11327,
								11371
							],
							[
								11453,
								11492
							],
							[
								11554,
								11592
							],
							[
								11678,
								11706
							],
							[
								11769,
								11796
							],
							[
								12347,
								12373
							],
							[
								12640,
								12647
							],
							[
								14563,
								14621
							],
							[
								15657,
								15664
							],
							[
								15728,
								15735
							],
							[
								15745,
								15756
							],
							[
								15797,
								15823
							],
							[
								15939,
								15953
							],
							[
								16250,
								16269
							],
							[
								16296,
								16303
							],
							[
								16392,
								16422
							],
							[
								16488,
								16528
							],
							[
								16704,
								16755
							],
							[
								17744,
								17751
							],
							[
								18159,
								18185
							],
							[
								18431,
								18485
							],
							[
								18674,
								18686
							],
							[
								18714,
								18726
							],
							[
								19343,
								19403
							],
							[
								20014,
								20069
							],
							[
								20165,
								20177
							],
							[
								20182,
								20212
							],
							[
								20493,
								20515
							],
							[
								20561,
								20584
							],
							[
								20656,
								20671
							],
							[
								20806,
								20822
							],
							[
								21226,
								21239
							],
							[
								21364,
								21383
							],
							[
								21435,
								21443
							],
							[
								21500,
								21515
							],
							[
								21675,
								21687
							],
							[
								22032,
								22046
							],
							[
								22146,
								22163
							],
							[
								22390,
								22412
							],
							[
								22529,
								22554
							],
							[
								22654,
								22671
							],
							[
								22726,
								22730
							],
							[
								22818,
								22822
							],
							[
								22874,
								22898
							],
							[
								23014,
								23054
							],
							[
								23115,
								23136
							],
							[
								23420,
								23452
							],
							[
								23937,
								23952
							],
							[
								24063,
								24088
							],
							[
								24257,
								24292
							],
							[
								24512,
								24519
							],
							[
								24608,
								24615
							],
							[
								24644,
								24653
							],
							[
								24690,
								24699
							],
							[
								24749,
								24757
							],
							[
								24799,
								24823
							],
							[
								24924,
								24940
							],
							[
								24980,
								25020
							],
							[
								25318,
								25361
							],
							[
								26323,
								26334
							],
							[
								27087,
								27137
							],
							[
								27159,
								27185
							],
							[
								27220,
								27249
							],
							[
								27593,
								27636
							],
							[
								27707,
								27717
							],
							[
								27756,
								27760
							],
							[
								27776,
								27780
							],
							[
								27825,
								27912
							],
							[
								28079,
								28112
							],
							[
								28170,
								28175
							],
							[
								28245,
								28287
							],
							[
								28365,
								28375
							],
							[
								28481,
								28521
							],
							[
								28665,
								28670
							],
							[
								28730,
								28743
							],
							[
								28866,
								28870
							],
							[
								28948,
								28952
							],
							[
								29105,
								29112
							],
							[
								29209,
								29214
							],
							[
								29305,
								29321
							],
							[
								29432,
								29439
							],
							[
								29518,
								29522
							],
							[
								29582,
								29589
							],
							[
								29665,
								29672
							],
							[
								29729,
								29775
							],
							[
								29814,
								29824
							],
							[
								29980,
								30016
							],
							[
								30057,
								30069
							],
							[
								31712,
								31733
							],
							[
								31970,
								32010
							],
							[
								32148,
								32177
							],
							[
								32203,
								32232
							],
							[
								32425,
								32435
							],
							[
								32649,
								32659
							],
							[
								32796,
								32806
							],
							[
								33025,
								33035
							],
							[
								33248,
								33252
							],
							[
								33320,
								33324
							],
							[
								35573,
								35592
							],
							[
								38856,
								38888
							],
							[
								39381,
								39391
							],
							[
								39441,
								39451
							],
							[
								39499,
								39509
							],
							[
								40087,
								40098
							],
							[
								40192,
								40196
							],
							[
								40223,
								40227
							],
							[
								40251,
								40255
							],
							[
								40279,
								40283
							],
							[
								40312,
								40349
							],
							[
								40788,
								40833
							],
							[
								40930,
								40964
							],
							[
								41249,
								41277
							],
							[
								41343,
								41357
							],
							[
								41810,
								41827
							],
							[
								41902,
								41919
							],
							[
								42013,
								42042
							],
							[
								42109,
								42132
							],
							[
								42240,
								42245
							],
							[
								42357,
								42380
							],
							[
								42468,
								42473
							],
							[
								42575,
								42587
							],
							[
								42702,
								42707
							],
							[
								42763,
								42792
							],
							[
								43133,
								43147
							],
							[
								44299,
								44357
							],
							[
								45371,
								45382
							],
							[
								45415,
								45426
							],
							[
								45475,
								45481
							],
							[
								45534,
								45542
							],
							[
								45840,
								45844
							],
							[
								46549,
								46555
							]
						],
						"symlist":
						[
							"d =>",
							"d =>",
							"traceProxy = (obj, handler) =>",
							" function(name, args)",
							"get(target, key, receiver)",
							"member = function()",
							"ConcatIterator = iterator =>",
							" gen =>",
							" (...args) =>",
							"toString()",
							"async function ImportModule(modulePath, ...args)",
							"module =>",
							" (acc, item) =>",
							"function CommandLine()",
							" (...args) =>",
							" (...args) =>",
							" (module, ...args) =>",
							"m =>",
							".show = value =>",
							".printNode = arg =>",
							"() =>",
							"(item, i, a) =>",
							"entry =>",
							"entry =>",
							"function* IncludeAll(dir, maxDepth = Infinity, pred = entry => /\\.[ch]$/.",
							"(entry))",
							"function SelectLocations(node)",
							" n =>",
							"prop =>",
							"function LocationString(loc)",
							"node =>",
							"function Structs(nodes)",
							"node =>",
							"field =>",
							"node =>",
							"(field, i) =>",
							"function Table(list, pred = (n, l) => true)",
							"(n, i) =>",
							"e =>",
							"k =>",
							"([i, l, n]) =>",
							" function returnType(n)",
							" function numArgs(n)",
							" function Params(n)",
							"p =>",
							"k =>",
							"([i, l, n]) =>",
							"(k, j) =>",
							"(acc, name) =>",
							" function padTrunc(len, pad = ' ')",
							" s =>",
							"(name, i) =>",
							"pad = (cols, pad, sep) =>",
							"(key, i) =>",
							"(s, col) =>",
							"(acc, n) =>",
							"(acc, row) =>",
							"function PrintRange(range, file)",
							"function OverlapRange(r1, r2)",
							"GetRange = r =>",
							"InRange = (i, r) =>",
							"function ParentNode(node, ast = $.data)",
							"function NextSibling(node, ast = $.data)",
							"function PreviousSibling(node, ast = $.data)",
							"function FirstChild(node, ast = $.data)",
							"function LastChild(node, ast = $.data)",
							"function Terminate(exitCode)",
							"function ParseStructs(text)",
							"function* (decl, includes)",
							"name =>",
							"function InspectStruct(decl, includes, compiler = 'clang')",
							"line =>",
							"line =>",
							"(col, i) =>",
							"([field, offset, size]) =>",
							"(acc, line) =>",
							"toString(sep = ' ')",
							"line =>",
							"function RoundTo(value, align)",
							"function MakeStructClass(decl, filename)",
							"function* GenerateStructClass(decl, ffiPrefix = '')",
							"line =>",
							" ([field, member]) =>",
							"function GenerateGetSet(name, offset, type, ffiPrefix)",
							"toHex = v =>",
							"toHex = v =>",
							"function ByteLength2TypedArray(byteLength, signed, floating)",
							"function ByteLength2Value(byteLength, signed, floating)",
							"FFI_Function",
							"constructor(node, prefix = '')",
							"([name, type], idx) =>",
							"generateDefine(fp, lib)",
							" (name, lib) =>",
							"colorText = x =>",
							"generateDoc()",
							"push = (...args) =>",
							"field =>",
							"(field, col) =>",
							"js = type =>",
							"generateCall()",
							"([name, type]) =>",
							"generate(fp, lib, exp)",
							"generateFunction(fp, lib)",
							"([name, type]) =>",
							"p =>",
							"p =>",
							"compileFunction(fp, lib)",
							"function FdReader(fd, bufferSize = 1024)",
							"async (push, stop) =>",
							"async function CommandRead(args)",
							"async reader =>",
							" function ReadOutput(fd)",
							"async function LibraryExports(file)",
							"line =>",
							"line =>",
							"column =>",
							"(a, b) =>",
							"entry =>",
							"function SaveLibraries()",
							"(acc, [n, e]) =>",
							"function ProcessFile(file, debug = true)",
							"function ParseECMAScript(file, params = {})",
							" (fr, i) =>",
							"function PrintECMAScript(ast, comments, printer = ",
							"({ indent: 4 }, comments))",
							"function PrintCArray(strings)",
							"function Namespaces(nodePath, ast = $.data)",
							"get = p =>",
							"p =>",
							"n =>",
							"function* Constants(node, t = (name, value) => [name, !isNaN(+value) ? +value : value])",
							"function GetImports(ast = $.data)",
							" n =>",
							"function GetIdentifiers(nodes, key = null)",
							" (n, k) =>",
							"function MemberNames(members, flags = 0)",
							" n =>",
							" path =>",
							"p =>",
							"p =>",
							"name =>",
							" n =>",
							"([node, ptr]) =>",
							"path =>",
							"p =>",
							"name =>",
							"name =>",
							"function UnsetLoc(node, pred = (v, p) => true)",
							" (v, k) =>",
							"function MakeFFI(node, lib, exp, fp)",
							"function* ()",
							"function MakeId(name)",
							"function MakeQuickJSClass(node, ast = $)",
							" (cname, vname = 'ptr') =>",
							" (cname, vname = 'ptr') =>",
							" n =>",
							" n =>",
							" n =>",
							" n =>",
							"n =>",
							"n =>",
							"to_jstype = type =>",
							"async function ASTShell(...args)",
							" (a, p) =>",
							" (a, p) =>",
							" (a, p) =>",
							"get flags()",
							"v =>",
							"v =>",
							"d =>",
							"l =>",
							"async function Compile(file, ...args)",
							"select(name_or_id, pred = n => true, ...args)",
							"getByIdOrName(name_or_id, ...args)",
							"function getType(name_or_id)",
							" n =>",
							"predicate = () =>",
							"namespaceOf(node)",
							"function getClass(name_or_id)",
							"getFunction(name_or_id)",
							" n =>",
							"getVariable(name_or_id)",
							" n =>",
							"getLoc(node)",
							"() =>",
							"pathOf(needle, maxDepth = 10)",
							" n =>",
							"Pointer.prototype.chain = function(step, limit = Infinity)",
							".F = arg =>",
							".T = arg =>",
							" () =>",
							" node =>",
							"s =>",
							" fr =>"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADBAgAAICBmaW5kTGFzdEluZGV4KHByZWRpY2F0ZSkKICB0YWlsKCkKICBzdGFydHNXaXRoKHN0YXJ0KQogIG1haW4oLi4uYXJncykKKGEsIHApID0+CihhLCBwKSA9PgogIGQgPT4KICB2ID0+CiAgcHJvY2Vzc0ZpbGVzKC4uLmZpbGVzKQpSZWFkQVNUKG91dGZpbGUsIGxvYWQgPSBmID0+IAooZiksIHNhdmUgPSBXcml0ZUZpbGUsIHBhcnNlID0gSlNPTi5wYXJzZSkKICBuYW1lID0+CiAgc3RhdCA9PgooKSA9PgphID0+CigpID0+CigpID0+CigpID0+CigpID0+CiAgZXJyID0+Cih2LCBwKSA9PgogIHRvU3RyaW5nKCkKICB0b1N0cmluZygpCnYgPT4KTGlzdE5vZGVzKHN5c2luYyA9IGZhbHNlKQpOb1N5c3RlbUluY2x1ZGVzID0gKFtwLCBuLCBsXSkgPT4KKFtwYXRoLCBkZWNsXSkgPT4KICBuYW1lcyA9IGRlY2xzID0+CihbcGF0aCwgZGVjbF0pID0+CiAgZGVjbGFyYXRpb25zID0gZGVjbHMgPT4KKFtwYXRoLCBkZWNsLCBsb2NdKSA9PgooW3AsIG5dKSA9PgooYSwgYikgPT4KKFtwLCBuXSkgPT4KKFtwXSkgPT4KKFtwXSkgPT4KICBwID0+CihbcCwgbl0pID0+CihbcCwgbl0pID0+CihhLCBiKSA9PgooW3AsIG5dKSA9PgooW3AsIG4sIGxdKSA9PgogIGsgPT4KKFtwYXRoLCBub2RlLCBpZCwgbmFtZSwgdHlwZSwga2luZF0pID0+CihmaWVsZCwgaSkgPT4KICB3cml0ZU91dHB1dChuYW1lLCBkYXRhKQpHZXRMaWJyYXJ5Rm9yKHN5bWJvbE5hbWUpAAAAAAAAAACNDQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					3,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/clang-ast.js",
						"symkeys":
						[
							[
								848,
								861
							],
							[
								940,
								996
							],
							[
								1451,
								1510
							],
							[
								1998,
								2037
							],
							[
								2043,
								2049
							],
							[
								2219,
								2251
							],
							[
								2353,
								2390
							],
							[
								2544,
								2571
							],
							[
								2653,
								2683
							],
							[
								2750,
								2758
							],
							[
								2797,
								2824
							],
							[
								2873,
								2900
							],
							[
								2977,
								2981
							],
							[
								3004,
								3037
							],
							[
								3217,
								3260
							],
							[
								3545,
								3553
							],
							[
								3945,
								3949
							],
							[
								3968,
								3988
							],
							[
								4139,
								4171
							],
							[
								4333,
								4351
							],
							[
								4612,
								4629
							],
							[
								4936,
								4947
							],
							[
								4967,
								4974
							],
							[
								5001,
								5010
							],
							[
								5130,
								5136
							],
							[
								5248,
								5256
							],
							[
								5371,
								5380
							],
							[
								5406,
								5415
							],
							[
								5446,
								5450
							],
							[
								5511,
								5515
							],
							[
								5591,
								5607
							],
							[
								5864,
								5879
							],
							[
								5946,
								5955
							],
							[
								6016,
								6024
							],
							[
								6073,
								6082
							],
							[
								6129,
								6139
							],
							[
								6204,
								6214
							],
							[
								6251,
								6261
							],
							[
								6349,
								6360
							],
							[
								6566,
								6570
							],
							[
								6751,
								6762
							],
							[
								6993,
								6997
							],
							[
								7049,
								7063
							],
							[
								7113,
								7163
							],
							[
								7233,
								7288
							],
							[
								7293,
								7327
							],
							[
								7506,
								7510
							],
							[
								7591,
								7606
							],
							[
								7694,
								7750
							],
							[
								7824,
								7834
							],
							[
								8038,
								8045
							],
							[
								8162,
								8173
							],
							[
								8210,
								8239
							],
							[
								8300,
								8331
							],
							[
								8533,
								8543
							],
							[
								8598,
								8611
							],
							[
								8648,
								8677
							],
							[
								8738,
								8769
							],
							[
								8973,
								8983
							],
							[
								9038,
								9042
							],
							[
								9140,
								9166
							],
							[
								12158,
								12162
							],
							[
								13177,
								13189
							],
							[
								13312,
								13320
							],
							[
								13406,
								13417
							],
							[
								13540,
								13553
							],
							[
								13676,
								13688
							],
							[
								13782,
								13791
							],
							[
								13843,
								13854
							],
							[
								13943,
								13952
							],
							[
								14072,
								14088
							],
							[
								14146,
								14162
							],
							[
								14210,
								14223
							],
							[
								14370,
								14385
							],
							[
								14532,
								14547
							],
							[
								14804,
								14818
							],
							[
								14904,
								14916
							],
							[
								14983,
								14995
							],
							[
								15101,
								15118
							],
							[
								15204,
								15215
							],
							[
								15275,
								15288
							],
							[
								15431,
								15439
							],
							[
								15547,
								15557
							],
							[
								15764,
								15773
							],
							[
								17579,
								17589
							],
							[
								19681,
								19687
							],
							[
								19979,
								19990
							],
							[
								20091,
								20141
							],
							[
								20246,
								20254
							],
							[
								20324,
								20332
							],
							[
								22141,
								22171
							],
							[
								22250,
								22260
							],
							[
								22278,
								22304
							],
							[
								22433,
								22441
							],
							[
								22524,
								22532
							],
							[
								22710,
								22715
							],
							[
								22753,
								22760
							],
							[
								22844,
								22858
							],
							[
								23451,
								23455
							],
							[
								23536,
								23541
							],
							[
								25095,
								25099
							],
							[
								26001,
								26015
							],
							[
								26079,
								26089
							],
							[
								26174,
								26196
							],
							[
								26418,
								26426
							],
							[
								26548,
								26567
							],
							[
								26665,
								26673
							],
							[
								26691,
								26713
							],
							[
								26834,
								26842
							],
							[
								26947,
								26973
							],
							[
								27328,
								27336
							],
							[
								27451,
								27462
							],
							[
								27480,
								27506
							],
							[
								27578,
								27582
							],
							[
								27687,
								27697
							],
							[
								27757,
								27761
							],
							[
								27824,
								27828
							],
							[
								27878,
								27882
							],
							[
								28292,
								28302
							],
							[
								28334,
								28342
							],
							[
								28439,
								28448
							],
							[
								28466,
								28488
							],
							[
								28706,
								28718
							],
							[
								28736,
								28762
							],
							[
								28997,
								29005
							],
							[
								29068,
								29076
							],
							[
								30201,
								30220
							],
							[
								30336,
								30346
							],
							[
								30401,
								30409
							],
							[
								30518,
								30525
							],
							[
								30543,
								30565
							],
							[
								30910,
								30918
							],
							[
								31015,
								31024
							],
							[
								31048,
								31070
							],
							[
								31175,
								31186
							],
							[
								31204,
								31226
							],
							[
								31603,
								31620
							],
							[
								31638,
								31660
							],
							[
								31916,
								31924
							],
							[
								32035,
								32040
							],
							[
								32088,
								32111
							],
							[
								32233,
								32244
							],
							[
								32293,
								32305
							],
							[
								32367,
								32376
							],
							[
								32423,
								32433
							],
							[
								32471,
								32507
							],
							[
								33162,
								33174
							],
							[
								33220,
								33229
							],
							[
								33276,
								33286
							],
							[
								33466,
								33471
							],
							[
								33527,
								33535
							],
							[
								33628,
								33651
							],
							[
								33910,
								33926
							],
							[
								34145,
								34161
							],
							[
								34402,
								34415
							],
							[
								34561,
								34571
							],
							[
								34619,
								34630
							],
							[
								34722,
								34734
							],
							[
								34784,
								34797
							],
							[
								34845,
								34857
							],
							[
								34907,
								34920
							],
							[
								35168,
								35181
							],
							[
								35216,
								35231
							],
							[
								35311,
								35366
							],
							[
								35916,
								35926
							],
							[
								36169,
								36189
							],
							[
								36272,
								36318
							],
							[
								37817,
								37882
							],
							[
								38211,
								38215
							],
							[
								38491,
								38495
							],
							[
								39224,
								39231
							],
							[
								39285,
								39292
							],
							[
								39380,
								39387
							],
							[
								39568,
								39603
							],
							[
								39642,
								39662
							],
							[
								39692,
								39698
							],
							[
								39719,
								39727
							],
							[
								39834,
								39867
							],
							[
								40132,
								40157
							],
							[
								40498,
								40540
							],
							[
								41072,
								41125
							],
							[
								42572,
								42578
							],
							[
								42628,
								42634
							],
							[
								42799,
								42805
							],
							[
								42947,
								42963
							],
							[
								43508,
								43515
							],
							[
								43558,
								43562
							],
							[
								43582,
								43589
							],
							[
								43710,
								43737
							],
							[
								43796,
								43811
							],
							[
								44142,
								44149
							],
							[
								44209,
								44223
							],
							[
								44268,
								44283
							],
							[
								44309,
								44313
							],
							[
								44345,
								44356
							],
							[
								44389,
								44401
							],
							[
								44435,
								44448
							],
							[
								44524,
								44529
							],
							[
								44609,
								44613
							],
							[
								44637,
								44649
							],
							[
								44712,
								44717
							],
							[
								44747,
								44751
							],
							[
								44775,
								44784
							],
							[
								44797,
								44813
							],
							[
								45155,
								45159
							],
							[
								45183,
								45194
							],
							[
								45253,
								45257
							],
							[
								45295,
								45299
							],
							[
								45331,
								45347
							],
							[
								45386,
								45390
							],
							[
								45408,
								45412
							],
							[
								45456,
								45508
							],
							[
								45696,
								45712
							],
							[
								46072,
								46093
							],
							[
								46119,
								46123
							],
							[
								46565,
								46570
							],
							[
								46605,
								46632
							],
							[
								46826,
								46854
							],
							[
								47035,
								47060
							],
							[
								47135,
								47167
							],
							[
								47298,
								47302
							],
							[
								47439,
								47468
							],
							[
								47578,
								47582
							],
							[
								47876,
								47898
							],
							[
								48937,
								48992
							],
							[
								49072,
								49079
							],
							[
								49150,
								49157
							],
							[
								49194,
								49220
							],
							[
								49314,
								49322
							],
							[
								49388,
								49396
							],
							[
								49458,
								49469
							],
							[
								49623,
								49632
							],
							[
								49651,
								49677
							],
							[
								49730,
								49739
							],
							[
								49792,
								49818
							],
							[
								49870,
								49889
							],
							[
								49965,
								49982
							],
							[
								50017,
								50041
							],
							[
								50300,
								50305
							],
							[
								50363,
								50370
							],
							[
								50452,
								50463
							],
							[
								51171,
								51181
							],
							[
								51229,
								51233
							],
							[
								51424,
								51435
							],
							[
								51446,
								51470
							],
							[
								51538,
								51570
							],
							[
								51726,
								51751
							],
							[
								51815,
								51851
							],
							[
								51921,
								51961
							],
							[
								52213,
								52241
							],
							[
								52288,
								52319
							],
							[
								52548,
								52590
							],
							[
								52793,
								52818
							],
							[
								52976,
								52997
							],
							[
								53042,
								53061
							],
							[
								53395,
								53422
							],
							[
								53490,
								53509
							],
							[
								53713,
								53748
							],
							[
								53866,
								53914
							],
							[
								54160,
								54187
							],
							[
								54805,
								54846
							],
							[
								55084,
								55111
							],
							[
								55254,
								55275
							],
							[
								55336,
								55363
							],
							[
								55408,
								55440
							],
							[
								55690,
								55716
							],
							[
								55910,
								55929
							],
							[
								56591,
								56616
							],
							[
								56664,
								56695
							],
							[
								56762,
								56777
							],
							[
								56972,
								56993
							],
							[
								57110,
								57146
							],
							[
								57366,
								57385
							],
							[
								57789,
								57810
							],
							[
								58027,
								58060
							],
							[
								58120,
								58143
							],
							[
								58206,
								58223
							],
							[
								58343,
								58347
							],
							[
								59174,
								59199
							],
							[
								59406,
								59433
							],
							[
								59898,
								59902
							],
							[
								60113,
								60129
							],
							[
								60340,
								60359
							],
							[
								60480,
								60485
							],
							[
								60823,
								60862
							],
							[
								60961,
								61004
							],
							[
								61214,
								61229
							],
							[
								61495,
								61531
							],
							[
								61627,
								61655
							],
							[
								61925,
								61969
							],
							[
								62031,
								62062
							],
							[
								62121,
								62142
							],
							[
								62201,
								62224
							],
							[
								62647,
								62673
							],
							[
								62741,
								62767
							],
							[
								62831,
								62850
							],
							[
								62892,
								62927
							],
							[
								63101,
								63143
							],
							[
								63328,
								63349
							],
							[
								63525,
								63555
							],
							[
								63775,
								63801
							],
							[
								64230,
								64249
							],
							[
								64310,
								64333
							],
							[
								64868,
								64895
							],
							[
								64945,
								64968
							],
							[
								65125,
								65161
							],
							[
								65231,
								65260
							],
							[
								65318,
								65341
							],
							[
								65519,
								65544
							],
							[
								65628,
								65670
							],
							[
								65769,
								65794
							],
							[
								66098,
								66153
							],
							[
								66407,
								66436
							],
							[
								66687,
								66731
							],
							[
								66863,
								66907
							],
							[
								66994,
								67022
							],
							[
								67166,
								67190
							],
							[
								67438,
								67482
							],
							[
								67804,
								67857
							],
							[
								67956,
								68001
							],
							[
								68076,
								68095
							],
							[
								68156,
								68177
							],
							[
								68354,
								68381
							],
							[
								68430,
								68460
							],
							[
								68472,
								68493
							],
							[
								68505,
								68537
							],
							[
								68679,
								68709
							],
							[
								68721,
								68762
							],
							[
								68774,
								68813
							],
							[
								68825,
								68848
							],
							[
								68860,
								68883
							],
							[
								68895,
								68914
							],
							[
								68926,
								68968
							],
							[
								68980,
								69005
							],
							[
								69017,
								69044
							],
							[
								69056,
								69094
							],
							[
								69106,
								69188
							],
							[
								69200,
								69267
							],
							[
								69279,
								69304
							],
							[
								69316,
								69358
							],
							[
								69543,
								69581
							],
							[
								69593,
								69650
							],
							[
								69662,
								69700
							],
							[
								69712,
								69737
							],
							[
								69749,
								69776
							],
							[
								69788,
								69826
							],
							[
								69838,
								69894
							],
							[
								69988,
								70039
							],
							[
								70051,
								70126
							],
							[
								70138,
								70169
							],
							[
								70181,
								70200
							],
							[
								70212,
								70248
							],
							[
								70344,
								70365
							],
							[
								70377,
								70407
							],
							[
								70419,
								70442
							],
							[
								70454,
								70497
							],
							[
								70509,
								70547
							],
							[
								70559,
								70603
							],
							[
								70615,
								70639
							],
							[
								70756,
								70786
							],
							[
								70798,
								70824
							],
							[
								70868,
								70915
							],
							[
								70927,
								70969
							],
							[
								70981,
								71019
							],
							[
								71031,
								71067
							],
							[
								71079,
								71126
							],
							[
								71138,
								71161
							],
							[
								71173,
								71207
							],
							[
								71415,
								71458
							],
							[
								71470,
								71522
							],
							[
								71626,
								71673
							],
							[
								71685,
								71713
							],
							[
								71725,
								71763
							],
							[
								71775,
								71816
							],
							[
								71828,
								71847
							],
							[
								71859,
								71888
							],
							[
								71900,
								71926
							],
							[
								71938,
								71966
							],
							[
								71978,
								72030
							],
							[
								72042,
								72070
							],
							[
								72082,
								72116
							],
							[
								72248,
								72269
							],
							[
								72281,
								72304
							],
							[
								72316,
								72354
							],
							[
								72366,
								72404
							],
							[
								72416,
								72437
							],
							[
								72449,
								72474
							],
							[
								72486,
								72511
							],
							[
								72523,
								72554
							],
							[
								72641,
								72660
							],
							[
								72672,
								72695
							],
							[
								72707,
								72748
							],
							[
								72760,
								72803
							],
							[
								72815,
								72842
							],
							[
								72854,
								72892
							],
							[
								72904,
								72937
							],
							[
								72949,
								72985
							],
							[
								72997,
								73016
							],
							[
								73082,
								73145
							],
							[
								73157,
								73213
							],
							[
								73225,
								73248
							],
							[
								73260,
								73295
							],
							[
								73307,
								73363
							],
							[
								73375,
								73428
							],
							[
								73440,
								73485
							],
							[
								73497,
								73542
							],
							[
								73554,
								73599
							],
							[
								73611,
								73641
							],
							[
								73653,
								73700
							],
							[
								73712,
								73737
							],
							[
								73749,
								73782
							],
							[
								73794,
								73824
							],
							[
								73836,
								73876
							],
							[
								73888,
								73941
							],
							[
								73953,
								73976
							],
							[
								73988,
								74009
							],
							[
								74021,
								74061
							],
							[
								74073,
								74107
							],
							[
								74119,
								74141
							],
							[
								74153,
								74187
							],
							[
								74199,
								74222
							],
							[
								74234,
								74276
							],
							[
								74288,
								74319
							],
							[
								74331,
								74357
							],
							[
								74370,
								74400
							],
							[
								74974,
								75014
							],
							[
								75236,
								75240
							],
							[
								76393,
								76433
							],
							[
								76816,
								76876
							],
							[
								77312,
								77338
							],
							[
								77446,
								77484
							],
							[
								77692,
								77696
							],
							[
								77995,
								78025
							],
							[
								78496,
								78500
							],
							[
								79164,
								79203
							],
							[
								79867,
								79924
							],
							[
								80245,
								80269
							],
							[
								80742,
								80772
							],
							[
								81036,
								81077
							],
							[
								81212,
								81251
							],
							[
								81263,
								81308
							],
							[
								81320,
								81348
							],
							[
								81360,
								81396
							],
							[
								81540,
								81578
							],
							[
								81590,
								81629
							],
							[
								81641,
								81682
							],
							[
								81694,
								81729
							],
							[
								81741,
								81788
							],
							[
								81800,
								81839
							],
							[
								81852,
								81886
							],
							[
								81898,
								81946
							],
							[
								81958,
								82001
							],
							[
								82013,
								82062
							],
							[
								82074,
								82124
							],
							[
								82136,
								82185
							],
							[
								82439,
								82463
							],
							[
								82520,
								82545
							],
							[
								82924,
								82953
							],
							[
								83146,
								83151
							],
							[
								83426,
								83447
							],
							[
								83514,
								83572
							],
							[
								83718,
								83722
							],
							[
								84326,
								84334
							],
							[
								84396,
								84404
							],
							[
								84524,
								84528
							],
							[
								84781,
								84839
							],
							[
								84941,
								84946
							],
							[
								85336,
								85343
							],
							[
								85532,
								85585
							],
							[
								85822,
								85898
							],
							[
								86060,
								86065
							],
							[
								86231,
								86311
							],
							[
								86438,
								86446
							],
							[
								86796,
								86851
							],
							[
								87185,
								87195
							],
							[
								87261,
								87286
							],
							[
								87324,
								87334
							],
							[
								87400,
								87415
							],
							[
								87493,
								87508
							],
							[
								87547,
								87551
							],
							[
								87631,
								87656
							],
							[
								87695,
								87703
							],
							[
								87745,
								87774
							],
							[
								87804,
								87808
							]
						],
						"symlist":
						[
							" (ast, r) =>",
							" function DeepFind(ast, pred, flags = deep.RETURN_VALUE)",
							" function* DeepSelect(ast, pred, flags = deep.RETURN_VALUE)",
							" function DeepCachePath(ast, path, m = ",
							"(ast))",
							" function DeepPathOf(ast, value)",
							" function DeepGet(ast, path, ...args)",
							"function FileTime(filename)",
							"function Newer(file, ...other)",
							"other =>",
							"function Older(file, other)",
							"function GetSubscripts(str)",
							"m =>",
							"function TrimSubscripts(str, sub)",
							" function nameOrIdPred(name_or_id, ...args)",
							" node =>",
							"List",
							"constructor(...args)",
							"filter(callback, thisArg = null)",
							"callback = elem =>",
							"slice(start, end)",
							"get first()",
							"elem =>",
							"entries()",
							"keys()",
							"values()",
							"toArray()",
							"(a, n) =>",
							"List",
							"Node",
							"constructor(ast)",
							"static get(ast)",
							"get ast()",
							"get id()",
							"get loc()",
							"get file()",
							" (v, k) =>",
							" (v, k) =>",
							"get range()",
							"r =>",
							"toJSON(obj)",
							"Node",
							"(node, ast) =>",
							" function PathOf(node, ast = globalThis['$'].data)",
							" function* Hier(node_or_path, t = (p, ast, abort) => p.",
							"(ast), ast = globalThis['$'].data)",
							"p =>",
							"abortFn = () =>",
							" function FindType(typeName, ast = globalThis['$'].data)",
							"([tok]) =>",
							"node =>",
							"PointerType",
							"constructor(pointee, ast, ns)",
							"static fromString(str, ast, ns)",
							"toString()",
							"ReferenceType",
							"constructor(pointee, ast, ns)",
							"static fromString(str, ast, ns)",
							"toString()",
							"Type",
							"constructor(node, ast, ns)",
							"n =>",
							"get regExp()",
							"isEnum()",
							"isPointer()",
							"isReference()",
							"isFunction()",
							"isArray()",
							"isInteger()",
							"arrayOf()",
							"get subscripts()",
							"trimSubscripts()",
							"get pointer()",
							"get reference()",
							"getPointer(ast)",
							"get unsigned()",
							"get signed()",
							"isCompound()",
							"isFloatingPoint()",
							"get alias()",
							"get aliases()",
							"isEnum()",
							"isString()",
							"get ffi()",
							"get size()",
							"toJS()",
							"toJSON(obj)",
							"static get(name_or_id, ast = globalThis['$'].data)",
							" node =>",
							" node =>",
							"function RoundTo(value, align)",
							"RecordDecl",
							"constructor(node, ast, ns)",
							"child =>",
							"child =>",
							"() =>",
							"node =>",
							"(acc, node) =>",
							"i =>",
							" n =>",
							"n =>",
							"([name, t]) =>",
							"get size()",
							"(acc, [name, type]) =>",
							"toJSON()",
							"([name, member]) =>",
							"EnumDecl",
							"constructor(node, ast)",
							"child =>",
							"({ name, type, inner }) =>",
							"toJSON()",
							"TypedefDecl",
							"constructor(node, ast, ns)",
							"n =>",
							" (v, k) =>",
							"n =>",
							"n =>",
							"n =>",
							"get size()",
							"toJSON()",
							"FieldDecl",
							"constructor(node, ast)",
							"FunctionDecl",
							"constructor(node, ast, ns)",
							"child =>",
							"child =>",
							"({ name, type }) =>",
							"isMethod()",
							"toJSON()",
							"VarDecl",
							"constructor(node, ast)",
							"toJSON()",
							"ClassDecl",
							"constructor(node, ast)",
							"BuiltinType",
							"constructor(node, ast)",
							"ConstantArrayType",
							"constructor(node, ast)",
							"toJSON()",
							"Range",
							"constructor(begin, end)",
							"get begin()",
							"set begin(v)",
							"get end()",
							"set end(v)",
							"toString(opts = { printFile: true })",
							"get length()",
							"toArray()",
							"toObject()",
							"Range",
							"Location",
							"static at(file, offset)",
							"static from(loc)",
							"constructor(loc)",
							"update(other)",
							"get line()",
							"set line(v)",
							"get column()",
							"set column(v)",
							"get offset()",
							"set offset(v)",
							" (t, ...c) =>",
							"'\\x1b[m' : t =>",
							"toString(opts = { printFile: true, onlyOffset: false })",
							"toObject()",
							"localeCompare(other)",
							" function TypeFactory(node, ast, cache = true)",
							"async function SpawnCompiler(compiler, input, outfile, args = [])",
							"p =>",
							"p =>",
							"line =>",
							"line =>",
							"line =>",
							" function PipeReader(fd, callback)",
							"(resolve, reject) =>",
							" () =>",
							" data =>",
							" function ReadPipe(fd, callback)",
							" function ReadOutput(fd)",
							"async function SourceDependencies(...args)",
							"async function AstDump(compiler, source, args, force)",
							"size()",
							"json()",
							"data()",
							"SetFile = loc =>",
							"files()",
							"n =>",
							"file =>",
							"pred2 = (used, implicit) =>",
							" node =>",
							"types()",
							" n =>",
							" () =>",
							"List",
							"functions()",
							" n =>",
							" () =>",
							" n =>",
							"List",
							"namespaces()",
							" n =>",
							"List",
							"classes()",
							"predicate = n =>",
							"List",
							"variables()",
							"n =>",
							"List",
							"names(depth = 1)",
							"n =>",
							"n =>",
							" function NameFor(decl, ast = globalThis['$']?.data)",
							" (value, key) =>",
							" function NodeType(n)",
							"t =>",
							" n =>",
							" function NodeName(n, name)",
							" function* RawLocation(path)",
							" function* RawRange(path)",
							" function CompleteLocation(path)",
							"l =>",
							" function CompleteRange(path)",
							"l =>",
							" function GetLoc(node)",
							" function GetTypeNode(node, ast = globalThis['$'].data)",
							"node =>",
							"node =>",
							" function GetTypeStr(node)",
							"inner =>",
							"inner =>",
							"([n, t]) =>",
							"NodeError",
							"constructor(message, node)",
							"NodeError",
							" function NodePrinter(ast)",
							" function put(str)",
							" function trim()",
							"printer = function(node)",
							"get()",
							"value()",
							"value(node)",
							"toString()",
							"i =>",
							"NodePrinter",
							"AbiTagAttr(abi_tag_attr)",
							"AccessSpecDecl(access_spec_decl)",
							"AlignedAttr(aligned_attr)",
							"AlwaysInlineAttr(always_inline_attr)",
							"ArraySubscriptExpr(array_subscript_expr)",
							"AsmLabelAttr(asm_label_attr)",
							"BinaryOperator(binary_operator)",
							"BlockCommandComment(block_command_comment)",
							"BuiltinAttr(builtin_attr)",
							"BreakStmt(break_stmt)",
							"CallExpr(call_expr)",
							"RecoveryExpr(recovery_expr)",
							"CaseStmt(case_stmt)",
							"CharacterLiteral(character_literal)",
							"CompoundAssignOperator(compound_assign_operator)",
							"CompoundStmt(compound_stmt)",
							"ConditionalOperator(conditional_operator)",
							"ConstantExpr(constant_expr)",
							"ConstAttr(const_attr)",
							"ContinueStmt(continue_stmt)",
							"CStyleCastExpr(cstyle_cast_expr)",
							"DeclRefExpr(decl_ref_expr)",
							"DeclStmt(decl_stmt)",
							"DefaultStmt(default_stmt)",
							"DeprecatedAttr(deprecated_attr)",
							"DoStmt(do_stmt)",
							"EmptyDecl(empty_decl)",
							"EnumConstantDecl(enum_constant_decl)",
							"EnumDecl(enum_decl)",
							"FieldDecl(field_decl)",
							"FloatingLiteral(floating_literal)",
							"FormatAttr(format_attr)",
							"ForStmt(for_stmt)",
							"n =>",
							"FullComment(full_comment)",
							"FunctionDecl(function_decl)",
							"n =>",
							" n =>",
							"GotoStmt(goto_stmt)",
							" n =>",
							"HTMLEndTagComment(html_end_tag_comment)",
							"HTMLStartTagComment(html_start_tag_comment)",
							"IfStmt(if_stmt)",
							"ImplicitCastExpr(implicit_cast_expr)",
							"InitListExpr(init_list_expr)",
							"InlineCommandComment(inline_command_comment)",
							"IntegerLiteral(integer_literal)",
							"LabelStmt(label_stmt)",
							"MemberExpr(member_expr)",
							"NonNullAttr(non_null_attr)",
							"NoThrowAttr(no_throw_attr)",
							"NullStmt(null_stmt)",
							"ParagraphComment(paragraph_comment)",
							"ParamCommandComment(param_command_comment)",
							"ParenExpr(paren_expr)",
							"ParenListExpr(paren_list_expr)",
							"ParmVarDecl(parm_var_decl)",
							"PureAttr(pure_attr)",
							"RecordDecl(record_decl)",
							"RestrictAttr(restrict_attr)",
							"ReturnStmt(return_stmt)",
							"ReturnsTwiceAttr(returns_twice_attr)",
							"StringLiteral(string_literal)",
							"SwitchStmt(switch_stmt)",
							"TextComment(text_comment)",
							"TranslationUnitDecl(translation_unit_decl)",
							"TypedefDecl(typedef_decl)",
							"UnaryExprOrTypeTraitExpr(unary_expr_or_type_trait_expr)",
							"UnaryOperator(unary_operator)",
							"UnresolvedLookupExpr(unresolved_lookup_expr)",
							"UnresolvedMemberExpr(unresolved_member_expr)",
							"VarDecl(var_decl, base_type)",
							"([offset, subscript]) =>",
							"VerbatimBlockComment(verbatim_block_comment)",
							"VerbatimBlockLineComment(verbatim_block_line_comment)",
							"WarnUnusedResultAttr(warn_unused_result_attr)",
							"WeakAttr(weak_attr)",
							"WhileStmt(while_stmt)",
							"OverrideAttr(override_attr)",
							"AddrLabelExpr(addr_label_expr)",
							"AliasAttr(alias_attr)",
							"AlignValueAttr(align_value_attr)",
							"AllocSizeAttr(alloc_size_attr)",
							"ArrayInitIndexExpr(array_init_index_expr)",
							"ArrayInitLoopExpr(array_init_loop_expr)",
							"AtomicExpr(atomic_expr)",
							"AtomicType(atomic_type)",
							"AutoType(auto_type)",
							"BuiltinTemplateDecl(builtin_template_decl)",
							"BuiltinType(builtin_type)",
							"CallbackAttr(callback_attr)",
							"ClassTemplateDecl(class_template_decl)",
							"ClassTemplatePartialSpecializationDecl(class_template_partial_specialization_decl)",
							"ClassTemplateSpecializationDecl(class_template_specialization_decl)",
							"ComplexType(complex_type)",
							"CompoundLiteralExpr(compound_literal_expr)",
							"ConstantArrayType(constant_array_type)",
							"ConstructorUsingShadowDecl(constructor_using_shadow_decl)",
							"ConvertVectorExpr(convert_vector_expr)",
							"DecayedType(decayed_type)",
							"DecltypeType(decltype_type)",
							"DependentNameType(dependent_name_type)",
							"DependentScopeDeclRefExpr(dependent_scope_decl_ref_expr)",
							"DependentSizedArrayType(dependent_sized_array_type)",
							"DependentTemplateSpecializationType(dependent_template_specialization_type)",
							"ElaboratedType(elaborated_type)",
							"EnumType(enum_type)",
							"ExprWithCleanups(expr_with_cleanups)",
							"FinalAttr(final_attr)",
							"FormatArgAttr(format_arg_attr)",
							"FriendDecl(friend_decl)",
							"FunctionNoProtoType(function_no_proto_type)",
							"FunctionProtoType(function_proto_type)",
							"FunctionTemplateDecl(function_template_decl)",
							"GCCAsmStmt(gcc_asm_stmt)",
							"GNUInlineAttr(gnu_inline_attr)",
							"GNUNullExpr(gnu_null_expr)",
							"ImplicitValueInitExpr(implicit_value_init_expr)",
							"IncompleteArrayType(incomplete_array_type)",
							"IndirectFieldDecl(indirect_field_decl)",
							"IndirectGotoStmt(indirect_goto_stmt)",
							"InjectedClassNameType(injected_class_name_type)",
							"LambdaExpr(lambda_expr)",
							"LinkageSpecDecl(linkage_spec_decl)",
							"LValueReferenceType(l_value_reference_type)",
							"MaterializeTemporaryExpr(materialize_temporary_expr)",
							"MaxFieldAlignmentAttr(max_field_alignment_attr)",
							"MayAliasAttr(may_alias_attr)",
							"MemberPointerType(member_pointer_type)",
							"MinVectorWidthAttr(min_vector_width_attr)",
							"ModeAttr(mode_attr)",
							"NamespaceDecl(namespace_decl)",
							"NoDebugAttr(no_debug_attr)",
							"NoInlineAttr(no_inline_attr)",
							"NonTypeTemplateParmDecl(non_type_template_parm_decl)",
							"OffsetOfExpr(offset_of_expr)",
							"OpaqueValueExpr(opaque_value_expr)",
							"OwnerAttr(owner_attr)",
							"PackedAttr(packed_attr)",
							"PackExpansionExpr(pack_expansion_expr)",
							"PackExpansionType(pack_expansion_type)",
							"ParenType(paren_type)",
							"PointerAttr(pointer_attr)",
							"PointerType(pointer_type)",
							"PredefinedExpr(predefined_expr)",
							"QualType(qual_type)",
							"RecordType(record_type)",
							"ReturnsNonNullAttr(returns_non_null_attr)",
							"RValueReferenceType(r_value_reference_type)",
							"SentinelAttr(sentinel_attr)",
							"ShuffleVectorExpr(shuffle_vector_expr)",
							"SizeOfPackExpr(size_of_pack_expr)",
							"StaticAssertDecl(static_assert_decl)",
							"StmtExpr(stmt_expr)",
							"SubstNonTypeTemplateParmExpr(subst_non_type_template_parm_expr)",
							"SubstTemplateTypeParmType(subst_template_type_parm_type)",
							"TargetAttr(target_attr)",
							"TemplateArgument(template_argument)",
							"TemplateSpecializationType(template_specialization_type)",
							"TemplateTemplateParmDecl(template_template_parm_decl)",
							"TemplateTypeParmDecl(template_type_parm_decl)",
							"TemplateTypeParmType(template_type_parm_type)",
							"TParamCommandComment(t_param_command_comment)",
							"TypeAliasDecl(type_alias_decl)",
							"TypeAliasTemplateDecl(type_alias_template_decl)",
							"TypedefType(typedef_type)",
							"TypeOfExprType(type_of_expr_type)",
							"TypeTraitExpr(type_trait_expr)",
							"UnaryTransformType(unary_transform_type)",
							"UnresolvedUsingValueDecl(unresolved_using_value_decl)",
							"UnusedAttr(unused_attr)",
							"UsingDecl(using_decl)",
							"UsingDirectiveDecl(using_directive_decl)",
							"UsingShadowDecl(using_shadow_decl)",
							"VAArgExpr(va_arg_expr)",
							"VarTemplateDecl(var_template_decl)",
							"VectorType(vector_type)",
							"VerbatimLineComment(verbatim_line_comment)",
							"VisibilityAttr(visibility_attr)",
							"WeakRefAttr(weak_ref_attr)",
							"CXXRecordDecl(cxx_record_decl)",
							"CXXConstructorDecl(cxx_constructor_decl)",
							"n =>",
							"CXXCtorInitializer(cxx_ctor_initializer)",
							"CXXDependentScopeMemberExpr(cxx_dependent_scope_member_expr)",
							"CXXThisExpr(cxx_this_expr)",
							"CXXDestructorDecl(cxx_destructor_decl)",
							"n =>",
							"CXXMethodDecl(cxx_method_decl)",
							"n =>",
							"CXXStaticCastExpr(cxx_static_cast_expr)",
							"CXXUnresolvedConstructExpr(cxx_unresolved_construct_expr)",
							"CXXNewExpr(cxx_new_expr)",
							"CXXDeleteExpr(cxx_delete_expr)",
							"CXXBoolLiteralExpr(cxx_bool_literal_expr)",
							"CXX11NoReturnAttr(cxx11_no_return_attr)",
							"CXXBindTemporaryExpr(cxx_bind_temporary_expr)",
							"CXXCatchStmt(cxx_catch_stmt)",
							"CXXConstructExpr(cxx_construct_expr)",
							"CXXConversionDecl(cxx_conversion_decl)",
							"CXXDefaultArgExpr(cxx_default_arg_expr)",
							"CXXDefaultInitExpr(cxx_default_init_expr)",
							"CXXForRangeStmt(cxx_for_range_stmt)",
							"CXXFunctionalCastExpr(cxx_functional_cast_expr)",
							"CXXMemberCallExpr(cxx_member_call_expr)",
							"CXXNoexceptExpr(cxx_noexcept_expr)",
							"CXXNullPtrLiteralExpr(cxx_null_ptr_literal_expr)",
							"CXXOperatorCallExpr(cxx_operator_call_expr)",
							"CXXReinterpretCastExpr(cxx_reinterpret_cast_expr)",
							"CXXScalarValueInitExpr(cxx_scalar_value_init_expr)",
							"CXXTemporaryObjectExpr(cxx_temporary_object_expr)",
							"CXXTryStmt(cxx_try_stmt)",
							" function PrintNode(node)",
							" function PrintAst(node, ast)",
							"get()",
							" function isNode(obj)",
							" function GetType(name_or_id, ast = globalThis['$']?.data)",
							"n =>",
							" node =>",
							" node =>",
							"r =>",
							" function GetClass(name_or_id, ast = globalThis['$'].data)",
							" n =>",
							"bases()",
							" function* GetBases(node, ast = globalThis['$'].data)",
							" function GetByName(arg, ast = globalThis['$'].data, predicate = () => true)",
							" n =>",
							" function GetNamespace(arg, root = globalThis['$'].data, predicate = () => true)",
							" n =>",
							" function NamespaceOf(node, ast = globalThis['$'].data)",
							"toString()",
							" function GetFields(node)",
							" (v, k) =>",
							" ([v, p]) =>",
							"([loc, ptr]) =>",
							"i =>",
							" function GetParams(node)",
							"child =>",
							" function PathRemoveLoc(path)",
							"p =>"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAACNDQAAICBkID0+CiAgZCA9PgogIHRyYWNlUHJveHkgPSAob2JqLCBoYW5kbGVyKSA9PgpmdW5jdGlvbihuYW1lLCBhcmdzKQogIGdldCh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpCiAgbWVtYmVyID0gZnVuY3Rpb24oKQpDb25jYXRJdGVyYXRvciA9IGl0ZXJhdG9yID0+CmdlbiA9PgooLi4uYXJncykgPT4KICB0b1N0cmluZygpCkltcG9ydE1vZHVsZShtb2R1bGVQYXRoLCAuLi5hcmdzKQogIG1vZHVsZSA9PgooYWNjLCBpdGVtKSA9PgpDb21tYW5kTGluZSgpCiguLi5hcmdzKSA9PgooLi4uYXJncykgPT4KKG1vZHVsZSwgLi4uYXJncykgPT4KICBtID0+CiAgLnNob3cgPSB2YWx1ZSA9PgogIC5wcmludE5vZGUgPSBhcmcgPT4KKCkgPT4KKGl0ZW0sIGksIGEpID0+CiAgZW50cnkgPT4KICBlbnRyeSA9PgpJbmNsdWRlQWxsKGRpciwgbWF4RGVwdGggPSBJbmZpbml0eSwgcHJlZCA9IGVudHJ5ID0+IC9cLltjaF0kLy4KKGVudHJ5KSkKU2VsZWN0TG9jYXRpb25zKG5vZGUpCm4gPT4KICBwcm9wID0+CkxvY2F0aW9uU3RyaW5nKGxvYykKICBub2RlID0+ClN0cnVjdHMobm9kZXMpCiAgbm9kZSA9PgogIGZpZWxkID0+CiAgbm9kZSA9PgooZmllbGQsIGkpID0+ClRhYmxlKGxpc3QsIHByZWQgPSAobiwgbCkgPT4gdHJ1ZSkKKG4sIGkpID0+CiAgZSA9PgogIGsgPT4KKFtpLCBsLCBuXSkgPT4KICByZXR1cm5UeXBlKG4pCiAgbnVtQXJncyhuKQpQYXJhbXMobikKICBwID0+CiAgayA9PgooW2ksIGwsIG5dKSA9PgooaywgaikgPT4KKGFjYywgbmFtZSkgPT4KICBwYWRUcnVuYyhsZW4sIHBhZCA9ICcgJykKcyA9PgoobmFtZSwgaSkgPT4KICBwYWQgPSAoY29scywgcGFkLCBzZXApID0+CihrZXksIGkpID0+CihzLCBjb2wpID0+CihhY2MsIG4pID0+CihhY2MsIHJvdykgPT4KUHJpbnRSYW5nZShyYW5nZSwgZmlsZSkKT3ZlcmxhcFJhbmdlKHIxLCByMikKR2V0UmFuZ2UgPSByID0+CkluUmFuZ2UgPSAoaSwgcikgPT4KUGFyZW50Tm9kZShub2RlLCBhc3QgPSAkLmRhdGEpCk5leHRTaWJsaW5nKG5vZGUsIGFzdCA9ICQuZGF0YSkKUHJldmlvdXNTaWJsaW5nKG5vZGUsIGFzdCA9ICQuZGF0YSkKRmlyc3RDaGlsZChub2RlLCBhc3QgPSAkLmRhdGEpCkxhc3RDaGlsZChub2RlLCBhc3QgPSAkLmRhdGEpClRlcm1pbmF0ZShleGl0Q29kZSkKUGFyc2VTdHJ1Y3RzKHRleHQpCihkZWNsLCBpbmNsdWRlcykKICBuYW1lID0+Ckluc3BlY3RTdHJ1Y3QoZGVjbCwgaW5jbHVkZXMsIGNvbXBpbGVyID0gJ2NsYW5nJykKICBsaW5lID0+CiAgbGluZSA9PgooY29sLCBpKSA9PgooW2ZpZWxkLCBvZmZzZXQsIHNpemVdKSA9PgooYWNjLCBsaW5lKSA9PgogIHRvU3RyaW5nKHNlcCA9ICcgJykKICBsaW5lID0+ClJvdW5kVG8odmFsdWUsIGFsaWduKQpNYWtlU3RydWN0Q2xhc3MoZGVjbCwgZmlsZW5hbWUpCkdlbmVyYXRlU3RydWN0Q2xhc3MoZGVjbCwgZmZpUHJlZml4ID0gJycpCiAgbGluZSA9PgooW2ZpZWxkLCBtZW1iZXJdKSA9PgpHZW5lcmF0ZUdldFNldChuYW1lLCBvZmZzZXQsIHR5cGUsIGZmaVByZWZpeCkKICB0b0hleCA9IHYgPT4KICB0b0hleCA9IHYgPT4KQnl0ZUxlbmd0aDJUeXBlZEFycmF5KGJ5dGVMZW5ndGgsIHNpZ25lZCwgZmxvYXRpbmcpCkJ5dGVMZW5ndGgyVmFsdWUoYnl0ZUxlbmd0aCwgc2lnbmVkLCBmbG9hdGluZykKRkZJX0Z1bmN0aW9uCiAgY29uc3RydWN0b3Iobm9kZSwgcHJlZml4ID0gJycpCihbbmFtZSwgdHlwZV0sIGlkeCkgPT4KICBnZW5lcmF0ZURlZmluZShmcCwgbGliKQoobmFtZSwgbGliKSA9PgogIGNvbG9yVGV4dCA9IHggPT4KICBnZW5lcmF0ZURvYygpCiAgcHVzaCA9ICguLi5hcmdzKSA9PgogIGZpZWxkID0+CihmaWVsZCwgY29sKSA9PgogIGpzID0gdHlwZSA9PgogIGdlbmVyYXRlQ2FsbCgpCihbbmFtZSwgdHlwZV0pID0+CiAgZ2VuZXJhdGUoZnAsIGxpYiwgZXhwKQogIGdlbmVyYXRlRnVuY3Rpb24oZnAsIGxpYikKKFtuYW1lLCB0eXBlXSkgPT4KICBwID0+CiAgcCA9PgogIGNvbXBpbGVGdW5jdGlvbihmcCwgbGliKQpGZFJlYWRlcihmZCwgYnVmZmVyU2l6ZSA9IDEwMjQpCihwdXNoLCBzdG9wKSA9PgpDb21tYW5kUmVhZChhcmdzKQogIHJlYWRlciA9PgpSZWFkT3V0cHV0KGZkKQpMaWJyYXJ5RXhwb3J0cyhmaWxlKQogIGxpbmUgPT4KICBsaW5lID0+CiAgY29sdW1uID0+CihhLCBiKSA9PgogIGVudHJ5ID0+ClNhdmVMaWJyYXJpZXMoKQooYWNjLCBbbiwgZV0pID0+ClByb2Nlc3NGaWxlKGZpbGUsIGRlYnVnID0gdHJ1ZSkKUGFyc2VFQ01BU2NyaXB0KGZpbGUsIHBhcmFtcyA9IHt9KQooZnIsIGkpID0+ClByaW50RUNNQVNjcmlwdChhc3QsIGNvbW1lbnRzLCBwcmludGVyID0gCih7IGluZGVudDogNCB9LCBjb21tZW50cykpClByaW50Q0FycmF5KHN0cmluZ3MpCk5hbWVzcGFjZXMobm9kZVBhdGgsIGFzdCA9ICQuZGF0YSkKICBnZXQgPSBwID0+CiAgcCA9PgogIG4gPT4KQ29uc3RhbnRzKG5vZGUsIHQgPSAobmFtZSwgdmFsdWUpID0+IFtuYW1lLCAhaXNOYU4oK3ZhbHVlKSA/ICt2YWx1ZSA6IHZhbHVlXSkKR2V0SW1wb3J0cyhhc3QgPSAkLmRhdGEpCm4gPT4KR2V0SWRlbnRpZmllcnMobm9kZXMsIGtleSA9IG51bGwpCihuLCBrKSA9PgpNZW1iZXJOYW1lcyhtZW1iZXJzLCBmbGFncyA9IDApCm4gPT4KcGF0aCA9PgogIHAgPT4KICBwID0+CiAgbmFtZSA9PgpuID0+Cihbbm9kZSwgcHRyXSkgPT4KICBwYXRoID0+CiAgcCA9PgogIG5hbWUgPT4KICBuYW1lID0+ClVuc2V0TG9jKG5vZGUsIHByZWQgPSAodiwgcCkgPT4gdHJ1ZSkKKHYsIGspID0+Ck1ha2VGRkkobm9kZSwgbGliLCBleHAsIGZwKQooKQpNYWtlSWQobmFtZSkKTWFrZVF1aWNrSlNDbGFzcyhub2RlLCBhc3QgPSAkKQooY25hbWUsIHZuYW1lID0gJ3B0cicpID0+CihjbmFtZSwgdm5hbWUgPSAncHRyJykgPT4KbiA9PgpuID0+Cm4gPT4KbiA9PgogIG4gPT4KICBuID0+CiAgdG9fanN0eXBlID0gdHlwZSA9PgpBU1RTaGVsbCguLi5hcmdzKQooYSwgcCkgPT4KKGEsIHApID0+CihhLCBwKSA9PgogIGdldCBmbGFncygpCiAgdiA9PgogIHYgPT4KICBkID0+CiAgbCA9PgpDb21waWxlKGZpbGUsIC4uLmFyZ3MpCiAgc2VsZWN0KG5hbWVfb3JfaWQsIHByZWQgPSBuID0+IHRydWUsIC4uLmFyZ3MpCiAgZ2V0QnlJZE9yTmFtZShuYW1lX29yX2lkLCAuLi5hcmdzKQogIGdldFR5cGUobmFtZV9vcl9pZCkKbiA9PgogIHByZWRpY2F0ZSA9ICgpID0+CiAgbmFtZXNwYWNlT2Yobm9kZSkKICBnZXRDbGFzcyhuYW1lX29yX2lkKQogIGdldEZ1bmN0aW9uKG5hbWVfb3JfaWQpCm4gPT4KICBnZXRWYXJpYWJsZShuYW1lX29yX2lkKQpuID0+CiAgZ2V0TG9jKG5vZGUpCigpID0+CiAgcGF0aE9mKG5lZWRsZSwgbWF4RGVwdGggPSAxMCkKbiA9PgpQb2ludGVyLnByb3RvdHlwZS5jaGFpbiA9IGZ1bmN0aW9uKHN0ZXAsIGxpbWl0ID0gSW5maW5pdHkpCiAgLkYgPSBhcmcgPT4KICAuVCA9IGFyZyA9PgooKSA9Pgpub2RlID0+CiAgcyA9PgpmciA9PgAAAAAAAAAASi0AAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					4,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/clang-list.js",
						"symkeys":
						[
							[
								341,
								365
							],
							[
								529,
								535
							],
							[
								580,
								597
							],
							[
								708,
								736
							],
							[
								922,
								932
							],
							[
								982,
								992
							],
							[
								1971,
								1975
							],
							[
								2022,
								2026
							],
							[
								2124,
								2161
							],
							[
								2446,
								2490
							],
							[
								2498,
								2540
							],
							[
								2580,
								2587
							],
							[
								2631,
								2638
							],
							[
								3049,
								3060
							],
							[
								3107,
								3112
							],
							[
								3122,
								3127
							],
							[
								3140,
								3151
							],
							[
								3181,
								3186
							],
							[
								3199,
								3210
							],
							[
								3368,
								3374
							],
							[
								3793,
								3810
							],
							[
								3980,
								3990
							],
							[
								4287,
								4297
							],
							[
								4854,
								4859
							],
							[
								5002,
								5042
							],
							[
								5094,
								5127
							],
							[
								5312,
								5330
							],
							[
								5376,
								5392
							],
							[
								5408,
								5425
							],
							[
								5452,
								5475
							],
							[
								5491,
								5513
							],
							[
								5613,
								5624
							],
							[
								5747,
								5756
							],
							[
								5826,
								5837
							],
							[
								6055,
								6063
							],
							[
								6093,
								6101
							],
							[
								6120,
								6124
							],
							[
								6291,
								6302
							],
							[
								6357,
								6368
							],
							[
								6400,
								6409
							],
							[
								6559,
								6570
							],
							[
								6621,
								6635
							],
							[
								6774,
								6778
							],
							[
								7048,
								7087
							],
							[
								7181,
								7194
							],
							[
								7712,
								7744
							],
							[
								7908,
								7942
							]
						],
						"symlist":
						[
							"findLastIndex(predicate)",
							"tail()",
							"startsWith(start)",
							"async function main(...args)",
							" (a, p) =>",
							" (a, p) =>",
							"d =>",
							"v =>",
							"async function processFiles(...files)",
							"async function ReadAST(outfile, load = f => ",
							"(f), save = WriteFile, parse = JSON.parse)",
							"name =>",
							"stat =>",
							"async () =>",
							" a =>",
							"() =>",
							"async () =>",
							"() =>",
							"async () =>",
							"err =>",
							" (v, p) =>",
							"toString()",
							"toString()",
							" v =>",
							" function ListNodes(sysinc = false)",
							"NoSystemIncludes = ([p, n, l]) =>",
							" ([path, decl]) =>",
							"names = decls =>",
							"([path, decl]) =>",
							"declarations = decls =>",
							"([path, decl, loc]) =>",
							"([p, n]) =>",
							"(a, b) =>",
							"([p, n]) =>",
							"([p]) =>",
							"([p]) =>",
							"p =>",
							"([p, n]) =>",
							"([p, n]) =>",
							"(a, b) =>",
							"([p, n]) =>",
							"([p, n, l]) =>",
							"k =>",
							"([path, node, id, name, type, kind]) =>",
							"(field, i) =>",
							"function writeOutput(name, data)",
							"function GetLibraryFor(symbolName)"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABKLQAAKGFzdCwgcikgPT4KRGVlcEZpbmQoYXN0LCBwcmVkLCBmbGFncyA9IGRlZXAuUkVUVVJOX1ZBTFVFKQpEZWVwU2VsZWN0KGFzdCwgcHJlZCwgZmxhZ3MgPSBkZWVwLlJFVFVSTl9WQUxVRSkKRGVlcENhY2hlUGF0aChhc3QsIHBhdGgsIG0gPSAKKGFzdCkpCkRlZXBQYXRoT2YoYXN0LCB2YWx1ZSkKRGVlcEdldChhc3QsIHBhdGgsIC4uLmFyZ3MpCkZpbGVUaW1lKGZpbGVuYW1lKQpOZXdlcihmaWxlLCAuLi5vdGhlcikKICBvdGhlciA9PgpPbGRlcihmaWxlLCBvdGhlcikKR2V0U3Vic2NyaXB0cyhzdHIpCiAgbSA9PgpUcmltU3Vic2NyaXB0cyhzdHIsIHN1YikKICBuYW1lT3JJZFByZWQobmFtZV9vcl9pZCwgLi4uYXJncykKbm9kZSA9PgpMaXN0CiAgY29uc3RydWN0b3IoLi4uYXJncykKICBmaWx0ZXIoY2FsbGJhY2ssIHRoaXNBcmcgPSBudWxsKQogIGNhbGxiYWNrID0gZWxlbSA9PgogIHNsaWNlKHN0YXJ0LCBlbmQpCiAgZ2V0IGZpcnN0KCkKICBlbGVtID0+CiAgZW50cmllcygpCiAga2V5cygpCiAgdmFsdWVzKCkKICB0b0FycmF5KCkKKGEsIG4pID0+Ckxpc3QKTm9kZQogIGNvbnN0cnVjdG9yKGFzdCkKICBzdGF0aWMgZ2V0KGFzdCkKICBnZXQgYXN0KCkKICBnZXQgaWQoKQogIGdldCBsb2MoKQogIGdldCBmaWxlKCkKKHYsIGspID0+Cih2LCBrKSA9PgogIGdldCByYW5nZSgpCiAgciA9PgogIHRvSlNPTihvYmopCk5vZGUKKG5vZGUsIGFzdCkgPT4KUGF0aE9mKG5vZGUsIGFzdCA9IGdsb2JhbFRoaXNbJyQnXS5kYXRhKQpIaWVyKG5vZGVfb3JfcGF0aCwgdCA9IChwLCBhc3QsIGFib3J0KSA9PiBwLgooYXN0KSwgYXN0ID0gZ2xvYmFsVGhpc1snJCddLmRhdGEpCiAgcCA9PgogIGFib3J0Rm4gPSAoKSA9PgpGaW5kVHlwZSh0eXBlTmFtZSwgYXN0ID0gZ2xvYmFsVGhpc1snJCddLmRhdGEpCihbdG9rXSkgPT4KICBub2RlID0+ClBvaW50ZXJUeXBlCiAgY29uc3RydWN0b3IocG9pbnRlZSwgYXN0LCBucykKICBzdGF0aWMgZnJvbVN0cmluZyhzdHIsIGFzdCwgbnMpCiAgdG9TdHJpbmcoKQpSZWZlcmVuY2VUeXBlCiAgY29uc3RydWN0b3IocG9pbnRlZSwgYXN0LCBucykKICBzdGF0aWMgZnJvbVN0cmluZyhzdHIsIGFzdCwgbnMpCiAgdG9TdHJpbmcoKQpUeXBlCiAgY29uc3RydWN0b3Iobm9kZSwgYXN0LCBucykKICBuID0+CiAgZ2V0IHJlZ0V4cCgpCiAgaXNFbnVtKCkKICBpc1BvaW50ZXIoKQogIGlzUmVmZXJlbmNlKCkKICBpc0Z1bmN0aW9uKCkKICBpc0FycmF5KCkKICBpc0ludGVnZXIoKQogIGFycmF5T2YoKQogIGdldCBzdWJzY3JpcHRzKCkKICB0cmltU3Vic2NyaXB0cygpCiAgZ2V0IHBvaW50ZXIoKQogIGdldCByZWZlcmVuY2UoKQogIGdldFBvaW50ZXIoYXN0KQogIGdldCB1bnNpZ25lZCgpCiAgZ2V0IHNpZ25lZCgpCiAgaXNDb21wb3VuZCgpCiAgaXNGbG9hdGluZ1BvaW50KCkKICBnZXQgYWxpYXMoKQogIGdldCBhbGlhc2VzKCkKICBpc0VudW0oKQogIGlzU3RyaW5nKCkKICBnZXQgZmZpKCkKICBnZXQgc2l6ZSgpCiAgdG9KUygpCiAgdG9KU09OKG9iaikKICBzdGF0aWMgZ2V0KG5hbWVfb3JfaWQsIGFzdCA9IGdsb2JhbFRoaXNbJyQnXS5kYXRhKQpub2RlID0+Cm5vZGUgPT4KUm91bmRUbyh2YWx1ZSwgYWxpZ24pClJlY29yZERlY2wKICBjb25zdHJ1Y3Rvcihub2RlLCBhc3QsIG5zKQogIGNoaWxkID0+CiAgY2hpbGQgPT4KKCkgPT4KICBub2RlID0+CihhY2MsIG5vZGUpID0+CiAgaSA9PgpuID0+CiAgbiA9PgooW25hbWUsIHRdKSA9PgogIGdldCBzaXplKCkKKGFjYywgW25hbWUsIHR5cGVdKSA9PgogIHRvSlNPTigpCihbbmFtZSwgbWVtYmVyXSkgPT4KRW51bURlY2wKICBjb25zdHJ1Y3Rvcihub2RlLCBhc3QpCiAgY2hpbGQgPT4KKHsgbmFtZSwgdHlwZSwgaW5uZXIgfSkgPT4KICB0b0pTT04oKQpUeXBlZGVmRGVjbAogIGNvbnN0cnVjdG9yKG5vZGUsIGFzdCwgbnMpCiAgbiA9PgoodiwgaykgPT4KICBuID0+CiAgbiA9PgogIG4gPT4KICBnZXQgc2l6ZSgpCiAgdG9KU09OKCkKRmllbGREZWNsCiAgY29uc3RydWN0b3Iobm9kZSwgYXN0KQpGdW5jdGlvbkRlY2wKICBjb25zdHJ1Y3Rvcihub2RlLCBhc3QsIG5zKQogIGNoaWxkID0+CiAgY2hpbGQgPT4KKHsgbmFtZSwgdHlwZSB9KSA9PgogIGlzTWV0aG9kKCkKICB0b0pTT04oKQpWYXJEZWNsCiAgY29uc3RydWN0b3Iobm9kZSwgYXN0KQogIHRvSlNPTigpCkNsYXNzRGVjbAogIGNvbnN0cnVjdG9yKG5vZGUsIGFzdCkKQnVpbHRpblR5cGUKICBjb25zdHJ1Y3Rvcihub2RlLCBhc3QpCkNvbnN0YW50QXJyYXlUeXBlCiAgY29uc3RydWN0b3Iobm9kZSwgYXN0KQogIHRvSlNPTigpClJhbmdlCiAgY29uc3RydWN0b3IoYmVnaW4sIGVuZCkKICBnZXQgYmVnaW4oKQogIHNldCBiZWdpbih2KQogIGdldCBlbmQoKQogIHNldCBlbmQodikKICB0b1N0cmluZyhvcHRzID0geyBwcmludEZpbGU6IHRydWUgfSkKICBnZXQgbGVuZ3RoKCkKICB0b0FycmF5KCkKICB0b09iamVjdCgpClJhbmdlCkxvY2F0aW9uCiAgc3RhdGljIGF0KGZpbGUsIG9mZnNldCkKICBzdGF0aWMgZnJvbShsb2MpCiAgY29uc3RydWN0b3IobG9jKQogIHVwZGF0ZShvdGhlcikKICBnZXQgbGluZSgpCiAgc2V0IGxpbmUodikKICBnZXQgY29sdW1uKCkKICBzZXQgY29sdW1uKHYpCiAgZ2V0IG9mZnNldCgpCiAgc2V0IG9mZnNldCh2KQoodCwgLi4uYykgPT4KJ1x4MWJbbScgOiB0ID0+CiAgdG9TdHJpbmcob3B0cyA9IHsgcHJpbnRGaWxlOiB0cnVlLCBvbmx5T2Zmc2V0OiBmYWxzZSB9KQogIHRvT2JqZWN0KCkKICBsb2NhbGVDb21wYXJlKG90aGVyKQpUeXBlRmFjdG9yeShub2RlLCBhc3QsIGNhY2hlID0gdHJ1ZSkKU3Bhd25Db21waWxlcihjb21waWxlciwgaW5wdXQsIG91dGZpbGUsIGFyZ3MgPSBbXSkKICBwID0+CiAgcCA9PgogIGxpbmUgPT4KICBsaW5lID0+CiAgbGluZSA9PgpQaXBlUmVhZGVyKGZkLCBjYWxsYmFjaykKKHJlc29sdmUsIHJlamVjdCkgPT4KKCkgPT4KZGF0YSA9PgpSZWFkUGlwZShmZCwgY2FsbGJhY2spClJlYWRPdXRwdXQoZmQpClNvdXJjZURlcGVuZGVuY2llcyguLi5hcmdzKQpBc3REdW1wKGNvbXBpbGVyLCBzb3VyY2UsIGFyZ3MsIGZvcmNlKQogIHNpemUoKQogIGpzb24oKQogIGRhdGEoKQpTZXRGaWxlID0gbG9jID0+CiAgZmlsZXMoKQogIG4gPT4KICBmaWxlID0+CiAgcHJlZDIgPSAodXNlZCwgaW1wbGljaXQpID0+Cm5vZGUgPT4KICB0eXBlcygpCm4gPT4KKCkgPT4KTGlzdAogIGZ1bmN0aW9ucygpCm4gPT4KKCkgPT4KbiA9PgpMaXN0CiAgbmFtZXNwYWNlcygpCm4gPT4KTGlzdAogIGNsYXNzZXMoKQogIHByZWRpY2F0ZSA9IG4gPT4KTGlzdAogIHZhcmlhYmxlcygpCiAgbiA9PgpMaXN0CiAgbmFtZXMoZGVwdGggPSAxKQogIG4gPT4KICBuID0+Ck5hbWVGb3IoZGVjbCwgYXN0ID0gZ2xvYmFsVGhpc1snJCddPy5kYXRhKQoodmFsdWUsIGtleSkgPT4KTm9kZVR5cGUobikKICB0ID0+Cm4gPT4KTm9kZU5hbWUobiwgbmFtZSkKUmF3TG9jYXRpb24ocGF0aCkKUmF3UmFuZ2UocGF0aCkKQ29tcGxldGVMb2NhdGlvbihwYXRoKQogIGwgPT4KQ29tcGxldGVSYW5nZShwYXRoKQogIGwgPT4KR2V0TG9jKG5vZGUpCkdldFR5cGVOb2RlKG5vZGUsIGFzdCA9IGdsb2JhbFRoaXNbJyQnXS5kYXRhKQogIG5vZGUgPT4KICBub2RlID0+CkdldFR5cGVTdHIobm9kZSkKICBpbm5lciA9PgogIGlubmVyID0+CihbbiwgdF0pID0+Ck5vZGVFcnJvcgogIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIG5vZGUpCk5vZGVFcnJvcgpOb2RlUHJpbnRlcihhc3QpCiAgcHV0KHN0cikKICB0cmltKCkKICBwcmludGVyID0gZnVuY3Rpb24obm9kZSkKICBnZXQoKQogIHZhbHVlKCkKICB2YWx1ZShub2RlKQogIHRvU3RyaW5nKCkKICBpID0+Ck5vZGVQcmludGVyCkFiaVRhZ0F0dHIoYWJpX3RhZ19hdHRyKQpBY2Nlc3NTcGVjRGVjbChhY2Nlc3Nfc3BlY19kZWNsKQpBbGlnbmVkQXR0cihhbGlnbmVkX2F0dHIpCkFsd2F5c0lubGluZUF0dHIoYWx3YXlzX2lubGluZV9hdHRyKQpBcnJheVN1YnNjcmlwdEV4cHIoYXJyYXlfc3Vic2NyaXB0X2V4cHIpCkFzbUxhYmVsQXR0cihhc21fbGFiZWxfYXR0cikKQmluYXJ5T3BlcmF0b3IoYmluYXJ5X29wZXJhdG9yKQpCbG9ja0NvbW1hbmRDb21tZW50KGJsb2NrX2NvbW1hbmRfY29tbWVudCkKQnVpbHRpbkF0dHIoYnVpbHRpbl9hdHRyKQpCcmVha1N0bXQoYnJlYWtfc3RtdCkKQ2FsbEV4cHIoY2FsbF9leHByKQpSZWNvdmVyeUV4cHIocmVjb3ZlcnlfZXhwcikKQ2FzZVN0bXQoY2FzZV9zdG10KQpDaGFyYWN0ZXJMaXRlcmFsKGNoYXJhY3Rlcl9saXRlcmFsKQpDb21wb3VuZEFzc2lnbk9wZXJhdG9yKGNvbXBvdW5kX2Fzc2lnbl9vcGVyYXRvcikKQ29tcG91bmRTdG10KGNvbXBvdW5kX3N0bXQpCkNvbmRpdGlvbmFsT3BlcmF0b3IoY29uZGl0aW9uYWxfb3BlcmF0b3IpCkNvbnN0YW50RXhwcihjb25zdGFudF9leHByKQpDb25zdEF0dHIoY29uc3RfYXR0cikKQ29udGludWVTdG10KGNvbnRpbnVlX3N0bXQpCkNTdHlsZUNhc3RFeHByKGNzdHlsZV9jYXN0X2V4cHIpCkRlY2xSZWZFeHByKGRlY2xfcmVmX2V4cHIpCkRlY2xTdG10KGRlY2xfc3RtdCkKRGVmYXVsdFN0bXQoZGVmYXVsdF9zdG10KQpEZXByZWNhdGVkQXR0cihkZXByZWNhdGVkX2F0dHIpCkRvU3RtdChkb19zdG10KQpFbXB0eURlY2woZW1wdHlfZGVjbCkKRW51bUNvbnN0YW50RGVjbChlbnVtX2NvbnN0YW50X2RlY2wpCkVudW1EZWNsKGVudW1fZGVjbCkKRmllbGREZWNsKGZpZWxkX2RlY2wpCkZsb2F0aW5nTGl0ZXJhbChmbG9hdGluZ19saXRlcmFsKQpGb3JtYXRBdHRyKGZvcm1hdF9hdHRyKQpGb3JTdG10KGZvcl9zdG10KQogIG4gPT4KRnVsbENvbW1lbnQoZnVsbF9jb21tZW50KQpGdW5jdGlvbkRlY2woZnVuY3Rpb25fZGVjbCkKICBuID0+Cm4gPT4KR290b1N0bXQoZ290b19zdG10KQpuID0+CkhUTUxFbmRUYWdDb21tZW50KGh0bWxfZW5kX3RhZ19jb21tZW50KQpIVE1MU3RhcnRUYWdDb21tZW50KGh0bWxfc3RhcnRfdGFnX2NvbW1lbnQpCklmU3RtdChpZl9zdG10KQpJbXBsaWNpdENhc3RFeHByKGltcGxpY2l0X2Nhc3RfZXhwcikKSW5pdExpc3RFeHByKGluaXRfbGlzdF9leHByKQpJbmxpbmVDb21tYW5kQ29tbWVudChpbmxpbmVfY29tbWFuZF9jb21tZW50KQpJbnRlZ2VyTGl0ZXJhbChpbnRlZ2VyX2xpdGVyYWwpCkxhYmVsU3RtdChsYWJlbF9zdG10KQpNZW1iZXJFeHByKG1lbWJlcl9leHByKQpOb25OdWxsQXR0cihub25fbnVsbF9hdHRyKQpOb1Rocm93QXR0cihub190aHJvd19hdHRyKQpOdWxsU3RtdChudWxsX3N0bXQpClBhcmFncmFwaENvbW1lbnQocGFyYWdyYXBoX2NvbW1lbnQpClBhcmFtQ29tbWFuZENvbW1lbnQocGFyYW1fY29tbWFuZF9jb21tZW50KQpQYXJlbkV4cHIocGFyZW5fZXhwcikKUGFyZW5MaXN0RXhwcihwYXJlbl9saXN0X2V4cHIpClBhcm1WYXJEZWNsKHBhcm1fdmFyX2RlY2wpClB1cmVBdHRyKHB1cmVfYXR0cikKUmVjb3JkRGVjbChyZWNvcmRfZGVjbCkKUmVzdHJpY3RBdHRyKHJlc3RyaWN0X2F0dHIpClJldHVyblN0bXQocmV0dXJuX3N0bXQpClJldHVybnNUd2ljZUF0dHIocmV0dXJuc190d2ljZV9hdHRyKQpTdHJpbmdMaXRlcmFsKHN0cmluZ19saXRlcmFsKQpTd2l0Y2hTdG10KHN3aXRjaF9zdG10KQpUZXh0Q29tbWVudCh0ZXh0X2NvbW1lbnQpClRyYW5zbGF0aW9uVW5pdERlY2wodHJhbnNsYXRpb25fdW5pdF9kZWNsKQpUeXBlZGVmRGVjbCh0eXBlZGVmX2RlY2wpClVuYXJ5RXhwck9yVHlwZVRyYWl0RXhwcih1bmFyeV9leHByX29yX3R5cGVfdHJhaXRfZXhwcikKVW5hcnlPcGVyYXRvcih1bmFyeV9vcGVyYXRvcikKVW5yZXNvbHZlZExvb2t1cEV4cHIodW5yZXNvbHZlZF9sb29rdXBfZXhwcikKVW5yZXNvbHZlZE1lbWJlckV4cHIodW5yZXNvbHZlZF9tZW1iZXJfZXhwcikKVmFyRGVjbCh2YXJfZGVjbCwgYmFzZV90eXBlKQooW29mZnNldCwgc3Vic2NyaXB0XSkgPT4KVmVyYmF0aW1CbG9ja0NvbW1lbnQodmVyYmF0aW1fYmxvY2tfY29tbWVudCkKVmVyYmF0aW1CbG9ja0xpbmVDb21tZW50KHZlcmJhdGltX2Jsb2NrX2xpbmVfY29tbWVudCkKV2FyblVudXNlZFJlc3VsdEF0dHIod2Fybl91bnVzZWRfcmVzdWx0X2F0dHIpCldlYWtBdHRyKHdlYWtfYXR0cikKV2hpbGVTdG10KHdoaWxlX3N0bXQpCk92ZXJyaWRlQXR0cihvdmVycmlkZV9hdHRyKQpBZGRyTGFiZWxFeHByKGFkZHJfbGFiZWxfZXhwcikKQWxpYXNBdHRyKGFsaWFzX2F0dHIpCkFsaWduVmFsdWVBdHRyKGFsaWduX3ZhbHVlX2F0dHIpCkFsbG9jU2l6ZUF0dHIoYWxsb2Nfc2l6ZV9hdHRyKQpBcnJheUluaXRJbmRleEV4cHIoYXJyYXlfaW5pdF9pbmRleF9leHByKQpBcnJheUluaXRMb29wRXhwcihhcnJheV9pbml0X2xvb3BfZXhwcikKQXRvbWljRXhwcihhdG9taWNfZXhwcikKQXRvbWljVHlwZShhdG9taWNfdHlwZSkKQXV0b1R5cGUoYXV0b190eXBlKQpCdWlsdGluVGVtcGxhdGVEZWNsKGJ1aWx0aW5fdGVtcGxhdGVfZGVjbCkKQnVpbHRpblR5cGUoYnVpbHRpbl90eXBlKQpDYWxsYmFja0F0dHIoY2FsbGJhY2tfYXR0cikKQ2xhc3NUZW1wbGF0ZURlY2woY2xhc3NfdGVtcGxhdGVfZGVjbCkKQ2xhc3NUZW1wbGF0ZVBhcnRpYWxTcGVjaWFsaXphdGlvbkRlY2woY2xhc3NfdGVtcGxhdGVfcGFydGlhbF9zcGVjaWFsaXphdGlvbl9kZWNsKQpDbGFzc1RlbXBsYXRlU3BlY2lhbGl6YXRpb25EZWNsKGNsYXNzX3RlbXBsYXRlX3NwZWNpYWxpemF0aW9uX2RlY2wpCkNvbXBsZXhUeXBlKGNvbXBsZXhfdHlwZSkKQ29tcG91bmRMaXRlcmFsRXhwcihjb21wb3VuZF9saXRlcmFsX2V4cHIpCkNvbnN0YW50QXJyYXlUeXBlKGNvbnN0YW50X2FycmF5X3R5cGUpCkNvbnN0cnVjdG9yVXNpbmdTaGFkb3dEZWNsKGNvbnN0cnVjdG9yX3VzaW5nX3NoYWRvd19kZWNsKQpDb252ZXJ0VmVjdG9yRXhwcihjb252ZXJ0X3ZlY3Rvcl9leHByKQpEZWNheWVkVHlwZShkZWNheWVkX3R5cGUpCkRlY2x0eXBlVHlwZShkZWNsdHlwZV90eXBlKQpEZXBlbmRlbnROYW1lVHlwZShkZXBlbmRlbnRfbmFtZV90eXBlKQpEZXBlbmRlbnRTY29wZURlY2xSZWZFeHByKGRlcGVuZGVudF9zY29wZV9kZWNsX3JlZl9leHByKQpEZXBlbmRlbnRTaXplZEFycmF5VHlwZShkZXBlbmRlbnRfc2l6ZWRfYXJyYXlfdHlwZSkKRGVwZW5kZW50VGVtcGxhdGVTcGVjaWFsaXphdGlvblR5cGUoZGVwZW5kZW50X3RlbXBsYXRlX3NwZWNpYWxpemF0aW9uX3R5cGUpCkVsYWJvcmF0ZWRUeXBlKGVsYWJvcmF0ZWRfdHlwZSkKRW51bVR5cGUoZW51bV90eXBlKQpFeHByV2l0aENsZWFudXBzKGV4cHJfd2l0aF9jbGVhbnVwcykKRmluYWxBdHRyKGZpbmFsX2F0dHIpCkZvcm1hdEFyZ0F0dHIoZm9ybWF0X2FyZ19hdHRyKQpGcmllbmREZWNsKGZyaWVuZF9kZWNsKQpGdW5jdGlvbk5vUHJvdG9UeXBlKGZ1bmN0aW9uX25vX3Byb3RvX3R5cGUpCkZ1bmN0aW9uUHJvdG9UeXBlKGZ1bmN0aW9uX3Byb3RvX3R5cGUpCkZ1bmN0aW9uVGVtcGxhdGVEZWNsKGZ1bmN0aW9uX3RlbXBsYXRlX2RlY2wpCkdDQ0FzbVN0bXQoZ2NjX2FzbV9zdG10KQpHTlVJbmxpbmVBdHRyKGdudV9pbmxpbmVfYXR0cikKR05VTnVsbEV4cHIoZ251X251bGxfZXhwcikKSW1wbGljaXRWYWx1ZUluaXRFeHByKGltcGxpY2l0X3ZhbHVlX2luaXRfZXhwcikKSW5jb21wbGV0ZUFycmF5VHlwZShpbmNvbXBsZXRlX2FycmF5X3R5cGUpCkluZGlyZWN0RmllbGREZWNsKGluZGlyZWN0X2ZpZWxkX2RlY2wpCkluZGlyZWN0R290b1N0bXQoaW5kaXJlY3RfZ290b19zdG10KQpJbmplY3RlZENsYXNzTmFtZVR5cGUoaW5qZWN0ZWRfY2xhc3NfbmFtZV90eXBlKQpMYW1iZGFFeHByKGxhbWJkYV9leHByKQpMaW5rYWdlU3BlY0RlY2wobGlua2FnZV9zcGVjX2RlY2wpCkxWYWx1ZVJlZmVyZW5jZVR5cGUobF92YWx1ZV9yZWZlcmVuY2VfdHlwZSkKTWF0ZXJpYWxpemVUZW1wb3JhcnlFeHByKG1hdGVyaWFsaXplX3RlbXBvcmFyeV9leHByKQpNYXhGaWVsZEFsaWdubWVudEF0dHIobWF4X2ZpZWxkX2FsaWdubWVudF9hdHRyKQpNYXlBbGlhc0F0dHIobWF5X2FsaWFzX2F0dHIpCk1lbWJlclBvaW50ZXJUeXBlKG1lbWJlcl9wb2ludGVyX3R5cGUpCk1pblZlY3RvcldpZHRoQXR0cihtaW5fdmVjdG9yX3dpZHRoX2F0dHIpCk1vZGVBdHRyKG1vZGVfYXR0cikKTmFtZXNwYWNlRGVjbChuYW1lc3BhY2VfZGVjbCkKTm9EZWJ1Z0F0dHIobm9fZGVidWdfYXR0cikKTm9JbmxpbmVBdHRyKG5vX2lubGluZV9hdHRyKQpOb25UeXBlVGVtcGxhdGVQYXJtRGVjbChub25fdHlwZV90ZW1wbGF0ZV9wYXJtX2RlY2wpCk9mZnNldE9mRXhwcihvZmZzZXRfb2ZfZXhwcikKT3BhcXVlVmFsdWVFeHByKG9wYXF1ZV92YWx1ZV9leHByKQpPd25lckF0dHIob3duZXJfYXR0cikKUGFja2VkQXR0cihwYWNrZWRfYXR0cikKUGFja0V4cGFuc2lvbkV4cHIocGFja19leHBhbnNpb25fZXhwcikKUGFja0V4cGFuc2lvblR5cGUocGFja19leHBhbnNpb25fdHlwZSkKUGFyZW5UeXBlKHBhcmVuX3R5cGUpClBvaW50ZXJBdHRyKHBvaW50ZXJfYXR0cikKUG9pbnRlclR5cGUocG9pbnRlcl90eXBlKQpQcmVkZWZpbmVkRXhwcihwcmVkZWZpbmVkX2V4cHIpClF1YWxUeXBlKHF1YWxfdHlwZSkKUmVjb3JkVHlwZShyZWNvcmRfdHlwZSkKUmV0dXJuc05vbk51bGxBdHRyKHJldHVybnNfbm9uX251bGxfYXR0cikKUlZhbHVlUmVmZXJlbmNlVHlwZShyX3ZhbHVlX3JlZmVyZW5jZV90eXBlKQpTZW50aW5lbEF0dHIoc2VudGluZWxfYXR0cikKU2h1ZmZsZVZlY3RvckV4cHIoc2h1ZmZsZV92ZWN0b3JfZXhwcikKU2l6ZU9mUGFja0V4cHIoc2l6ZV9vZl9wYWNrX2V4cHIpClN0YXRpY0Fzc2VydERlY2woc3RhdGljX2Fzc2VydF9kZWNsKQpTdG10RXhwcihzdG10X2V4cHIpClN1YnN0Tm9uVHlwZVRlbXBsYXRlUGFybUV4cHIoc3Vic3Rfbm9uX3R5cGVfdGVtcGxhdGVfcGFybV9leHByKQpTdWJzdFRlbXBsYXRlVHlwZVBhcm1UeXBlKHN1YnN0X3RlbXBsYXRlX3R5cGVfcGFybV90eXBlKQpUYXJnZXRBdHRyKHRhcmdldF9hdHRyKQpUZW1wbGF0ZUFyZ3VtZW50KHRlbXBsYXRlX2FyZ3VtZW50KQpUZW1wbGF0ZVNwZWNpYWxpemF0aW9uVHlwZSh0ZW1wbGF0ZV9zcGVjaWFsaXphdGlvbl90eXBlKQpUZW1wbGF0ZVRlbXBsYXRlUGFybURlY2wodGVtcGxhdGVfdGVtcGxhdGVfcGFybV9kZWNsKQpUZW1wbGF0ZVR5cGVQYXJtRGVjbCh0ZW1wbGF0ZV90eXBlX3Bhcm1fZGVjbCkKVGVtcGxhdGVUeXBlUGFybVR5cGUodGVtcGxhdGVfdHlwZV9wYXJtX3R5cGUpClRQYXJhbUNvbW1hbmRDb21tZW50KHRfcGFyYW1fY29tbWFuZF9jb21tZW50KQpUeXBlQWxpYXNEZWNsKHR5cGVfYWxpYXNfZGVjbCkKVHlwZUFsaWFzVGVtcGxhdGVEZWNsKHR5cGVfYWxpYXNfdGVtcGxhdGVfZGVjbCkKVHlwZWRlZlR5cGUodHlwZWRlZl90eXBlKQpUeXBlT2ZFeHByVHlwZSh0eXBlX29mX2V4cHJfdHlwZSkKVHlwZVRyYWl0RXhwcih0eXBlX3RyYWl0X2V4cHIpClVuYXJ5VHJhbnNmb3JtVHlwZSh1bmFyeV90cmFuc2Zvcm1fdHlwZSkKVW5yZXNvbHZlZFVzaW5nVmFsdWVEZWNsKHVucmVzb2x2ZWRfdXNpbmdfdmFsdWVfZGVjbCkKVW51c2VkQXR0cih1bnVzZWRfYXR0cikKVXNpbmdEZWNsKHVzaW5nX2RlY2wpClVzaW5nRGlyZWN0aXZlRGVjbCh1c2luZ19kaXJlY3RpdmVfZGVjbCkKVXNpbmdTaGFkb3dEZWNsKHVzaW5nX3NoYWRvd19kZWNsKQpWQUFyZ0V4cHIodmFfYXJnX2V4cHIpClZhclRlbXBsYXRlRGVjbCh2YXJfdGVtcGxhdGVfZGVjbCkKVmVjdG9yVHlwZSh2ZWN0b3JfdHlwZSkKVmVyYmF0aW1MaW5lQ29tbWVudCh2ZXJiYXRpbV9saW5lX2NvbW1lbnQpClZpc2liaWxpdHlBdHRyKHZpc2liaWxpdHlfYXR0cikKV2Vha1JlZkF0dHIod2Vha19yZWZfYXR0cikKQ1hYUmVjb3JkRGVjbChjeHhfcmVjb3JkX2RlY2wpCkNYWENvbnN0cnVjdG9yRGVjbChjeHhfY29uc3RydWN0b3JfZGVjbCkKICBuID0+CkNYWEN0b3JJbml0aWFsaXplcihjeHhfY3Rvcl9pbml0aWFsaXplcikKQ1hYRGVwZW5kZW50U2NvcGVNZW1iZXJFeHByKGN4eF9kZXBlbmRlbnRfc2NvcGVfbWVtYmVyX2V4cHIpCkNYWFRoaXNFeHByKGN4eF90aGlzX2V4cHIpCkNYWERlc3RydWN0b3JEZWNsKGN4eF9kZXN0cnVjdG9yX2RlY2wpCiAgbiA9PgpDWFhNZXRob2REZWNsKGN4eF9tZXRob2RfZGVjbCkKICBuID0+CkNYWFN0YXRpY0Nhc3RFeHByKGN4eF9zdGF0aWNfY2FzdF9leHByKQpDWFhVbnJlc29sdmVkQ29uc3RydWN0RXhwcihjeHhfdW5yZXNvbHZlZF9jb25zdHJ1Y3RfZXhwcikKQ1hYTmV3RXhwcihjeHhfbmV3X2V4cHIpCkNYWERlbGV0ZUV4cHIoY3h4X2RlbGV0ZV9leHByKQpDWFhCb29sTGl0ZXJhbEV4cHIoY3h4X2Jvb2xfbGl0ZXJhbF9leHByKQpDWFgxMU5vUmV0dXJuQXR0cihjeHgxMV9ub19yZXR1cm5fYXR0cikKQ1hYQmluZFRlbXBvcmFyeUV4cHIoY3h4X2JpbmRfdGVtcG9yYXJ5X2V4cHIpCkNYWENhdGNoU3RtdChjeHhfY2F0Y2hfc3RtdCkKQ1hYQ29uc3RydWN0RXhwcihjeHhfY29uc3RydWN0X2V4cHIpCkNYWENvbnZlcnNpb25EZWNsKGN4eF9jb252ZXJzaW9uX2RlY2wpCkNYWERlZmF1bHRBcmdFeHByKGN4eF9kZWZhdWx0X2FyZ19leHByKQpDWFhEZWZhdWx0SW5pdEV4cHIoY3h4X2RlZmF1bHRfaW5pdF9leHByKQpDWFhGb3JSYW5nZVN0bXQoY3h4X2Zvcl9yYW5nZV9zdG10KQpDWFhGdW5jdGlvbmFsQ2FzdEV4cHIoY3h4X2Z1bmN0aW9uYWxfY2FzdF9leHByKQpDWFhNZW1iZXJDYWxsRXhwcihjeHhfbWVtYmVyX2NhbGxfZXhwcikKQ1hYTm9leGNlcHRFeHByKGN4eF9ub2V4Y2VwdF9leHByKQpDWFhOdWxsUHRyTGl0ZXJhbEV4cHIoY3h4X251bGxfcHRyX2xpdGVyYWxfZXhwcikKQ1hYT3BlcmF0b3JDYWxsRXhwcihjeHhfb3BlcmF0b3JfY2FsbF9leHByKQpDWFhSZWludGVycHJldENhc3RFeHByKGN4eF9yZWludGVycHJldF9jYXN0X2V4cHIpCkNYWFNjYWxhclZhbHVlSW5pdEV4cHIoY3h4X3NjYWxhcl92YWx1ZV9pbml0X2V4cHIpCkNYWFRlbXBvcmFyeU9iamVjdEV4cHIoY3h4X3RlbXBvcmFyeV9vYmplY3RfZXhwcikKQ1hYVHJ5U3RtdChjeHhfdHJ5X3N0bXQpClByaW50Tm9kZShub2RlKQpQcmludEFzdChub2RlLCBhc3QpCiAgZ2V0KCkKICBpc05vZGUob2JqKQpHZXRUeXBlKG5hbWVfb3JfaWQsIGFzdCA9IGdsb2JhbFRoaXNbJyQnXT8uZGF0YSkKICBuID0+Cm5vZGUgPT4Kbm9kZSA9PgogIHIgPT4KR2V0Q2xhc3MobmFtZV9vcl9pZCwgYXN0ID0gZ2xvYmFsVGhpc1snJCddLmRhdGEpCm4gPT4KICBiYXNlcygpCkdldEJhc2VzKG5vZGUsIGFzdCA9IGdsb2JhbFRoaXNbJyQnXS5kYXRhKQpHZXRCeU5hbWUoYXJnLCBhc3QgPSBnbG9iYWxUaGlzWyckJ10uZGF0YSwgcHJlZGljYXRlID0gKCkgPT4gdHJ1ZSkKbiA9PgpHZXROYW1lc3BhY2UoYXJnLCByb290ID0gZ2xvYmFsVGhpc1snJCddLmRhdGEsIHByZWRpY2F0ZSA9ICgpID0+IHRydWUpCm4gPT4KTmFtZXNwYWNlT2Yobm9kZSwgYXN0ID0gZ2xvYmFsVGhpc1snJCddLmRhdGEpCiAgdG9TdHJpbmcoKQpHZXRGaWVsZHMobm9kZSkKKHYsIGspID0+CihbdiwgcF0pID0+CihbbG9jLCBwdHJdKSA9PgogIGkgPT4KR2V0UGFyYW1zKG5vZGUpCiAgY2hpbGQgPT4KUGF0aFJlbW92ZUxvYyhwYXRoKQogIHAgPT4AAAAAAAAAAMECAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					5,
					3,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/clang-list.js",
						"symkeys":
						[
							[
								341,
								365
							],
							[
								529,
								535
							],
							[
								579,
								596
							],
							[
								707,
								735
							],
							[
								921,
								931
							],
							[
								981,
								991
							],
							[
								1970,
								1974
							],
							[
								2021,
								2025
							],
							[
								2123,
								2160
							],
							[
								2445,
								2489
							],
							[
								2497,
								2539
							],
							[
								2579,
								2586
							],
							[
								2630,
								2637
							],
							[
								3048,
								3059
							],
							[
								3106,
								3111
							],
							[
								3121,
								3126
							],
							[
								3139,
								3150
							],
							[
								3180,
								3185
							],
							[
								3198,
								3209
							],
							[
								3367,
								3373
							],
							[
								3792,
								3809
							],
							[
								3979,
								3989
							],
							[
								4286,
								4296
							],
							[
								4853,
								4858
							],
							[
								5001,
								5041
							],
							[
								5093,
								5126
							],
							[
								5311,
								5329
							],
							[
								5375,
								5391
							],
							[
								5407,
								5424
							],
							[
								5451,
								5474
							],
							[
								5490,
								5512
							],
							[
								5612,
								5623
							],
							[
								5746,
								5755
							],
							[
								5825,
								5836
							],
							[
								6054,
								6062
							],
							[
								6092,
								6100
							],
							[
								6119,
								6123
							],
							[
								6290,
								6301
							],
							[
								6356,
								6367
							],
							[
								6399,
								6408
							],
							[
								6558,
								6569
							],
							[
								6620,
								6634
							],
							[
								6773,
								6777
							],
							[
								7047,
								7086
							],
							[
								7180,
								7193
							],
							[
								7711,
								7743
							],
							[
								7907,
								7941
							]
						],
						"symlist":
						[
							"findLastIndex(predicate)",
							"tail()",
							"startsWith(start)",
							"async function main(...args)",
							" (a, p) =>",
							" (a, p) =>",
							"d =>",
							"v =>",
							"async function processFiles(...files)",
							"async function ReadAST(outfile, load = f => ",
							"(f), save = WriteFile, parse = JSON.parse)",
							"name =>",
							"stat =>",
							"async () =>",
							" a =>",
							"() =>",
							"async () =>",
							"() =>",
							"async () =>",
							"err =>",
							" (v, p) =>",
							"toString()",
							"toString()",
							" v =>",
							" function ListNodes(sysinc = false)",
							"NoSystemIncludes = ([p, n, l]) =>",
							" ([path, decl]) =>",
							"names = decls =>",
							"([path, decl]) =>",
							"declarations = decls =>",
							"([path, decl, loc]) =>",
							"([p, n]) =>",
							"(a, b) =>",
							"([p, n]) =>",
							"([p]) =>",
							"([p]) =>",
							"p =>",
							"([p, n]) =>",
							"([p, n]) =>",
							"(a, b) =>",
							"([p, n]) =>",
							"([p, n, l]) =>",
							"k =>",
							"([path, node, id, name, type, kind]) =>",
							"(field, i) =>",
							"function writeOutput(name, data)",
							"function GetLibraryFor(symbolName)"
						]
					},
					"BgAAAAAAAAAAAAAAAAAAAAAAAADBAgAAICBmaW5kTGFzdEluZGV4KHByZWRpY2F0ZSkKICB0YWlsKCkKICBzdGFydHNXaXRoKHN0YXJ0KQogIG1haW4oLi4uYXJncykKKGEsIHApID0+CihhLCBwKSA9PgogIGQgPT4KICB2ID0+CiAgcHJvY2Vzc0ZpbGVzKC4uLmZpbGVzKQpSZWFkQVNUKG91dGZpbGUsIGxvYWQgPSBmID0+IAooZiksIHNhdmUgPSBXcml0ZUZpbGUsIHBhcnNlID0gSlNPTi5wYXJzZSkKICBuYW1lID0+CiAgc3RhdCA9PgooKSA9PgphID0+CigpID0+CigpID0+CigpID0+CigpID0+CiAgZXJyID0+Cih2LCBwKSA9PgogIHRvU3RyaW5nKCkKICB0b1N0cmluZygpCnYgPT4KTGlzdE5vZGVzKHN5c2luYyA9IGZhbHNlKQpOb1N5c3RlbUluY2x1ZGVzID0gKFtwLCBuLCBsXSkgPT4KKFtwYXRoLCBkZWNsXSkgPT4KICBuYW1lcyA9IGRlY2xzID0+CihbcGF0aCwgZGVjbF0pID0+CiAgZGVjbGFyYXRpb25zID0gZGVjbHMgPT4KKFtwYXRoLCBkZWNsLCBsb2NdKSA9PgooW3AsIG5dKSA9PgooYSwgYikgPT4KKFtwLCBuXSkgPT4KKFtwXSkgPT4KKFtwXSkgPT4KICBwID0+CihbcCwgbl0pID0+CihbcCwgbl0pID0+CihhLCBiKSA9PgooW3AsIG5dKSA9PgooW3AsIG4sIGxdKSA9PgogIGsgPT4KKFtwYXRoLCBub2RlLCBpZCwgbmFtZSwgdHlwZSwga2luZF0pID0+CihmaWVsZCwgaSkgPT4KICB3cml0ZU91dHB1dChuYW1lLCBkYXRhKQpHZXRMaWJyYXJ5Rm9yKHN5bWJvbE5hbWUpAAAAAAAAAADBAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwQIAACAgZmluZExhc3RJbmRleChwcmVkaWNhdGUpCiAgdGFpbCgpCiAgc3RhcnRzV2l0aChzdGFydCkKICBtYWluKC4uLmFyZ3MpCihhLCBwKSA9PgooYSwgcCkgPT4KICBkID0+CiAgdiA9PgogIHByb2Nlc3NGaWxlcyguLi5maWxlcykKUmVhZEFTVChvdXRmaWxlLCBsb2FkID0gZiA9PiAKKGYpLCBzYXZlID0gV3JpdGVGaWxlLCBwYXJzZSA9IEpTT04ucGFyc2UpCiAgbmFtZSA9PgogIHN0YXQgPT4KKCkgPT4KYSA9PgooKSA9PgooKSA9PgooKSA9PgooKSA9PgogIGVyciA9PgoodiwgcCkgPT4KICB0b1N0cmluZygpCiAgdG9TdHJpbmcoKQp2ID0+Ckxpc3ROb2RlcyhzeXNpbmMgPSBmYWxzZSkKTm9TeXN0ZW1JbmNsdWRlcyA9IChbcCwgbiwgbF0pID0+CihbcGF0aCwgZGVjbF0pID0+CiAgbmFtZXMgPSBkZWNscyA9PgooW3BhdGgsIGRlY2xdKSA9PgogIGRlY2xhcmF0aW9ucyA9IGRlY2xzID0+CihbcGF0aCwgZGVjbCwgbG9jXSkgPT4KKFtwLCBuXSkgPT4KKGEsIGIpID0+CihbcCwgbl0pID0+CihbcF0pID0+CihbcF0pID0+CiAgcCA9PgooW3AsIG5dKSA9PgooW3AsIG5dKSA9PgooYSwgYikgPT4KKFtwLCBuXSkgPT4KKFtwLCBuLCBsXSkgPT4KICBrID0+CihbcGF0aCwgbm9kZSwgaWQsIG5hbWUsIHR5cGUsIGtpbmRdKSA9PgooZmllbGQsIGkpID0+CiAgd3JpdGVPdXRwdXQobmFtZSwgZGF0YSkKR2V0TGlicmFyeUZvcihzeW1ib2xOYW1lKQAAAAAAAAAAwQIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMECAAAgIGZpbmRMYXN0SW5kZXgocHJlZGljYXRlKQogIHRhaWwoKQogIHN0YXJ0c1dpdGgoc3RhcnQpCiAgbWFpbiguLi5hcmdzKQooYSwgcCkgPT4KKGEsIHApID0+CiAgZCA9PgogIHYgPT4KICBwcm9jZXNzRmlsZXMoLi4uZmlsZXMpClJlYWRBU1Qob3V0ZmlsZSwgbG9hZCA9IGYgPT4gCihmKSwgc2F2ZSA9IFdyaXRlRmlsZSwgcGFyc2UgPSBKU09OLnBhcnNlKQogIG5hbWUgPT4KICBzdGF0ID0+CigpID0+CmEgPT4KKCkgPT4KKCkgPT4KKCkgPT4KKCkgPT4KICBlcnIgPT4KKHYsIHApID0+CiAgdG9TdHJpbmcoKQogIHRvU3RyaW5nKCkKdiA9PgpMaXN0Tm9kZXMoc3lzaW5jID0gZmFsc2UpCk5vU3lzdGVtSW5jbHVkZXMgPSAoW3AsIG4sIGxdKSA9PgooW3BhdGgsIGRlY2xdKSA9PgogIG5hbWVzID0gZGVjbHMgPT4KKFtwYXRoLCBkZWNsXSkgPT4KICBkZWNsYXJhdGlvbnMgPSBkZWNscyA9PgooW3BhdGgsIGRlY2wsIGxvY10pID0+CihbcCwgbl0pID0+CihhLCBiKSA9PgooW3AsIG5dKSA9PgooW3BdKSA9PgooW3BdKSA9PgogIHAgPT4KKFtwLCBuXSkgPT4KKFtwLCBuXSkgPT4KKGEsIGIpID0+CihbcCwgbl0pID0+CihbcCwgbiwgbF0pID0+CiAgayA9PgooW3BhdGgsIG5vZGUsIGlkLCBuYW1lLCB0eXBlLCBraW5kXSkgPT4KKGZpZWxkLCBpKSA9PgogIHdyaXRlT3V0cHV0KG5hbWUsIGRhdGEpCkdldExpYnJhcnlGb3Ioc3ltYm9sTmFtZSkAAAAAAAAAAMECAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					6,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/ast-shell.js",
						"symkeys":
						[
							[
								2133,
								2137
							],
							[
								2196,
								2200
							],
							[
								2236,
								2266
							],
							[
								2309,
								2330
							],
							[
								2479,
								2505
							],
							[
								2663,
								2682
							],
							[
								3011,
								3039
							],
							[
								3329,
								3337
							],
							[
								3338,
								3352
							],
							[
								3434,
								3444
							],
							[
								3507,
								3555
							],
							[
								3669,
								3678
							],
							[
								3788,
								3810
							],
							[
								4272,
								4294
							],
							[
								4658,
								4676
							],
							[
								4776,
								4794
							],
							[
								4900,
								4926
							],
							[
								5062,
								5066
							],
							[
								5145,
								5161
							],
							[
								5653,
								5672
							],
							[
								6171,
								6176
							],
							[
								6251,
								6266
							],
							[
								6351,
								6359
							],
							[
								6400,
								6408
							],
							[
								6780,
								6853
							],
							[
								6857,
								6865
							],
							[
								6962,
								6992
							],
							[
								7024,
								7029
							],
							[
								7062,
								7069
							],
							[
								7099,
								7127
							],
							[
								7470,
								7477
							],
							[
								7496,
								7519
							],
							[
								7549,
								7556
							],
							[
								7587,
								7595
							],
							[
								7633,
								7640
							],
							[
								7849,
								7862
							],
							[
								8093,
								8136
							],
							[
								8169,
								8178
							],
							[
								8239,
								8243
							],
							[
								8345,
								8349
							],
							[
								8385,
								8399
							],
							[
								8511,
								8539
							],
							[
								8744,
								8769
							],
							[
								8867,
								8891
							],
							[
								8964,
								8968
							],
							[
								9087,
								9091
							],
							[
								9155,
								9169
							],
							[
								9242,
								9251
							],
							[
								9565,
								9579
							],
							[
								9702,
								9737
							],
							[
								9826,
								9831
							],
							[
								9954,
								9966
							],
							[
								10019,
								10044
							],
							[
								10093,
								10104
							],
							[
								10144,
								10155
							],
							[
								10293,
								10304
							],
							[
								10392,
								10405
							],
							[
								10486,
								10518
							],
							[
								10756,
								10785
							],
							[
								10796,
								10811
							],
							[
								10873,
								10892
							],
							[
								11100,
								11139
							],
							[
								11204,
								11244
							],
							[
								11327,
								11371
							],
							[
								11453,
								11492
							],
							[
								11554,
								11592
							],
							[
								11678,
								11706
							],
							[
								11769,
								11796
							],
							[
								12347,
								12373
							],
							[
								12640,
								12647
							],
							[
								14563,
								14621
							],
							[
								15657,
								15664
							],
							[
								15728,
								15735
							],
							[
								15745,
								15756
							],
							[
								15797,
								15823
							],
							[
								15939,
								15953
							],
							[
								16250,
								16269
							],
							[
								16296,
								16303
							],
							[
								16392,
								16422
							],
							[
								16488,
								16528
							],
							[
								16704,
								16755
							],
							[
								17744,
								17751
							],
							[
								18159,
								18185
							],
							[
								18431,
								18485
							],
							[
								18674,
								18686
							],
							[
								18714,
								18726
							],
							[
								19343,
								19403
							],
							[
								20014,
								20069
							],
							[
								20165,
								20177
							],
							[
								20182,
								20212
							],
							[
								20493,
								20515
							],
							[
								20561,
								20584
							],
							[
								20656,
								20671
							],
							[
								20806,
								20822
							],
							[
								21226,
								21239
							],
							[
								21364,
								21383
							],
							[
								21435,
								21443
							],
							[
								21500,
								21515
							],
							[
								21675,
								21687
							],
							[
								22032,
								22046
							],
							[
								22146,
								22163
							],
							[
								22390,
								22412
							],
							[
								22529,
								22554
							],
							[
								22654,
								22671
							],
							[
								22726,
								22730
							],
							[
								22818,
								22822
							],
							[
								22874,
								22898
							],
							[
								23014,
								23054
							],
							[
								23115,
								23136
							],
							[
								23420,
								23452
							],
							[
								23937,
								23952
							],
							[
								24063,
								24088
							],
							[
								24257,
								24292
							],
							[
								24512,
								24519
							],
							[
								24608,
								24615
							],
							[
								24644,
								24653
							],
							[
								24690,
								24699
							],
							[
								24749,
								24757
							],
							[
								24799,
								24823
							],
							[
								24924,
								24940
							],
							[
								24980,
								25020
							],
							[
								25318,
								25361
							],
							[
								26323,
								26334
							],
							[
								27087,
								27137
							],
							[
								27159,
								27185
							],
							[
								27220,
								27249
							],
							[
								27593,
								27636
							],
							[
								27707,
								27717
							],
							[
								27756,
								27760
							],
							[
								27776,
								27780
							],
							[
								27825,
								27912
							],
							[
								28079,
								28112
							],
							[
								28170,
								28175
							],
							[
								28245,
								28287
							],
							[
								28365,
								28375
							],
							[
								28481,
								28521
							],
							[
								28665,
								28670
							],
							[
								28730,
								28743
							],
							[
								28866,
								28870
							],
							[
								28948,
								28952
							],
							[
								29105,
								29112
							],
							[
								29209,
								29214
							],
							[
								29305,
								29321
							],
							[
								29432,
								29439
							],
							[
								29518,
								29522
							],
							[
								29582,
								29589
							],
							[
								29665,
								29672
							],
							[
								29729,
								29775
							],
							[
								29814,
								29824
							],
							[
								29980,
								30016
							],
							[
								30057,
								30069
							],
							[
								31712,
								31733
							],
							[
								31970,
								32010
							],
							[
								32148,
								32177
							],
							[
								32203,
								32232
							],
							[
								32425,
								32435
							],
							[
								32649,
								32659
							],
							[
								32796,
								32806
							],
							[
								33025,
								33035
							],
							[
								33248,
								33252
							],
							[
								33320,
								33324
							],
							[
								35573,
								35592
							],
							[
								38856,
								38888
							],
							[
								39381,
								39391
							],
							[
								39441,
								39451
							],
							[
								39499,
								39509
							],
							[
								40087,
								40098
							],
							[
								40192,
								40196
							],
							[
								40223,
								40227
							],
							[
								40251,
								40255
							],
							[
								40279,
								40283
							],
							[
								40312,
								40349
							],
							[
								40788,
								40833
							],
							[
								40930,
								40964
							],
							[
								41249,
								41277
							],
							[
								41343,
								41357
							],
							[
								41810,
								41827
							],
							[
								41902,
								41919
							],
							[
								42013,
								42042
							],
							[
								42109,
								42132
							],
							[
								42240,
								42245
							],
							[
								42357,
								42380
							],
							[
								42468,
								42473
							],
							[
								42575,
								42587
							],
							[
								42702,
								42707
							],
							[
								42763,
								42792
							],
							[
								43133,
								43147
							],
							[
								44299,
								44357
							],
							[
								45371,
								45382
							],
							[
								45415,
								45426
							],
							[
								45475,
								45481
							],
							[
								45534,
								45542
							],
							[
								45840,
								45844
							],
							[
								46549,
								46555
							]
						],
						"symlist":
						[
							"d =>",
							"d =>",
							"traceProxy = (obj, handler) =>",
							" function(name, args)",
							"get(target, key, receiver)",
							"member = function()",
							"ConcatIterator = iterator =>",
							" gen =>",
							" (...args) =>",
							"toString()",
							"async function ImportModule(modulePath, ...args)",
							"module =>",
							" (acc, item) =>",
							"function CommandLine()",
							" (...args) =>",
							" (...args) =>",
							" (module, ...args) =>",
							"m =>",
							".show = value =>",
							".printNode = arg =>",
							"() =>",
							"(item, i, a) =>",
							"entry =>",
							"entry =>",
							"function* IncludeAll(dir, maxDepth = Infinity, pred = entry => /\\.[ch]$/.",
							"(entry))",
							"function SelectLocations(node)",
							" n =>",
							"prop =>",
							"function LocationString(loc)",
							"node =>",
							"function Structs(nodes)",
							"node =>",
							"field =>",
							"node =>",
							"(field, i) =>",
							"function Table(list, pred = (n, l) => true)",
							"(n, i) =>",
							"e =>",
							"k =>",
							"([i, l, n]) =>",
							" function returnType(n)",
							" function numArgs(n)",
							" function Params(n)",
							"p =>",
							"k =>",
							"([i, l, n]) =>",
							"(k, j) =>",
							"(acc, name) =>",
							" function padTrunc(len, pad = ' ')",
							" s =>",
							"(name, i) =>",
							"pad = (cols, pad, sep) =>",
							"(key, i) =>",
							"(s, col) =>",
							"(acc, n) =>",
							"(acc, row) =>",
							"function PrintRange(range, file)",
							"function OverlapRange(r1, r2)",
							"GetRange = r =>",
							"InRange = (i, r) =>",
							"function ParentNode(node, ast = $.data)",
							"function NextSibling(node, ast = $.data)",
							"function PreviousSibling(node, ast = $.data)",
							"function FirstChild(node, ast = $.data)",
							"function LastChild(node, ast = $.data)",
							"function Terminate(exitCode)",
							"function ParseStructs(text)",
							"function* (decl, includes)",
							"name =>",
							"function InspectStruct(decl, includes, compiler = 'clang')",
							"line =>",
							"line =>",
							"(col, i) =>",
							"([field, offset, size]) =>",
							"(acc, line) =>",
							"toString(sep = ' ')",
							"line =>",
							"function RoundTo(value, align)",
							"function MakeStructClass(decl, filename)",
							"function* GenerateStructClass(decl, ffiPrefix = '')",
							"line =>",
							" ([field, member]) =>",
							"function GenerateGetSet(name, offset, type, ffiPrefix)",
							"toHex = v =>",
							"toHex = v =>",
							"function ByteLength2TypedArray(byteLength, signed, floating)",
							"function ByteLength2Value(byteLength, signed, floating)",
							"FFI_Function",
							"constructor(node, prefix = '')",
							"([name, type], idx) =>",
							"generateDefine(fp, lib)",
							" (name, lib) =>",
							"colorText = x =>",
							"generateDoc()",
							"push = (...args) =>",
							"field =>",
							"(field, col) =>",
							"js = type =>",
							"generateCall()",
							"([name, type]) =>",
							"generate(fp, lib, exp)",
							"generateFunction(fp, lib)",
							"([name, type]) =>",
							"p =>",
							"p =>",
							"compileFunction(fp, lib)",
							"function FdReader(fd, bufferSize = 1024)",
							"async (push, stop) =>",
							"async function CommandRead(args)",
							"async reader =>",
							" function ReadOutput(fd)",
							"async function LibraryExports(file)",
							"line =>",
							"line =>",
							"column =>",
							"(a, b) =>",
							"entry =>",
							"function SaveLibraries()",
							"(acc, [n, e]) =>",
							"function ProcessFile(file, debug = true)",
							"function ParseECMAScript(file, params = {})",
							" (fr, i) =>",
							"function PrintECMAScript(ast, comments, printer = ",
							"({ indent: 4 }, comments))",
							"function PrintCArray(strings)",
							"function Namespaces(nodePath, ast = $.data)",
							"get = p =>",
							"p =>",
							"n =>",
							"function* Constants(node, t = (name, value) => [name, !isNaN(+value) ? +value : value])",
							"function GetImports(ast = $.data)",
							" n =>",
							"function GetIdentifiers(nodes, key = null)",
							" (n, k) =>",
							"function MemberNames(members, flags = 0)",
							" n =>",
							" path =>",
							"p =>",
							"p =>",
							"name =>",
							" n =>",
							"([node, ptr]) =>",
							"path =>",
							"p =>",
							"name =>",
							"name =>",
							"function UnsetLoc(node, pred = (v, p) => true)",
							" (v, k) =>",
							"function MakeFFI(node, lib, exp, fp)",
							"function* ()",
							"function MakeId(name)",
							"function MakeQuickJSClass(node, ast = $)",
							" (cname, vname = 'ptr') =>",
							" (cname, vname = 'ptr') =>",
							" n =>",
							" n =>",
							" n =>",
							" n =>",
							"n =>",
							"n =>",
							"to_jstype = type =>",
							"async function ASTShell(...args)",
							" (a, p) =>",
							" (a, p) =>",
							" (a, p) =>",
							"get flags()",
							"v =>",
							"v =>",
							"d =>",
							"l =>",
							"async function Compile(file, ...args)",
							"select(name_or_id, pred = n => true, ...args)",
							"getByIdOrName(name_or_id, ...args)",
							"function getType(name_or_id)",
							" n =>",
							"predicate = () =>",
							"namespaceOf(node)",
							"function getClass(name_or_id)",
							"getFunction(name_or_id)",
							" n =>",
							"getVariable(name_or_id)",
							" n =>",
							"getLoc(node)",
							"() =>",
							"pathOf(needle, maxDepth = 10)",
							" n =>",
							"Pointer.prototype.chain = function(step, limit = Infinity)",
							".F = arg =>",
							".T = arg =>",
							" () =>",
							" node =>",
							"s =>",
							" fr =>"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADBAgAAICBmaW5kTGFzdEluZGV4KHByZWRpY2F0ZSkKICB0YWlsKCkKICBzdGFydHNXaXRoKHN0YXJ0KQogIG1haW4oLi4uYXJncykKKGEsIHApID0+CihhLCBwKSA9PgogIGQgPT4KICB2ID0+CiAgcHJvY2Vzc0ZpbGVzKC4uLmZpbGVzKQpSZWFkQVNUKG91dGZpbGUsIGxvYWQgPSBmID0+IAooZiksIHNhdmUgPSBXcml0ZUZpbGUsIHBhcnNlID0gSlNPTi5wYXJzZSkKICBuYW1lID0+CiAgc3RhdCA9PgooKSA9PgphID0+CigpID0+CigpID0+CigpID0+CigpID0+CiAgZXJyID0+Cih2LCBwKSA9PgogIHRvU3RyaW5nKCkKICB0b1N0cmluZygpCnYgPT4KTGlzdE5vZGVzKHN5c2luYyA9IGZhbHNlKQpOb1N5c3RlbUluY2x1ZGVzID0gKFtwLCBuLCBsXSkgPT4KKFtwYXRoLCBkZWNsXSkgPT4KICBuYW1lcyA9IGRlY2xzID0+CihbcGF0aCwgZGVjbF0pID0+CiAgZGVjbGFyYXRpb25zID0gZGVjbHMgPT4KKFtwYXRoLCBkZWNsLCBsb2NdKSA9PgooW3AsIG5dKSA9PgooYSwgYikgPT4KKFtwLCBuXSkgPT4KKFtwXSkgPT4KKFtwXSkgPT4KICBwID0+CihbcCwgbl0pID0+CihbcCwgbl0pID0+CihhLCBiKSA9PgooW3AsIG5dKSA9PgooW3AsIG4sIGxdKSA9PgogIGsgPT4KKFtwYXRoLCBub2RlLCBpZCwgbmFtZSwgdHlwZSwga2luZF0pID0+CihmaWVsZCwgaSkgPT4KICB3cml0ZU91dHB1dChuYW1lLCBkYXRhKQpHZXRMaWJyYXJ5Rm9yKHN5bWJvbE5hbWUpAAAAAAAAAACNDQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					7,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/clang-ast.js",
						"symkeys":
						[
							[
								848,
								861
							],
							[
								940,
								996
							],
							[
								1451,
								1510
							],
							[
								1998,
								2037
							],
							[
								2043,
								2049
							],
							[
								2219,
								2251
							],
							[
								2353,
								2390
							],
							[
								2544,
								2571
							],
							[
								2653,
								2683
							],
							[
								2750,
								2758
							],
							[
								2797,
								2824
							],
							[
								2873,
								2900
							],
							[
								2977,
								2981
							],
							[
								3004,
								3037
							],
							[
								3217,
								3260
							],
							[
								3545,
								3553
							],
							[
								3945,
								3949
							],
							[
								3968,
								3988
							],
							[
								4139,
								4171
							],
							[
								4333,
								4351
							],
							[
								4612,
								4629
							],
							[
								4936,
								4947
							],
							[
								4967,
								4974
							],
							[
								5001,
								5010
							],
							[
								5130,
								5136
							],
							[
								5248,
								5256
							],
							[
								5371,
								5380
							],
							[
								5406,
								5415
							],
							[
								5446,
								5450
							],
							[
								5511,
								5515
							],
							[
								5591,
								5607
							],
							[
								5864,
								5879
							],
							[
								5946,
								5955
							],
							[
								6016,
								6024
							],
							[
								6073,
								6082
							],
							[
								6129,
								6139
							],
							[
								6204,
								6214
							],
							[
								6251,
								6261
							],
							[
								6349,
								6360
							],
							[
								6566,
								6570
							],
							[
								6751,
								6762
							],
							[
								6993,
								6997
							],
							[
								7049,
								7063
							],
							[
								7113,
								7163
							],
							[
								7233,
								7288
							],
							[
								7293,
								7327
							],
							[
								7506,
								7510
							],
							[
								7591,
								7606
							],
							[
								7694,
								7750
							],
							[
								7824,
								7834
							],
							[
								8038,
								8045
							],
							[
								8162,
								8173
							],
							[
								8210,
								8239
							],
							[
								8300,
								8331
							],
							[
								8533,
								8543
							],
							[
								8598,
								8611
							],
							[
								8648,
								8677
							],
							[
								8738,
								8769
							],
							[
								8973,
								8983
							],
							[
								9038,
								9042
							],
							[
								9140,
								9166
							],
							[
								12158,
								12162
							],
							[
								13177,
								13189
							],
							[
								13312,
								13320
							],
							[
								13406,
								13417
							],
							[
								13540,
								13553
							],
							[
								13676,
								13688
							],
							[
								13782,
								13791
							],
							[
								13843,
								13854
							],
							[
								13943,
								13952
							],
							[
								14072,
								14088
							],
							[
								14146,
								14162
							],
							[
								14210,
								14223
							],
							[
								14370,
								14385
							],
							[
								14532,
								14547
							],
							[
								14804,
								14818
							],
							[
								14904,
								14916
							],
							[
								14983,
								14995
							],
							[
								15101,
								15118
							],
							[
								15204,
								15215
							],
							[
								15275,
								15288
							],
							[
								15431,
								15439
							],
							[
								15547,
								15557
							],
							[
								15764,
								15773
							],
							[
								17579,
								17589
							],
							[
								19681,
								19687
							],
							[
								19979,
								19990
							],
							[
								20091,
								20141
							],
							[
								20246,
								20254
							],
							[
								20324,
								20332
							],
							[
								22141,
								22171
							],
							[
								22250,
								22260
							],
							[
								22278,
								22304
							],
							[
								22433,
								22441
							],
							[
								22524,
								22532
							],
							[
								22710,
								22715
							],
							[
								22753,
								22760
							],
							[
								22844,
								22858
							],
							[
								23451,
								23455
							],
							[
								23536,
								23541
							],
							[
								25095,
								25099
							],
							[
								26001,
								26015
							],
							[
								26079,
								26089
							],
							[
								26174,
								26196
							],
							[
								26418,
								26426
							],
							[
								26548,
								26567
							],
							[
								26665,
								26673
							],
							[
								26691,
								26713
							],
							[
								26834,
								26842
							],
							[
								26947,
								26973
							],
							[
								27328,
								27336
							],
							[
								27451,
								27462
							],
							[
								27480,
								27506
							],
							[
								27578,
								27582
							],
							[
								27687,
								27697
							],
							[
								27757,
								27761
							],
							[
								27824,
								27828
							],
							[
								27878,
								27882
							],
							[
								28292,
								28302
							],
							[
								28334,
								28342
							],
							[
								28439,
								28448
							],
							[
								28466,
								28488
							],
							[
								28706,
								28718
							],
							[
								28736,
								28762
							],
							[
								28997,
								29005
							],
							[
								29068,
								29076
							],
							[
								30201,
								30220
							],
							[
								30336,
								30346
							],
							[
								30401,
								30409
							],
							[
								30518,
								30525
							],
							[
								30543,
								30565
							],
							[
								30910,
								30918
							],
							[
								31015,
								31024
							],
							[
								31048,
								31070
							],
							[
								31175,
								31186
							],
							[
								31204,
								31226
							],
							[
								31603,
								31620
							],
							[
								31638,
								31660
							],
							[
								31916,
								31924
							],
							[
								32035,
								32040
							],
							[
								32088,
								32111
							],
							[
								32233,
								32244
							],
							[
								32293,
								32305
							],
							[
								32367,
								32376
							],
							[
								32423,
								32433
							],
							[
								32471,
								32507
							],
							[
								33162,
								33174
							],
							[
								33220,
								33229
							],
							[
								33276,
								33286
							],
							[
								33466,
								33471
							],
							[
								33527,
								33535
							],
							[
								33628,
								33651
							],
							[
								33910,
								33926
							],
							[
								34145,
								34161
							],
							[
								34402,
								34415
							],
							[
								34561,
								34571
							],
							[
								34619,
								34630
							],
							[
								34722,
								34734
							],
							[
								34784,
								34797
							],
							[
								34845,
								34857
							],
							[
								34907,
								34920
							],
							[
								35168,
								35181
							],
							[
								35216,
								35231
							],
							[
								35311,
								35366
							],
							[
								35916,
								35926
							],
							[
								36169,
								36189
							],
							[
								36272,
								36318
							],
							[
								37817,
								37882
							],
							[
								38211,
								38215
							],
							[
								38491,
								38495
							],
							[
								39224,
								39231
							],
							[
								39285,
								39292
							],
							[
								39380,
								39387
							],
							[
								39568,
								39603
							],
							[
								39642,
								39662
							],
							[
								39692,
								39698
							],
							[
								39719,
								39727
							],
							[
								39834,
								39867
							],
							[
								40132,
								40157
							],
							[
								40498,
								40540
							],
							[
								41072,
								41125
							],
							[
								42572,
								42578
							],
							[
								42628,
								42634
							],
							[
								42799,
								42805
							],
							[
								42947,
								42963
							],
							[
								43508,
								43515
							],
							[
								43558,
								43562
							],
							[
								43582,
								43589
							],
							[
								43710,
								43737
							],
							[
								43796,
								43811
							],
							[
								44142,
								44149
							],
							[
								44209,
								44223
							],
							[
								44268,
								44283
							],
							[
								44309,
								44313
							],
							[
								44345,
								44356
							],
							[
								44389,
								44401
							],
							[
								44435,
								44448
							],
							[
								44524,
								44529
							],
							[
								44609,
								44613
							],
							[
								44637,
								44649
							],
							[
								44712,
								44717
							],
							[
								44747,
								44751
							],
							[
								44775,
								44784
							],
							[
								44797,
								44813
							],
							[
								45155,
								45159
							],
							[
								45183,
								45194
							],
							[
								45253,
								45257
							],
							[
								45295,
								45299
							],
							[
								45331,
								45347
							],
							[
								45386,
								45390
							],
							[
								45408,
								45412
							],
							[
								45456,
								45508
							],
							[
								45696,
								45712
							],
							[
								46072,
								46093
							],
							[
								46119,
								46123
							],
							[
								46565,
								46570
							],
							[
								46605,
								46632
							],
							[
								46826,
								46854
							],
							[
								47035,
								47060
							],
							[
								47135,
								47167
							],
							[
								47298,
								47302
							],
							[
								47439,
								47468
							],
							[
								47578,
								47582
							],
							[
								47876,
								47898
							],
							[
								48937,
								48992
							],
							[
								49072,
								49079
							],
							[
								49150,
								49157
							],
							[
								49194,
								49220
							],
							[
								49314,
								49322
							],
							[
								49388,
								49396
							],
							[
								49458,
								49469
							],
							[
								49623,
								49632
							],
							[
								49651,
								49677
							],
							[
								49730,
								49739
							],
							[
								49792,
								49818
							],
							[
								49870,
								49889
							],
							[
								49965,
								49982
							],
							[
								50017,
								50041
							],
							[
								50300,
								50305
							],
							[
								50363,
								50370
							],
							[
								50452,
								50463
							],
							[
								51171,
								51181
							],
							[
								51229,
								51233
							],
							[
								51424,
								51435
							],
							[
								51446,
								51470
							],
							[
								51538,
								51570
							],
							[
								51726,
								51751
							],
							[
								51815,
								51851
							],
							[
								51921,
								51961
							],
							[
								52213,
								52241
							],
							[
								52288,
								52319
							],
							[
								52548,
								52590
							],
							[
								52793,
								52818
							],
							[
								52976,
								52997
							],
							[
								53042,
								53061
							],
							[
								53395,
								53422
							],
							[
								53490,
								53509
							],
							[
								53713,
								53748
							],
							[
								53866,
								53914
							],
							[
								54160,
								54187
							],
							[
								54805,
								54846
							],
							[
								55084,
								55111
							],
							[
								55254,
								55275
							],
							[
								55336,
								55363
							],
							[
								55408,
								55440
							],
							[
								55690,
								55716
							],
							[
								55910,
								55929
							],
							[
								56591,
								56616
							],
							[
								56664,
								56695
							],
							[
								56762,
								56777
							],
							[
								56972,
								56993
							],
							[
								57110,
								57146
							],
							[
								57366,
								57385
							],
							[
								57789,
								57810
							],
							[
								58027,
								58060
							],
							[
								58120,
								58143
							],
							[
								58206,
								58223
							],
							[
								58343,
								58347
							],
							[
								59174,
								59199
							],
							[
								59406,
								59433
							],
							[
								59898,
								59902
							],
							[
								60113,
								60129
							],
							[
								60340,
								60359
							],
							[
								60480,
								60485
							],
							[
								60823,
								60862
							],
							[
								60961,
								61004
							],
							[
								61214,
								61229
							],
							[
								61495,
								61531
							],
							[
								61627,
								61655
							],
							[
								61925,
								61969
							],
							[
								62031,
								62062
							],
							[
								62121,
								62142
							],
							[
								62201,
								62224
							],
							[
								62647,
								62673
							],
							[
								62741,
								62767
							],
							[
								62831,
								62850
							],
							[
								62892,
								62927
							],
							[
								63101,
								63143
							],
							[
								63328,
								63349
							],
							[
								63525,
								63555
							],
							[
								63775,
								63801
							],
							[
								64230,
								64249
							],
							[
								64310,
								64333
							],
							[
								64868,
								64895
							],
							[
								64945,
								64968
							],
							[
								65125,
								65161
							],
							[
								65231,
								65260
							],
							[
								65318,
								65341
							],
							[
								65519,
								65544
							],
							[
								65628,
								65670
							],
							[
								65769,
								65794
							],
							[
								66098,
								66153
							],
							[
								66407,
								66436
							],
							[
								66687,
								66731
							],
							[
								66863,
								66907
							],
							[
								66994,
								67022
							],
							[
								67166,
								67190
							],
							[
								67438,
								67482
							],
							[
								67804,
								67857
							],
							[
								67956,
								68001
							],
							[
								68076,
								68095
							],
							[
								68156,
								68177
							],
							[
								68354,
								68381
							],
							[
								68430,
								68460
							],
							[
								68472,
								68493
							],
							[
								68505,
								68537
							],
							[
								68679,
								68709
							],
							[
								68721,
								68762
							],
							[
								68774,
								68813
							],
							[
								68825,
								68848
							],
							[
								68860,
								68883
							],
							[
								68895,
								68914
							],
							[
								68926,
								68968
							],
							[
								68980,
								69005
							],
							[
								69017,
								69044
							],
							[
								69056,
								69094
							],
							[
								69106,
								69188
							],
							[
								69200,
								69267
							],
							[
								69279,
								69304
							],
							[
								69316,
								69358
							],
							[
								69543,
								69581
							],
							[
								69593,
								69650
							],
							[
								69662,
								69700
							],
							[
								69712,
								69737
							],
							[
								69749,
								69776
							],
							[
								69788,
								69826
							],
							[
								69838,
								69894
							],
							[
								69988,
								70039
							],
							[
								70051,
								70126
							],
							[
								70138,
								70169
							],
							[
								70181,
								70200
							],
							[
								70212,
								70248
							],
							[
								70344,
								70365
							],
							[
								70377,
								70407
							],
							[
								70419,
								70442
							],
							[
								70454,
								70497
							],
							[
								70509,
								70547
							],
							[
								70559,
								70603
							],
							[
								70615,
								70639
							],
							[
								70756,
								70786
							],
							[
								70798,
								70824
							],
							[
								70868,
								70915
							],
							[
								70927,
								70969
							],
							[
								70981,
								71019
							],
							[
								71031,
								71067
							],
							[
								71079,
								71126
							],
							[
								71138,
								71161
							],
							[
								71173,
								71207
							],
							[
								71415,
								71458
							],
							[
								71470,
								71522
							],
							[
								71626,
								71673
							],
							[
								71685,
								71713
							],
							[
								71725,
								71763
							],
							[
								71775,
								71816
							],
							[
								71828,
								71847
							],
							[
								71859,
								71888
							],
							[
								71900,
								71926
							],
							[
								71938,
								71966
							],
							[
								71978,
								72030
							],
							[
								72042,
								72070
							],
							[
								72082,
								72116
							],
							[
								72248,
								72269
							],
							[
								72281,
								72304
							],
							[
								72316,
								72354
							],
							[
								72366,
								72404
							],
							[
								72416,
								72437
							],
							[
								72449,
								72474
							],
							[
								72486,
								72511
							],
							[
								72523,
								72554
							],
							[
								72641,
								72660
							],
							[
								72672,
								72695
							],
							[
								72707,
								72748
							],
							[
								72760,
								72803
							],
							[
								72815,
								72842
							],
							[
								72854,
								72892
							],
							[
								72904,
								72937
							],
							[
								72949,
								72985
							],
							[
								72997,
								73016
							],
							[
								73082,
								73145
							],
							[
								73157,
								73213
							],
							[
								73225,
								73248
							],
							[
								73260,
								73295
							],
							[
								73307,
								73363
							],
							[
								73375,
								73428
							],
							[
								73440,
								73485
							],
							[
								73497,
								73542
							],
							[
								73554,
								73599
							],
							[
								73611,
								73641
							],
							[
								73653,
								73700
							],
							[
								73712,
								73737
							],
							[
								73749,
								73782
							],
							[
								73794,
								73824
							],
							[
								73836,
								73876
							],
							[
								73888,
								73941
							],
							[
								73953,
								73976
							],
							[
								73988,
								74009
							],
							[
								74021,
								74061
							],
							[
								74073,
								74107
							],
							[
								74119,
								74141
							],
							[
								74153,
								74187
							],
							[
								74199,
								74222
							],
							[
								74234,
								74276
							],
							[
								74288,
								74319
							],
							[
								74331,
								74357
							],
							[
								74370,
								74400
							],
							[
								74974,
								75014
							],
							[
								75236,
								75240
							],
							[
								76393,
								76433
							],
							[
								76816,
								76876
							],
							[
								77312,
								77338
							],
							[
								77446,
								77484
							],
							[
								77692,
								77696
							],
							[
								77995,
								78025
							],
							[
								78496,
								78500
							],
							[
								79164,
								79203
							],
							[
								79867,
								79924
							],
							[
								80245,
								80269
							],
							[
								80742,
								80772
							],
							[
								81036,
								81077
							],
							[
								81212,
								81251
							],
							[
								81263,
								81308
							],
							[
								81320,
								81348
							],
							[
								81360,
								81396
							],
							[
								81540,
								81578
							],
							[
								81590,
								81629
							],
							[
								81641,
								81682
							],
							[
								81694,
								81729
							],
							[
								81741,
								81788
							],
							[
								81800,
								81839
							],
							[
								81852,
								81886
							],
							[
								81898,
								81946
							],
							[
								81958,
								82001
							],
							[
								82013,
								82062
							],
							[
								82074,
								82124
							],
							[
								82136,
								82185
							],
							[
								82439,
								82463
							],
							[
								82520,
								82545
							],
							[
								82924,
								82953
							],
							[
								83146,
								83151
							],
							[
								83426,
								83447
							],
							[
								83514,
								83572
							],
							[
								83718,
								83722
							],
							[
								84326,
								84334
							],
							[
								84396,
								84404
							],
							[
								84524,
								84528
							],
							[
								84781,
								84839
							],
							[
								84941,
								84946
							],
							[
								85336,
								85343
							],
							[
								85532,
								85585
							],
							[
								85822,
								85898
							],
							[
								86060,
								86065
							],
							[
								86231,
								86311
							],
							[
								86438,
								86446
							],
							[
								86796,
								86851
							],
							[
								87185,
								87195
							],
							[
								87261,
								87286
							],
							[
								87324,
								87334
							],
							[
								87400,
								87415
							],
							[
								87493,
								87508
							],
							[
								87547,
								87551
							],
							[
								87631,
								87656
							],
							[
								87695,
								87703
							],
							[
								87745,
								87774
							],
							[
								87804,
								87808
							]
						],
						"symlist":
						[
							" (ast, r) =>",
							" function DeepFind(ast, pred, flags = deep.RETURN_VALUE)",
							" function* DeepSelect(ast, pred, flags = deep.RETURN_VALUE)",
							" function DeepCachePath(ast, path, m = ",
							"(ast))",
							" function DeepPathOf(ast, value)",
							" function DeepGet(ast, path, ...args)",
							"function FileTime(filename)",
							"function Newer(file, ...other)",
							"other =>",
							"function Older(file, other)",
							"function GetSubscripts(str)",
							"m =>",
							"function TrimSubscripts(str, sub)",
							" function nameOrIdPred(name_or_id, ...args)",
							" node =>",
							"List",
							"constructor(...args)",
							"filter(callback, thisArg = null)",
							"callback = elem =>",
							"slice(start, end)",
							"get first()",
							"elem =>",
							"entries()",
							"keys()",
							"values()",
							"toArray()",
							"(a, n) =>",
							"List",
							"Node",
							"constructor(ast)",
							"static get(ast)",
							"get ast()",
							"get id()",
							"get loc()",
							"get file()",
							" (v, k) =>",
							" (v, k) =>",
							"get range()",
							"r =>",
							"toJSON(obj)",
							"Node",
							"(node, ast) =>",
							" function PathOf(node, ast = globalThis['$'].data)",
							" function* Hier(node_or_path, t = (p, ast, abort) => p.",
							"(ast), ast = globalThis['$'].data)",
							"p =>",
							"abortFn = () =>",
							" function FindType(typeName, ast = globalThis['$'].data)",
							"([tok]) =>",
							"node =>",
							"PointerType",
							"constructor(pointee, ast, ns)",
							"static fromString(str, ast, ns)",
							"toString()",
							"ReferenceType",
							"constructor(pointee, ast, ns)",
							"static fromString(str, ast, ns)",
							"toString()",
							"Type",
							"constructor(node, ast, ns)",
							"n =>",
							"get regExp()",
							"isEnum()",
							"isPointer()",
							"isReference()",
							"isFunction()",
							"isArray()",
							"isInteger()",
							"arrayOf()",
							"get subscripts()",
							"trimSubscripts()",
							"get pointer()",
							"get reference()",
							"getPointer(ast)",
							"get unsigned()",
							"get signed()",
							"isCompound()",
							"isFloatingPoint()",
							"get alias()",
							"get aliases()",
							"isEnum()",
							"isString()",
							"get ffi()",
							"get size()",
							"toJS()",
							"toJSON(obj)",
							"static get(name_or_id, ast = globalThis['$'].data)",
							" node =>",
							" node =>",
							"function RoundTo(value, align)",
							"RecordDecl",
							"constructor(node, ast, ns)",
							"child =>",
							"child =>",
							"() =>",
							"node =>",
							"(acc, node) =>",
							"i =>",
							" n =>",
							"n =>",
							"([name, t]) =>",
							"get size()",
							"(acc, [name, type]) =>",
							"toJSON()",
							"([name, member]) =>",
							"EnumDecl",
							"constructor(node, ast)",
							"child =>",
							"({ name, type, inner }) =>",
							"toJSON()",
							"TypedefDecl",
							"constructor(node, ast, ns)",
							"n =>",
							" (v, k) =>",
							"n =>",
							"n =>",
							"n =>",
							"get size()",
							"toJSON()",
							"FieldDecl",
							"constructor(node, ast)",
							"FunctionDecl",
							"constructor(node, ast, ns)",
							"child =>",
							"child =>",
							"({ name, type }) =>",
							"isMethod()",
							"toJSON()",
							"VarDecl",
							"constructor(node, ast)",
							"toJSON()",
							"ClassDecl",
							"constructor(node, ast)",
							"BuiltinType",
							"constructor(node, ast)",
							"ConstantArrayType",
							"constructor(node, ast)",
							"toJSON()",
							"Range",
							"constructor(begin, end)",
							"get begin()",
							"set begin(v)",
							"get end()",
							"set end(v)",
							"toString(opts = { printFile: true })",
							"get length()",
							"toArray()",
							"toObject()",
							"Range",
							"Location",
							"static at(file, offset)",
							"static from(loc)",
							"constructor(loc)",
							"update(other)",
							"get line()",
							"set line(v)",
							"get column()",
							"set column(v)",
							"get offset()",
							"set offset(v)",
							" (t, ...c) =>",
							"'\\x1b[m' : t =>",
							"toString(opts = { printFile: true, onlyOffset: false })",
							"toObject()",
							"localeCompare(other)",
							" function TypeFactory(node, ast, cache = true)",
							"async function SpawnCompiler(compiler, input, outfile, args = [])",
							"p =>",
							"p =>",
							"line =>",
							"line =>",
							"line =>",
							" function PipeReader(fd, callback)",
							"(resolve, reject) =>",
							" () =>",
							" data =>",
							" function ReadPipe(fd, callback)",
							" function ReadOutput(fd)",
							"async function SourceDependencies(...args)",
							"async function AstDump(compiler, source, args, force)",
							"size()",
							"json()",
							"data()",
							"SetFile = loc =>",
							"files()",
							"n =>",
							"file =>",
							"pred2 = (used, implicit) =>",
							" node =>",
							"types()",
							" n =>",
							" () =>",
							"List",
							"functions()",
							" n =>",
							" () =>",
							" n =>",
							"List",
							"namespaces()",
							" n =>",
							"List",
							"classes()",
							"predicate = n =>",
							"List",
							"variables()",
							"n =>",
							"List",
							"names(depth = 1)",
							"n =>",
							"n =>",
							" function NameFor(decl, ast = globalThis['$']?.data)",
							" (value, key) =>",
							" function NodeType(n)",
							"t =>",
							" n =>",
							" function NodeName(n, name)",
							" function* RawLocation(path)",
							" function* RawRange(path)",
							" function CompleteLocation(path)",
							"l =>",
							" function CompleteRange(path)",
							"l =>",
							" function GetLoc(node)",
							" function GetTypeNode(node, ast = globalThis['$'].data)",
							"node =>",
							"node =>",
							" function GetTypeStr(node)",
							"inner =>",
							"inner =>",
							"([n, t]) =>",
							"NodeError",
							"constructor(message, node)",
							"NodeError",
							" function NodePrinter(ast)",
							" function put(str)",
							" function trim()",
							"printer = function(node)",
							"get()",
							"value()",
							"value(node)",
							"toString()",
							"i =>",
							"NodePrinter",
							"AbiTagAttr(abi_tag_attr)",
							"AccessSpecDecl(access_spec_decl)",
							"AlignedAttr(aligned_attr)",
							"AlwaysInlineAttr(always_inline_attr)",
							"ArraySubscriptExpr(array_subscript_expr)",
							"AsmLabelAttr(asm_label_attr)",
							"BinaryOperator(binary_operator)",
							"BlockCommandComment(block_command_comment)",
							"BuiltinAttr(builtin_attr)",
							"BreakStmt(break_stmt)",
							"CallExpr(call_expr)",
							"RecoveryExpr(recovery_expr)",
							"CaseStmt(case_stmt)",
							"CharacterLiteral(character_literal)",
							"CompoundAssignOperator(compound_assign_operator)",
							"CompoundStmt(compound_stmt)",
							"ConditionalOperator(conditional_operator)",
							"ConstantExpr(constant_expr)",
							"ConstAttr(const_attr)",
							"ContinueStmt(continue_stmt)",
							"CStyleCastExpr(cstyle_cast_expr)",
							"DeclRefExpr(decl_ref_expr)",
							"DeclStmt(decl_stmt)",
							"DefaultStmt(default_stmt)",
							"DeprecatedAttr(deprecated_attr)",
							"DoStmt(do_stmt)",
							"EmptyDecl(empty_decl)",
							"EnumConstantDecl(enum_constant_decl)",
							"EnumDecl(enum_decl)",
							"FieldDecl(field_decl)",
							"FloatingLiteral(floating_literal)",
							"FormatAttr(format_attr)",
							"ForStmt(for_stmt)",
							"n =>",
							"FullComment(full_comment)",
							"FunctionDecl(function_decl)",
							"n =>",
							" n =>",
							"GotoStmt(goto_stmt)",
							" n =>",
							"HTMLEndTagComment(html_end_tag_comment)",
							"HTMLStartTagComment(html_start_tag_comment)",
							"IfStmt(if_stmt)",
							"ImplicitCastExpr(implicit_cast_expr)",
							"InitListExpr(init_list_expr)",
							"InlineCommandComment(inline_command_comment)",
							"IntegerLiteral(integer_literal)",
							"LabelStmt(label_stmt)",
							"MemberExpr(member_expr)",
							"NonNullAttr(non_null_attr)",
							"NoThrowAttr(no_throw_attr)",
							"NullStmt(null_stmt)",
							"ParagraphComment(paragraph_comment)",
							"ParamCommandComment(param_command_comment)",
							"ParenExpr(paren_expr)",
							"ParenListExpr(paren_list_expr)",
							"ParmVarDecl(parm_var_decl)",
							"PureAttr(pure_attr)",
							"RecordDecl(record_decl)",
							"RestrictAttr(restrict_attr)",
							"ReturnStmt(return_stmt)",
							"ReturnsTwiceAttr(returns_twice_attr)",
							"StringLiteral(string_literal)",
							"SwitchStmt(switch_stmt)",
							"TextComment(text_comment)",
							"TranslationUnitDecl(translation_unit_decl)",
							"TypedefDecl(typedef_decl)",
							"UnaryExprOrTypeTraitExpr(unary_expr_or_type_trait_expr)",
							"UnaryOperator(unary_operator)",
							"UnresolvedLookupExpr(unresolved_lookup_expr)",
							"UnresolvedMemberExpr(unresolved_member_expr)",
							"VarDecl(var_decl, base_type)",
							"([offset, subscript]) =>",
							"VerbatimBlockComment(verbatim_block_comment)",
							"VerbatimBlockLineComment(verbatim_block_line_comment)",
							"WarnUnusedResultAttr(warn_unused_result_attr)",
							"WeakAttr(weak_attr)",
							"WhileStmt(while_stmt)",
							"OverrideAttr(override_attr)",
							"AddrLabelExpr(addr_label_expr)",
							"AliasAttr(alias_attr)",
							"AlignValueAttr(align_value_attr)",
							"AllocSizeAttr(alloc_size_attr)",
							"ArrayInitIndexExpr(array_init_index_expr)",
							"ArrayInitLoopExpr(array_init_loop_expr)",
							"AtomicExpr(atomic_expr)",
							"AtomicType(atomic_type)",
							"AutoType(auto_type)",
							"BuiltinTemplateDecl(builtin_template_decl)",
							"BuiltinType(builtin_type)",
							"CallbackAttr(callback_attr)",
							"ClassTemplateDecl(class_template_decl)",
							"ClassTemplatePartialSpecializationDecl(class_template_partial_specialization_decl)",
							"ClassTemplateSpecializationDecl(class_template_specialization_decl)",
							"ComplexType(complex_type)",
							"CompoundLiteralExpr(compound_literal_expr)",
							"ConstantArrayType(constant_array_type)",
							"ConstructorUsingShadowDecl(constructor_using_shadow_decl)",
							"ConvertVectorExpr(convert_vector_expr)",
							"DecayedType(decayed_type)",
							"DecltypeType(decltype_type)",
							"DependentNameType(dependent_name_type)",
							"DependentScopeDeclRefExpr(dependent_scope_decl_ref_expr)",
							"DependentSizedArrayType(dependent_sized_array_type)",
							"DependentTemplateSpecializationType(dependent_template_specialization_type)",
							"ElaboratedType(elaborated_type)",
							"EnumType(enum_type)",
							"ExprWithCleanups(expr_with_cleanups)",
							"FinalAttr(final_attr)",
							"FormatArgAttr(format_arg_attr)",
							"FriendDecl(friend_decl)",
							"FunctionNoProtoType(function_no_proto_type)",
							"FunctionProtoType(function_proto_type)",
							"FunctionTemplateDecl(function_template_decl)",
							"GCCAsmStmt(gcc_asm_stmt)",
							"GNUInlineAttr(gnu_inline_attr)",
							"GNUNullExpr(gnu_null_expr)",
							"ImplicitValueInitExpr(implicit_value_init_expr)",
							"IncompleteArrayType(incomplete_array_type)",
							"IndirectFieldDecl(indirect_field_decl)",
							"IndirectGotoStmt(indirect_goto_stmt)",
							"InjectedClassNameType(injected_class_name_type)",
							"LambdaExpr(lambda_expr)",
							"LinkageSpecDecl(linkage_spec_decl)",
							"LValueReferenceType(l_value_reference_type)",
							"MaterializeTemporaryExpr(materialize_temporary_expr)",
							"MaxFieldAlignmentAttr(max_field_alignment_attr)",
							"MayAliasAttr(may_alias_attr)",
							"MemberPointerType(member_pointer_type)",
							"MinVectorWidthAttr(min_vector_width_attr)",
							"ModeAttr(mode_attr)",
							"NamespaceDecl(namespace_decl)",
							"NoDebugAttr(no_debug_attr)",
							"NoInlineAttr(no_inline_attr)",
							"NonTypeTemplateParmDecl(non_type_template_parm_decl)",
							"OffsetOfExpr(offset_of_expr)",
							"OpaqueValueExpr(opaque_value_expr)",
							"OwnerAttr(owner_attr)",
							"PackedAttr(packed_attr)",
							"PackExpansionExpr(pack_expansion_expr)",
							"PackExpansionType(pack_expansion_type)",
							"ParenType(paren_type)",
							"PointerAttr(pointer_attr)",
							"PointerType(pointer_type)",
							"PredefinedExpr(predefined_expr)",
							"QualType(qual_type)",
							"RecordType(record_type)",
							"ReturnsNonNullAttr(returns_non_null_attr)",
							"RValueReferenceType(r_value_reference_type)",
							"SentinelAttr(sentinel_attr)",
							"ShuffleVectorExpr(shuffle_vector_expr)",
							"SizeOfPackExpr(size_of_pack_expr)",
							"StaticAssertDecl(static_assert_decl)",
							"StmtExpr(stmt_expr)",
							"SubstNonTypeTemplateParmExpr(subst_non_type_template_parm_expr)",
							"SubstTemplateTypeParmType(subst_template_type_parm_type)",
							"TargetAttr(target_attr)",
							"TemplateArgument(template_argument)",
							"TemplateSpecializationType(template_specialization_type)",
							"TemplateTemplateParmDecl(template_template_parm_decl)",
							"TemplateTypeParmDecl(template_type_parm_decl)",
							"TemplateTypeParmType(template_type_parm_type)",
							"TParamCommandComment(t_param_command_comment)",
							"TypeAliasDecl(type_alias_decl)",
							"TypeAliasTemplateDecl(type_alias_template_decl)",
							"TypedefType(typedef_type)",
							"TypeOfExprType(type_of_expr_type)",
							"TypeTraitExpr(type_trait_expr)",
							"UnaryTransformType(unary_transform_type)",
							"UnresolvedUsingValueDecl(unresolved_using_value_decl)",
							"UnusedAttr(unused_attr)",
							"UsingDecl(using_decl)",
							"UsingDirectiveDecl(using_directive_decl)",
							"UsingShadowDecl(using_shadow_decl)",
							"VAArgExpr(va_arg_expr)",
							"VarTemplateDecl(var_template_decl)",
							"VectorType(vector_type)",
							"VerbatimLineComment(verbatim_line_comment)",
							"VisibilityAttr(visibility_attr)",
							"WeakRefAttr(weak_ref_attr)",
							"CXXRecordDecl(cxx_record_decl)",
							"CXXConstructorDecl(cxx_constructor_decl)",
							"n =>",
							"CXXCtorInitializer(cxx_ctor_initializer)",
							"CXXDependentScopeMemberExpr(cxx_dependent_scope_member_expr)",
							"CXXThisExpr(cxx_this_expr)",
							"CXXDestructorDecl(cxx_destructor_decl)",
							"n =>",
							"CXXMethodDecl(cxx_method_decl)",
							"n =>",
							"CXXStaticCastExpr(cxx_static_cast_expr)",
							"CXXUnresolvedConstructExpr(cxx_unresolved_construct_expr)",
							"CXXNewExpr(cxx_new_expr)",
							"CXXDeleteExpr(cxx_delete_expr)",
							"CXXBoolLiteralExpr(cxx_bool_literal_expr)",
							"CXX11NoReturnAttr(cxx11_no_return_attr)",
							"CXXBindTemporaryExpr(cxx_bind_temporary_expr)",
							"CXXCatchStmt(cxx_catch_stmt)",
							"CXXConstructExpr(cxx_construct_expr)",
							"CXXConversionDecl(cxx_conversion_decl)",
							"CXXDefaultArgExpr(cxx_default_arg_expr)",
							"CXXDefaultInitExpr(cxx_default_init_expr)",
							"CXXForRangeStmt(cxx_for_range_stmt)",
							"CXXFunctionalCastExpr(cxx_functional_cast_expr)",
							"CXXMemberCallExpr(cxx_member_call_expr)",
							"CXXNoexceptExpr(cxx_noexcept_expr)",
							"CXXNullPtrLiteralExpr(cxx_null_ptr_literal_expr)",
							"CXXOperatorCallExpr(cxx_operator_call_expr)",
							"CXXReinterpretCastExpr(cxx_reinterpret_cast_expr)",
							"CXXScalarValueInitExpr(cxx_scalar_value_init_expr)",
							"CXXTemporaryObjectExpr(cxx_temporary_object_expr)",
							"CXXTryStmt(cxx_try_stmt)",
							" function PrintNode(node)",
							" function PrintAst(node, ast)",
							"get()",
							" function isNode(obj)",
							" function GetType(name_or_id, ast = globalThis['$']?.data)",
							"n =>",
							" node =>",
							" node =>",
							"r =>",
							" function GetClass(name_or_id, ast = globalThis['$'].data)",
							" n =>",
							"bases()",
							" function* GetBases(node, ast = globalThis['$'].data)",
							" function GetByName(arg, ast = globalThis['$'].data, predicate = () => true)",
							" n =>",
							" function GetNamespace(arg, root = globalThis['$'].data, predicate = () => true)",
							" n =>",
							" function NamespaceOf(node, ast = globalThis['$'].data)",
							"toString()",
							" function GetFields(node)",
							" (v, k) =>",
							" ([v, p]) =>",
							"([loc, ptr]) =>",
							"i =>",
							" function GetParams(node)",
							"child =>",
							" function PathRemoveLoc(path)",
							"p =>"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAACNDQAAICBkID0+CiAgZCA9PgogIHRyYWNlUHJveHkgPSAob2JqLCBoYW5kbGVyKSA9PgpmdW5jdGlvbihuYW1lLCBhcmdzKQogIGdldCh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpCiAgbWVtYmVyID0gZnVuY3Rpb24oKQpDb25jYXRJdGVyYXRvciA9IGl0ZXJhdG9yID0+CmdlbiA9PgooLi4uYXJncykgPT4KICB0b1N0cmluZygpCkltcG9ydE1vZHVsZShtb2R1bGVQYXRoLCAuLi5hcmdzKQogIG1vZHVsZSA9PgooYWNjLCBpdGVtKSA9PgpDb21tYW5kTGluZSgpCiguLi5hcmdzKSA9PgooLi4uYXJncykgPT4KKG1vZHVsZSwgLi4uYXJncykgPT4KICBtID0+CiAgLnNob3cgPSB2YWx1ZSA9PgogIC5wcmludE5vZGUgPSBhcmcgPT4KKCkgPT4KKGl0ZW0sIGksIGEpID0+CiAgZW50cnkgPT4KICBlbnRyeSA9PgpJbmNsdWRlQWxsKGRpciwgbWF4RGVwdGggPSBJbmZpbml0eSwgcHJlZCA9IGVudHJ5ID0+IC9cLltjaF0kLy4KKGVudHJ5KSkKU2VsZWN0TG9jYXRpb25zKG5vZGUpCm4gPT4KICBwcm9wID0+CkxvY2F0aW9uU3RyaW5nKGxvYykKICBub2RlID0+ClN0cnVjdHMobm9kZXMpCiAgbm9kZSA9PgogIGZpZWxkID0+CiAgbm9kZSA9PgooZmllbGQsIGkpID0+ClRhYmxlKGxpc3QsIHByZWQgPSAobiwgbCkgPT4gdHJ1ZSkKKG4sIGkpID0+CiAgZSA9PgogIGsgPT4KKFtpLCBsLCBuXSkgPT4KICByZXR1cm5UeXBlKG4pCiAgbnVtQXJncyhuKQpQYXJhbXMobikKICBwID0+CiAgayA9PgooW2ksIGwsIG5dKSA9PgooaywgaikgPT4KKGFjYywgbmFtZSkgPT4KICBwYWRUcnVuYyhsZW4sIHBhZCA9ICcgJykKcyA9PgoobmFtZSwgaSkgPT4KICBwYWQgPSAoY29scywgcGFkLCBzZXApID0+CihrZXksIGkpID0+CihzLCBjb2wpID0+CihhY2MsIG4pID0+CihhY2MsIHJvdykgPT4KUHJpbnRSYW5nZShyYW5nZSwgZmlsZSkKT3ZlcmxhcFJhbmdlKHIxLCByMikKR2V0UmFuZ2UgPSByID0+CkluUmFuZ2UgPSAoaSwgcikgPT4KUGFyZW50Tm9kZShub2RlLCBhc3QgPSAkLmRhdGEpCk5leHRTaWJsaW5nKG5vZGUsIGFzdCA9ICQuZGF0YSkKUHJldmlvdXNTaWJsaW5nKG5vZGUsIGFzdCA9ICQuZGF0YSkKRmlyc3RDaGlsZChub2RlLCBhc3QgPSAkLmRhdGEpCkxhc3RDaGlsZChub2RlLCBhc3QgPSAkLmRhdGEpClRlcm1pbmF0ZShleGl0Q29kZSkKUGFyc2VTdHJ1Y3RzKHRleHQpCihkZWNsLCBpbmNsdWRlcykKICBuYW1lID0+Ckluc3BlY3RTdHJ1Y3QoZGVjbCwgaW5jbHVkZXMsIGNvbXBpbGVyID0gJ2NsYW5nJykKICBsaW5lID0+CiAgbGluZSA9PgooY29sLCBpKSA9PgooW2ZpZWxkLCBvZmZzZXQsIHNpemVdKSA9PgooYWNjLCBsaW5lKSA9PgogIHRvU3RyaW5nKHNlcCA9ICcgJykKICBsaW5lID0+ClJvdW5kVG8odmFsdWUsIGFsaWduKQpNYWtlU3RydWN0Q2xhc3MoZGVjbCwgZmlsZW5hbWUpCkdlbmVyYXRlU3RydWN0Q2xhc3MoZGVjbCwgZmZpUHJlZml4ID0gJycpCiAgbGluZSA9PgooW2ZpZWxkLCBtZW1iZXJdKSA9PgpHZW5lcmF0ZUdldFNldChuYW1lLCBvZmZzZXQsIHR5cGUsIGZmaVByZWZpeCkKICB0b0hleCA9IHYgPT4KICB0b0hleCA9IHYgPT4KQnl0ZUxlbmd0aDJUeXBlZEFycmF5KGJ5dGVMZW5ndGgsIHNpZ25lZCwgZmxvYXRpbmcpCkJ5dGVMZW5ndGgyVmFsdWUoYnl0ZUxlbmd0aCwgc2lnbmVkLCBmbG9hdGluZykKRkZJX0Z1bmN0aW9uCiAgY29uc3RydWN0b3Iobm9kZSwgcHJlZml4ID0gJycpCihbbmFtZSwgdHlwZV0sIGlkeCkgPT4KICBnZW5lcmF0ZURlZmluZShmcCwgbGliKQoobmFtZSwgbGliKSA9PgogIGNvbG9yVGV4dCA9IHggPT4KICBnZW5lcmF0ZURvYygpCiAgcHVzaCA9ICguLi5hcmdzKSA9PgogIGZpZWxkID0+CihmaWVsZCwgY29sKSA9PgogIGpzID0gdHlwZSA9PgogIGdlbmVyYXRlQ2FsbCgpCihbbmFtZSwgdHlwZV0pID0+CiAgZ2VuZXJhdGUoZnAsIGxpYiwgZXhwKQogIGdlbmVyYXRlRnVuY3Rpb24oZnAsIGxpYikKKFtuYW1lLCB0eXBlXSkgPT4KICBwID0+CiAgcCA9PgogIGNvbXBpbGVGdW5jdGlvbihmcCwgbGliKQpGZFJlYWRlcihmZCwgYnVmZmVyU2l6ZSA9IDEwMjQpCihwdXNoLCBzdG9wKSA9PgpDb21tYW5kUmVhZChhcmdzKQogIHJlYWRlciA9PgpSZWFkT3V0cHV0KGZkKQpMaWJyYXJ5RXhwb3J0cyhmaWxlKQogIGxpbmUgPT4KICBsaW5lID0+CiAgY29sdW1uID0+CihhLCBiKSA9PgogIGVudHJ5ID0+ClNhdmVMaWJyYXJpZXMoKQooYWNjLCBbbiwgZV0pID0+ClByb2Nlc3NGaWxlKGZpbGUsIGRlYnVnID0gdHJ1ZSkKUGFyc2VFQ01BU2NyaXB0KGZpbGUsIHBhcmFtcyA9IHt9KQooZnIsIGkpID0+ClByaW50RUNNQVNjcmlwdChhc3QsIGNvbW1lbnRzLCBwcmludGVyID0gCih7IGluZGVudDogNCB9LCBjb21tZW50cykpClByaW50Q0FycmF5KHN0cmluZ3MpCk5hbWVzcGFjZXMobm9kZVBhdGgsIGFzdCA9ICQuZGF0YSkKICBnZXQgPSBwID0+CiAgcCA9PgogIG4gPT4KQ29uc3RhbnRzKG5vZGUsIHQgPSAobmFtZSwgdmFsdWUpID0+IFtuYW1lLCAhaXNOYU4oK3ZhbHVlKSA/ICt2YWx1ZSA6IHZhbHVlXSkKR2V0SW1wb3J0cyhhc3QgPSAkLmRhdGEpCm4gPT4KR2V0SWRlbnRpZmllcnMobm9kZXMsIGtleSA9IG51bGwpCihuLCBrKSA9PgpNZW1iZXJOYW1lcyhtZW1iZXJzLCBmbGFncyA9IDApCm4gPT4KcGF0aCA9PgogIHAgPT4KICBwID0+CiAgbmFtZSA9PgpuID0+Cihbbm9kZSwgcHRyXSkgPT4KICBwYXRoID0+CiAgcCA9PgogIG5hbWUgPT4KICBuYW1lID0+ClVuc2V0TG9jKG5vZGUsIHByZWQgPSAodiwgcCkgPT4gdHJ1ZSkKKHYsIGspID0+Ck1ha2VGRkkobm9kZSwgbGliLCBleHAsIGZwKQooKQpNYWtlSWQobmFtZSkKTWFrZVF1aWNrSlNDbGFzcyhub2RlLCBhc3QgPSAkKQooY25hbWUsIHZuYW1lID0gJ3B0cicpID0+CihjbmFtZSwgdm5hbWUgPSAncHRyJykgPT4KbiA9PgpuID0+Cm4gPT4KbiA9PgogIG4gPT4KICBuID0+CiAgdG9fanN0eXBlID0gdHlwZSA9PgpBU1RTaGVsbCguLi5hcmdzKQooYSwgcCkgPT4KKGEsIHApID0+CihhLCBwKSA9PgogIGdldCBmbGFncygpCiAgdiA9PgogIHYgPT4KICBkID0+CiAgbCA9PgpDb21waWxlKGZpbGUsIC4uLmFyZ3MpCiAgc2VsZWN0KG5hbWVfb3JfaWQsIHByZWQgPSBuID0+IHRydWUsIC4uLmFyZ3MpCiAgZ2V0QnlJZE9yTmFtZShuYW1lX29yX2lkLCAuLi5hcmdzKQogIGdldFR5cGUobmFtZV9vcl9pZCkKbiA9PgogIHByZWRpY2F0ZSA9ICgpID0+CiAgbmFtZXNwYWNlT2Yobm9kZSkKICBnZXRDbGFzcyhuYW1lX29yX2lkKQogIGdldEZ1bmN0aW9uKG5hbWVfb3JfaWQpCm4gPT4KICBnZXRWYXJpYWJsZShuYW1lX29yX2lkKQpuID0+CiAgZ2V0TG9jKG5vZGUpCigpID0+CiAgcGF0aE9mKG5lZWRsZSwgbWF4RGVwdGggPSAxMCkKbiA9PgpQb2ludGVyLnByb3RvdHlwZS5jaGFpbiA9IGZ1bmN0aW9uKHN0ZXAsIGxpbWl0ID0gSW5maW5pdHkpCiAgLkYgPSBhcmcgPT4KICAuVCA9IGFyZyA9PgooKSA9Pgpub2RlID0+CiAgcyA9PgpmciA9PgAAAAAAAAAASi0AAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					8,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/clang-list.js",
						"symkeys":
						[
							[
								341,
								365
							],
							[
								529,
								535
							],
							[
								579,
								596
							],
							[
								707,
								735
							],
							[
								921,
								931
							],
							[
								981,
								991
							],
							[
								1970,
								1974
							],
							[
								2021,
								2025
							],
							[
								2123,
								2160
							],
							[
								2445,
								2489
							],
							[
								2497,
								2539
							],
							[
								2579,
								2586
							],
							[
								2630,
								2637
							],
							[
								3048,
								3059
							],
							[
								3106,
								3111
							],
							[
								3121,
								3126
							],
							[
								3139,
								3150
							],
							[
								3180,
								3185
							],
							[
								3198,
								3209
							],
							[
								3367,
								3373
							],
							[
								3792,
								3809
							],
							[
								3979,
								3989
							],
							[
								4286,
								4296
							],
							[
								4853,
								4858
							],
							[
								5001,
								5041
							],
							[
								5093,
								5126
							],
							[
								5311,
								5329
							],
							[
								5375,
								5391
							],
							[
								5407,
								5424
							],
							[
								5451,
								5474
							],
							[
								5490,
								5512
							],
							[
								5612,
								5623
							],
							[
								5746,
								5755
							],
							[
								5825,
								5836
							],
							[
								6054,
								6062
							],
							[
								6092,
								6100
							],
							[
								6119,
								6123
							],
							[
								6290,
								6301
							],
							[
								6356,
								6367
							],
							[
								6399,
								6408
							],
							[
								6558,
								6569
							],
							[
								6620,
								6634
							],
							[
								6773,
								6777
							],
							[
								7047,
								7086
							],
							[
								7180,
								7193
							],
							[
								7711,
								7743
							],
							[
								7907,
								7941
							]
						],
						"symlist":
						[
							"findLastIndex(predicate)",
							"tail()",
							"startsWith(start)",
							"async function main(...args)",
							" (a, p) =>",
							" (a, p) =>",
							"d =>",
							"v =>",
							"async function processFiles(...files)",
							"async function ReadAST(outfile, load = f => ",
							"(f), save = WriteFile, parse = JSON.parse)",
							"name =>",
							"stat =>",
							"async () =>",
							" a =>",
							"() =>",
							"async () =>",
							"() =>",
							"async () =>",
							"err =>",
							" (v, p) =>",
							"toString()",
							"toString()",
							" v =>",
							" function ListNodes(sysinc = false)",
							"NoSystemIncludes = ([p, n, l]) =>",
							" ([path, decl]) =>",
							"names = decls =>",
							"([path, decl]) =>",
							"declarations = decls =>",
							"([path, decl, loc]) =>",
							"([p, n]) =>",
							"(a, b) =>",
							"([p, n]) =>",
							"([p]) =>",
							"([p]) =>",
							"p =>",
							"([p, n]) =>",
							"([p, n]) =>",
							"(a, b) =>",
							"([p, n]) =>",
							"([p, n, l]) =>",
							"k =>",
							"([path, node, id, name, type, kind]) =>",
							"(field, i) =>",
							"function writeOutput(name, data)",
							"function GetLibraryFor(symbolName)"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABKLQAAKGFzdCwgcikgPT4KRGVlcEZpbmQoYXN0LCBwcmVkLCBmbGFncyA9IGRlZXAuUkVUVVJOX1ZBTFVFKQpEZWVwU2VsZWN0KGFzdCwgcHJlZCwgZmxhZ3MgPSBkZWVwLlJFVFVSTl9WQUxVRSkKRGVlcENhY2hlUGF0aChhc3QsIHBhdGgsIG0gPSAKKGFzdCkpCkRlZXBQYXRoT2YoYXN0LCB2YWx1ZSkKRGVlcEdldChhc3QsIHBhdGgsIC4uLmFyZ3MpCkZpbGVUaW1lKGZpbGVuYW1lKQpOZXdlcihmaWxlLCAuLi5vdGhlcikKICBvdGhlciA9PgpPbGRlcihmaWxlLCBvdGhlcikKR2V0U3Vic2NyaXB0cyhzdHIpCiAgbSA9PgpUcmltU3Vic2NyaXB0cyhzdHIsIHN1YikKICBuYW1lT3JJZFByZWQobmFtZV9vcl9pZCwgLi4uYXJncykKbm9kZSA9PgpMaXN0CiAgY29uc3RydWN0b3IoLi4uYXJncykKICBmaWx0ZXIoY2FsbGJhY2ssIHRoaXNBcmcgPSBudWxsKQogIGNhbGxiYWNrID0gZWxlbSA9PgogIHNsaWNlKHN0YXJ0LCBlbmQpCiAgZ2V0IGZpcnN0KCkKICBlbGVtID0+CiAgZW50cmllcygpCiAga2V5cygpCiAgdmFsdWVzKCkKICB0b0FycmF5KCkKKGEsIG4pID0+Ckxpc3QKTm9kZQogIGNvbnN0cnVjdG9yKGFzdCkKICBzdGF0aWMgZ2V0KGFzdCkKICBnZXQgYXN0KCkKICBnZXQgaWQoKQogIGdldCBsb2MoKQogIGdldCBmaWxlKCkKKHYsIGspID0+Cih2LCBrKSA9PgogIGdldCByYW5nZSgpCiAgciA9PgogIHRvSlNPTihvYmopCk5vZGUKKG5vZGUsIGFzdCkgPT4KUGF0aE9mKG5vZGUsIGFzdCA9IGdsb2JhbFRoaXNbJyQnXS5kYXRhKQpIaWVyKG5vZGVfb3JfcGF0aCwgdCA9IChwLCBhc3QsIGFib3J0KSA9PiBwLgooYXN0KSwgYXN0ID0gZ2xvYmFsVGhpc1snJCddLmRhdGEpCiAgcCA9PgogIGFib3J0Rm4gPSAoKSA9PgpGaW5kVHlwZSh0eXBlTmFtZSwgYXN0ID0gZ2xvYmFsVGhpc1snJCddLmRhdGEpCihbdG9rXSkgPT4KICBub2RlID0+ClBvaW50ZXJUeXBlCiAgY29uc3RydWN0b3IocG9pbnRlZSwgYXN0LCBucykKICBzdGF0aWMgZnJvbVN0cmluZyhzdHIsIGFzdCwgbnMpCiAgdG9TdHJpbmcoKQpSZWZlcmVuY2VUeXBlCiAgY29uc3RydWN0b3IocG9pbnRlZSwgYXN0LCBucykKICBzdGF0aWMgZnJvbVN0cmluZyhzdHIsIGFzdCwgbnMpCiAgdG9TdHJpbmcoKQpUeXBlCiAgY29uc3RydWN0b3Iobm9kZSwgYXN0LCBucykKICBuID0+CiAgZ2V0IHJlZ0V4cCgpCiAgaXNFbnVtKCkKICBpc1BvaW50ZXIoKQogIGlzUmVmZXJlbmNlKCkKICBpc0Z1bmN0aW9uKCkKICBpc0FycmF5KCkKICBpc0ludGVnZXIoKQogIGFycmF5T2YoKQogIGdldCBzdWJzY3JpcHRzKCkKICB0cmltU3Vic2NyaXB0cygpCiAgZ2V0IHBvaW50ZXIoKQogIGdldCByZWZlcmVuY2UoKQogIGdldFBvaW50ZXIoYXN0KQogIGdldCB1bnNpZ25lZCgpCiAgZ2V0IHNpZ25lZCgpCiAgaXNDb21wb3VuZCgpCiAgaXNGbG9hdGluZ1BvaW50KCkKICBnZXQgYWxpYXMoKQogIGdldCBhbGlhc2VzKCkKICBpc0VudW0oKQogIGlzU3RyaW5nKCkKICBnZXQgZmZpKCkKICBnZXQgc2l6ZSgpCiAgdG9KUygpCiAgdG9KU09OKG9iaikKICBzdGF0aWMgZ2V0KG5hbWVfb3JfaWQsIGFzdCA9IGdsb2JhbFRoaXNbJyQnXS5kYXRhKQpub2RlID0+Cm5vZGUgPT4KUm91bmRUbyh2YWx1ZSwgYWxpZ24pClJlY29yZERlY2wKICBjb25zdHJ1Y3Rvcihub2RlLCBhc3QsIG5zKQogIGNoaWxkID0+CiAgY2hpbGQgPT4KKCkgPT4KICBub2RlID0+CihhY2MsIG5vZGUpID0+CiAgaSA9PgpuID0+CiAgbiA9PgooW25hbWUsIHRdKSA9PgogIGdldCBzaXplKCkKKGFjYywgW25hbWUsIHR5cGVdKSA9PgogIHRvSlNPTigpCihbbmFtZSwgbWVtYmVyXSkgPT4KRW51bURlY2wKICBjb25zdHJ1Y3Rvcihub2RlLCBhc3QpCiAgY2hpbGQgPT4KKHsgbmFtZSwgdHlwZSwgaW5uZXIgfSkgPT4KICB0b0pTT04oKQpUeXBlZGVmRGVjbAogIGNvbnN0cnVjdG9yKG5vZGUsIGFzdCwgbnMpCiAgbiA9PgoodiwgaykgPT4KICBuID0+CiAgbiA9PgogIG4gPT4KICBnZXQgc2l6ZSgpCiAgdG9KU09OKCkKRmllbGREZWNsCiAgY29uc3RydWN0b3Iobm9kZSwgYXN0KQpGdW5jdGlvbkRlY2wKICBjb25zdHJ1Y3Rvcihub2RlLCBhc3QsIG5zKQogIGNoaWxkID0+CiAgY2hpbGQgPT4KKHsgbmFtZSwgdHlwZSB9KSA9PgogIGlzTWV0aG9kKCkKICB0b0pTT04oKQpWYXJEZWNsCiAgY29uc3RydWN0b3Iobm9kZSwgYXN0KQogIHRvSlNPTigpCkNsYXNzRGVjbAogIGNvbnN0cnVjdG9yKG5vZGUsIGFzdCkKQnVpbHRpblR5cGUKICBjb25zdHJ1Y3Rvcihub2RlLCBhc3QpCkNvbnN0YW50QXJyYXlUeXBlCiAgY29uc3RydWN0b3Iobm9kZSwgYXN0KQogIHRvSlNPTigpClJhbmdlCiAgY29uc3RydWN0b3IoYmVnaW4sIGVuZCkKICBnZXQgYmVnaW4oKQogIHNldCBiZWdpbih2KQogIGdldCBlbmQoKQogIHNldCBlbmQodikKICB0b1N0cmluZyhvcHRzID0geyBwcmludEZpbGU6IHRydWUgfSkKICBnZXQgbGVuZ3RoKCkKICB0b0FycmF5KCkKICB0b09iamVjdCgpClJhbmdlCkxvY2F0aW9uCiAgc3RhdGljIGF0KGZpbGUsIG9mZnNldCkKICBzdGF0aWMgZnJvbShsb2MpCiAgY29uc3RydWN0b3IobG9jKQogIHVwZGF0ZShvdGhlcikKICBnZXQgbGluZSgpCiAgc2V0IGxpbmUodikKICBnZXQgY29sdW1uKCkKICBzZXQgY29sdW1uKHYpCiAgZ2V0IG9mZnNldCgpCiAgc2V0IG9mZnNldCh2KQoodCwgLi4uYykgPT4KJ1x4MWJbbScgOiB0ID0+CiAgdG9TdHJpbmcob3B0cyA9IHsgcHJpbnRGaWxlOiB0cnVlLCBvbmx5T2Zmc2V0OiBmYWxzZSB9KQogIHRvT2JqZWN0KCkKICBsb2NhbGVDb21wYXJlKG90aGVyKQpUeXBlRmFjdG9yeShub2RlLCBhc3QsIGNhY2hlID0gdHJ1ZSkKU3Bhd25Db21waWxlcihjb21waWxlciwgaW5wdXQsIG91dGZpbGUsIGFyZ3MgPSBbXSkKICBwID0+CiAgcCA9PgogIGxpbmUgPT4KICBsaW5lID0+CiAgbGluZSA9PgpQaXBlUmVhZGVyKGZkLCBjYWxsYmFjaykKKHJlc29sdmUsIHJlamVjdCkgPT4KKCkgPT4KZGF0YSA9PgpSZWFkUGlwZShmZCwgY2FsbGJhY2spClJlYWRPdXRwdXQoZmQpClNvdXJjZURlcGVuZGVuY2llcyguLi5hcmdzKQpBc3REdW1wKGNvbXBpbGVyLCBzb3VyY2UsIGFyZ3MsIGZvcmNlKQogIHNpemUoKQogIGpzb24oKQogIGRhdGEoKQpTZXRGaWxlID0gbG9jID0+CiAgZmlsZXMoKQogIG4gPT4KICBmaWxlID0+CiAgcHJlZDIgPSAodXNlZCwgaW1wbGljaXQpID0+Cm5vZGUgPT4KICB0eXBlcygpCm4gPT4KKCkgPT4KTGlzdAogIGZ1bmN0aW9ucygpCm4gPT4KKCkgPT4KbiA9PgpMaXN0CiAgbmFtZXNwYWNlcygpCm4gPT4KTGlzdAogIGNsYXNzZXMoKQogIHByZWRpY2F0ZSA9IG4gPT4KTGlzdAogIHZhcmlhYmxlcygpCiAgbiA9PgpMaXN0CiAgbmFtZXMoZGVwdGggPSAxKQogIG4gPT4KICBuID0+Ck5hbWVGb3IoZGVjbCwgYXN0ID0gZ2xvYmFsVGhpc1snJCddPy5kYXRhKQoodmFsdWUsIGtleSkgPT4KTm9kZVR5cGUobikKICB0ID0+Cm4gPT4KTm9kZU5hbWUobiwgbmFtZSkKUmF3TG9jYXRpb24ocGF0aCkKUmF3UmFuZ2UocGF0aCkKQ29tcGxldGVMb2NhdGlvbihwYXRoKQogIGwgPT4KQ29tcGxldGVSYW5nZShwYXRoKQogIGwgPT4KR2V0TG9jKG5vZGUpCkdldFR5cGVOb2RlKG5vZGUsIGFzdCA9IGdsb2JhbFRoaXNbJyQnXS5kYXRhKQogIG5vZGUgPT4KICBub2RlID0+CkdldFR5cGVTdHIobm9kZSkKICBpbm5lciA9PgogIGlubmVyID0+CihbbiwgdF0pID0+Ck5vZGVFcnJvcgogIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIG5vZGUpCk5vZGVFcnJvcgpOb2RlUHJpbnRlcihhc3QpCiAgcHV0KHN0cikKICB0cmltKCkKICBwcmludGVyID0gZnVuY3Rpb24obm9kZSkKICBnZXQoKQogIHZhbHVlKCkKICB2YWx1ZShub2RlKQogIHRvU3RyaW5nKCkKICBpID0+Ck5vZGVQcmludGVyCkFiaVRhZ0F0dHIoYWJpX3RhZ19hdHRyKQpBY2Nlc3NTcGVjRGVjbChhY2Nlc3Nfc3BlY19kZWNsKQpBbGlnbmVkQXR0cihhbGlnbmVkX2F0dHIpCkFsd2F5c0lubGluZUF0dHIoYWx3YXlzX2lubGluZV9hdHRyKQpBcnJheVN1YnNjcmlwdEV4cHIoYXJyYXlfc3Vic2NyaXB0X2V4cHIpCkFzbUxhYmVsQXR0cihhc21fbGFiZWxfYXR0cikKQmluYXJ5T3BlcmF0b3IoYmluYXJ5X29wZXJhdG9yKQpCbG9ja0NvbW1hbmRDb21tZW50KGJsb2NrX2NvbW1hbmRfY29tbWVudCkKQnVpbHRpbkF0dHIoYnVpbHRpbl9hdHRyKQpCcmVha1N0bXQoYnJlYWtfc3RtdCkKQ2FsbEV4cHIoY2FsbF9leHByKQpSZWNvdmVyeUV4cHIocmVjb3ZlcnlfZXhwcikKQ2FzZVN0bXQoY2FzZV9zdG10KQpDaGFyYWN0ZXJMaXRlcmFsKGNoYXJhY3Rlcl9saXRlcmFsKQpDb21wb3VuZEFzc2lnbk9wZXJhdG9yKGNvbXBvdW5kX2Fzc2lnbl9vcGVyYXRvcikKQ29tcG91bmRTdG10KGNvbXBvdW5kX3N0bXQpCkNvbmRpdGlvbmFsT3BlcmF0b3IoY29uZGl0aW9uYWxfb3BlcmF0b3IpCkNvbnN0YW50RXhwcihjb25zdGFudF9leHByKQpDb25zdEF0dHIoY29uc3RfYXR0cikKQ29udGludWVTdG10KGNvbnRpbnVlX3N0bXQpCkNTdHlsZUNhc3RFeHByKGNzdHlsZV9jYXN0X2V4cHIpCkRlY2xSZWZFeHByKGRlY2xfcmVmX2V4cHIpCkRlY2xTdG10KGRlY2xfc3RtdCkKRGVmYXVsdFN0bXQoZGVmYXVsdF9zdG10KQpEZXByZWNhdGVkQXR0cihkZXByZWNhdGVkX2F0dHIpCkRvU3RtdChkb19zdG10KQpFbXB0eURlY2woZW1wdHlfZGVjbCkKRW51bUNvbnN0YW50RGVjbChlbnVtX2NvbnN0YW50X2RlY2wpCkVudW1EZWNsKGVudW1fZGVjbCkKRmllbGREZWNsKGZpZWxkX2RlY2wpCkZsb2F0aW5nTGl0ZXJhbChmbG9hdGluZ19saXRlcmFsKQpGb3JtYXRBdHRyKGZvcm1hdF9hdHRyKQpGb3JTdG10KGZvcl9zdG10KQogIG4gPT4KRnVsbENvbW1lbnQoZnVsbF9jb21tZW50KQpGdW5jdGlvbkRlY2woZnVuY3Rpb25fZGVjbCkKICBuID0+Cm4gPT4KR290b1N0bXQoZ290b19zdG10KQpuID0+CkhUTUxFbmRUYWdDb21tZW50KGh0bWxfZW5kX3RhZ19jb21tZW50KQpIVE1MU3RhcnRUYWdDb21tZW50KGh0bWxfc3RhcnRfdGFnX2NvbW1lbnQpCklmU3RtdChpZl9zdG10KQpJbXBsaWNpdENhc3RFeHByKGltcGxpY2l0X2Nhc3RfZXhwcikKSW5pdExpc3RFeHByKGluaXRfbGlzdF9leHByKQpJbmxpbmVDb21tYW5kQ29tbWVudChpbmxpbmVfY29tbWFuZF9jb21tZW50KQpJbnRlZ2VyTGl0ZXJhbChpbnRlZ2VyX2xpdGVyYWwpCkxhYmVsU3RtdChsYWJlbF9zdG10KQpNZW1iZXJFeHByKG1lbWJlcl9leHByKQpOb25OdWxsQXR0cihub25fbnVsbF9hdHRyKQpOb1Rocm93QXR0cihub190aHJvd19hdHRyKQpOdWxsU3RtdChudWxsX3N0bXQpClBhcmFncmFwaENvbW1lbnQocGFyYWdyYXBoX2NvbW1lbnQpClBhcmFtQ29tbWFuZENvbW1lbnQocGFyYW1fY29tbWFuZF9jb21tZW50KQpQYXJlbkV4cHIocGFyZW5fZXhwcikKUGFyZW5MaXN0RXhwcihwYXJlbl9saXN0X2V4cHIpClBhcm1WYXJEZWNsKHBhcm1fdmFyX2RlY2wpClB1cmVBdHRyKHB1cmVfYXR0cikKUmVjb3JkRGVjbChyZWNvcmRfZGVjbCkKUmVzdHJpY3RBdHRyKHJlc3RyaWN0X2F0dHIpClJldHVyblN0bXQocmV0dXJuX3N0bXQpClJldHVybnNUd2ljZUF0dHIocmV0dXJuc190d2ljZV9hdHRyKQpTdHJpbmdMaXRlcmFsKHN0cmluZ19saXRlcmFsKQpTd2l0Y2hTdG10KHN3aXRjaF9zdG10KQpUZXh0Q29tbWVudCh0ZXh0X2NvbW1lbnQpClRyYW5zbGF0aW9uVW5pdERlY2wodHJhbnNsYXRpb25fdW5pdF9kZWNsKQpUeXBlZGVmRGVjbCh0eXBlZGVmX2RlY2wpClVuYXJ5RXhwck9yVHlwZVRyYWl0RXhwcih1bmFyeV9leHByX29yX3R5cGVfdHJhaXRfZXhwcikKVW5hcnlPcGVyYXRvcih1bmFyeV9vcGVyYXRvcikKVW5yZXNvbHZlZExvb2t1cEV4cHIodW5yZXNvbHZlZF9sb29rdXBfZXhwcikKVW5yZXNvbHZlZE1lbWJlckV4cHIodW5yZXNvbHZlZF9tZW1iZXJfZXhwcikKVmFyRGVjbCh2YXJfZGVjbCwgYmFzZV90eXBlKQooW29mZnNldCwgc3Vic2NyaXB0XSkgPT4KVmVyYmF0aW1CbG9ja0NvbW1lbnQodmVyYmF0aW1fYmxvY2tfY29tbWVudCkKVmVyYmF0aW1CbG9ja0xpbmVDb21tZW50KHZlcmJhdGltX2Jsb2NrX2xpbmVfY29tbWVudCkKV2FyblVudXNlZFJlc3VsdEF0dHIod2Fybl91bnVzZWRfcmVzdWx0X2F0dHIpCldlYWtBdHRyKHdlYWtfYXR0cikKV2hpbGVTdG10KHdoaWxlX3N0bXQpCk92ZXJyaWRlQXR0cihvdmVycmlkZV9hdHRyKQpBZGRyTGFiZWxFeHByKGFkZHJfbGFiZWxfZXhwcikKQWxpYXNBdHRyKGFsaWFzX2F0dHIpCkFsaWduVmFsdWVBdHRyKGFsaWduX3ZhbHVlX2F0dHIpCkFsbG9jU2l6ZUF0dHIoYWxsb2Nfc2l6ZV9hdHRyKQpBcnJheUluaXRJbmRleEV4cHIoYXJyYXlfaW5pdF9pbmRleF9leHByKQpBcnJheUluaXRMb29wRXhwcihhcnJheV9pbml0X2xvb3BfZXhwcikKQXRvbWljRXhwcihhdG9taWNfZXhwcikKQXRvbWljVHlwZShhdG9taWNfdHlwZSkKQXV0b1R5cGUoYXV0b190eXBlKQpCdWlsdGluVGVtcGxhdGVEZWNsKGJ1aWx0aW5fdGVtcGxhdGVfZGVjbCkKQnVpbHRpblR5cGUoYnVpbHRpbl90eXBlKQpDYWxsYmFja0F0dHIoY2FsbGJhY2tfYXR0cikKQ2xhc3NUZW1wbGF0ZURlY2woY2xhc3NfdGVtcGxhdGVfZGVjbCkKQ2xhc3NUZW1wbGF0ZVBhcnRpYWxTcGVjaWFsaXphdGlvbkRlY2woY2xhc3NfdGVtcGxhdGVfcGFydGlhbF9zcGVjaWFsaXphdGlvbl9kZWNsKQpDbGFzc1RlbXBsYXRlU3BlY2lhbGl6YXRpb25EZWNsKGNsYXNzX3RlbXBsYXRlX3NwZWNpYWxpemF0aW9uX2RlY2wpCkNvbXBsZXhUeXBlKGNvbXBsZXhfdHlwZSkKQ29tcG91bmRMaXRlcmFsRXhwcihjb21wb3VuZF9saXRlcmFsX2V4cHIpCkNvbnN0YW50QXJyYXlUeXBlKGNvbnN0YW50X2FycmF5X3R5cGUpCkNvbnN0cnVjdG9yVXNpbmdTaGFkb3dEZWNsKGNvbnN0cnVjdG9yX3VzaW5nX3NoYWRvd19kZWNsKQpDb252ZXJ0VmVjdG9yRXhwcihjb252ZXJ0X3ZlY3Rvcl9leHByKQpEZWNheWVkVHlwZShkZWNheWVkX3R5cGUpCkRlY2x0eXBlVHlwZShkZWNsdHlwZV90eXBlKQpEZXBlbmRlbnROYW1lVHlwZShkZXBlbmRlbnRfbmFtZV90eXBlKQpEZXBlbmRlbnRTY29wZURlY2xSZWZFeHByKGRlcGVuZGVudF9zY29wZV9kZWNsX3JlZl9leHByKQpEZXBlbmRlbnRTaXplZEFycmF5VHlwZShkZXBlbmRlbnRfc2l6ZWRfYXJyYXlfdHlwZSkKRGVwZW5kZW50VGVtcGxhdGVTcGVjaWFsaXphdGlvblR5cGUoZGVwZW5kZW50X3RlbXBsYXRlX3NwZWNpYWxpemF0aW9uX3R5cGUpCkVsYWJvcmF0ZWRUeXBlKGVsYWJvcmF0ZWRfdHlwZSkKRW51bVR5cGUoZW51bV90eXBlKQpFeHByV2l0aENsZWFudXBzKGV4cHJfd2l0aF9jbGVhbnVwcykKRmluYWxBdHRyKGZpbmFsX2F0dHIpCkZvcm1hdEFyZ0F0dHIoZm9ybWF0X2FyZ19hdHRyKQpGcmllbmREZWNsKGZyaWVuZF9kZWNsKQpGdW5jdGlvbk5vUHJvdG9UeXBlKGZ1bmN0aW9uX25vX3Byb3RvX3R5cGUpCkZ1bmN0aW9uUHJvdG9UeXBlKGZ1bmN0aW9uX3Byb3RvX3R5cGUpCkZ1bmN0aW9uVGVtcGxhdGVEZWNsKGZ1bmN0aW9uX3RlbXBsYXRlX2RlY2wpCkdDQ0FzbVN0bXQoZ2NjX2FzbV9zdG10KQpHTlVJbmxpbmVBdHRyKGdudV9pbmxpbmVfYXR0cikKR05VTnVsbEV4cHIoZ251X251bGxfZXhwcikKSW1wbGljaXRWYWx1ZUluaXRFeHByKGltcGxpY2l0X3ZhbHVlX2luaXRfZXhwcikKSW5jb21wbGV0ZUFycmF5VHlwZShpbmNvbXBsZXRlX2FycmF5X3R5cGUpCkluZGlyZWN0RmllbGREZWNsKGluZGlyZWN0X2ZpZWxkX2RlY2wpCkluZGlyZWN0R290b1N0bXQoaW5kaXJlY3RfZ290b19zdG10KQpJbmplY3RlZENsYXNzTmFtZVR5cGUoaW5qZWN0ZWRfY2xhc3NfbmFtZV90eXBlKQpMYW1iZGFFeHByKGxhbWJkYV9leHByKQpMaW5rYWdlU3BlY0RlY2wobGlua2FnZV9zcGVjX2RlY2wpCkxWYWx1ZVJlZmVyZW5jZVR5cGUobF92YWx1ZV9yZWZlcmVuY2VfdHlwZSkKTWF0ZXJpYWxpemVUZW1wb3JhcnlFeHByKG1hdGVyaWFsaXplX3RlbXBvcmFyeV9leHByKQpNYXhGaWVsZEFsaWdubWVudEF0dHIobWF4X2ZpZWxkX2FsaWdubWVudF9hdHRyKQpNYXlBbGlhc0F0dHIobWF5X2FsaWFzX2F0dHIpCk1lbWJlclBvaW50ZXJUeXBlKG1lbWJlcl9wb2ludGVyX3R5cGUpCk1pblZlY3RvcldpZHRoQXR0cihtaW5fdmVjdG9yX3dpZHRoX2F0dHIpCk1vZGVBdHRyKG1vZGVfYXR0cikKTmFtZXNwYWNlRGVjbChuYW1lc3BhY2VfZGVjbCkKTm9EZWJ1Z0F0dHIobm9fZGVidWdfYXR0cikKTm9JbmxpbmVBdHRyKG5vX2lubGluZV9hdHRyKQpOb25UeXBlVGVtcGxhdGVQYXJtRGVjbChub25fdHlwZV90ZW1wbGF0ZV9wYXJtX2RlY2wpCk9mZnNldE9mRXhwcihvZmZzZXRfb2ZfZXhwcikKT3BhcXVlVmFsdWVFeHByKG9wYXF1ZV92YWx1ZV9leHByKQpPd25lckF0dHIob3duZXJfYXR0cikKUGFja2VkQXR0cihwYWNrZWRfYXR0cikKUGFja0V4cGFuc2lvbkV4cHIocGFja19leHBhbnNpb25fZXhwcikKUGFja0V4cGFuc2lvblR5cGUocGFja19leHBhbnNpb25fdHlwZSkKUGFyZW5UeXBlKHBhcmVuX3R5cGUpClBvaW50ZXJBdHRyKHBvaW50ZXJfYXR0cikKUG9pbnRlclR5cGUocG9pbnRlcl90eXBlKQpQcmVkZWZpbmVkRXhwcihwcmVkZWZpbmVkX2V4cHIpClF1YWxUeXBlKHF1YWxfdHlwZSkKUmVjb3JkVHlwZShyZWNvcmRfdHlwZSkKUmV0dXJuc05vbk51bGxBdHRyKHJldHVybnNfbm9uX251bGxfYXR0cikKUlZhbHVlUmVmZXJlbmNlVHlwZShyX3ZhbHVlX3JlZmVyZW5jZV90eXBlKQpTZW50aW5lbEF0dHIoc2VudGluZWxfYXR0cikKU2h1ZmZsZVZlY3RvckV4cHIoc2h1ZmZsZV92ZWN0b3JfZXhwcikKU2l6ZU9mUGFja0V4cHIoc2l6ZV9vZl9wYWNrX2V4cHIpClN0YXRpY0Fzc2VydERlY2woc3RhdGljX2Fzc2VydF9kZWNsKQpTdG10RXhwcihzdG10X2V4cHIpClN1YnN0Tm9uVHlwZVRlbXBsYXRlUGFybUV4cHIoc3Vic3Rfbm9uX3R5cGVfdGVtcGxhdGVfcGFybV9leHByKQpTdWJzdFRlbXBsYXRlVHlwZVBhcm1UeXBlKHN1YnN0X3RlbXBsYXRlX3R5cGVfcGFybV90eXBlKQpUYXJnZXRBdHRyKHRhcmdldF9hdHRyKQpUZW1wbGF0ZUFyZ3VtZW50KHRlbXBsYXRlX2FyZ3VtZW50KQpUZW1wbGF0ZVNwZWNpYWxpemF0aW9uVHlwZSh0ZW1wbGF0ZV9zcGVjaWFsaXphdGlvbl90eXBlKQpUZW1wbGF0ZVRlbXBsYXRlUGFybURlY2wodGVtcGxhdGVfdGVtcGxhdGVfcGFybV9kZWNsKQpUZW1wbGF0ZVR5cGVQYXJtRGVjbCh0ZW1wbGF0ZV90eXBlX3Bhcm1fZGVjbCkKVGVtcGxhdGVUeXBlUGFybVR5cGUodGVtcGxhdGVfdHlwZV9wYXJtX3R5cGUpClRQYXJhbUNvbW1hbmRDb21tZW50KHRfcGFyYW1fY29tbWFuZF9jb21tZW50KQpUeXBlQWxpYXNEZWNsKHR5cGVfYWxpYXNfZGVjbCkKVHlwZUFsaWFzVGVtcGxhdGVEZWNsKHR5cGVfYWxpYXNfdGVtcGxhdGVfZGVjbCkKVHlwZWRlZlR5cGUodHlwZWRlZl90eXBlKQpUeXBlT2ZFeHByVHlwZSh0eXBlX29mX2V4cHJfdHlwZSkKVHlwZVRyYWl0RXhwcih0eXBlX3RyYWl0X2V4cHIpClVuYXJ5VHJhbnNmb3JtVHlwZSh1bmFyeV90cmFuc2Zvcm1fdHlwZSkKVW5yZXNvbHZlZFVzaW5nVmFsdWVEZWNsKHVucmVzb2x2ZWRfdXNpbmdfdmFsdWVfZGVjbCkKVW51c2VkQXR0cih1bnVzZWRfYXR0cikKVXNpbmdEZWNsKHVzaW5nX2RlY2wpClVzaW5nRGlyZWN0aXZlRGVjbCh1c2luZ19kaXJlY3RpdmVfZGVjbCkKVXNpbmdTaGFkb3dEZWNsKHVzaW5nX3NoYWRvd19kZWNsKQpWQUFyZ0V4cHIodmFfYXJnX2V4cHIpClZhclRlbXBsYXRlRGVjbCh2YXJfdGVtcGxhdGVfZGVjbCkKVmVjdG9yVHlwZSh2ZWN0b3JfdHlwZSkKVmVyYmF0aW1MaW5lQ29tbWVudCh2ZXJiYXRpbV9saW5lX2NvbW1lbnQpClZpc2liaWxpdHlBdHRyKHZpc2liaWxpdHlfYXR0cikKV2Vha1JlZkF0dHIod2Vha19yZWZfYXR0cikKQ1hYUmVjb3JkRGVjbChjeHhfcmVjb3JkX2RlY2wpCkNYWENvbnN0cnVjdG9yRGVjbChjeHhfY29uc3RydWN0b3JfZGVjbCkKICBuID0+CkNYWEN0b3JJbml0aWFsaXplcihjeHhfY3Rvcl9pbml0aWFsaXplcikKQ1hYRGVwZW5kZW50U2NvcGVNZW1iZXJFeHByKGN4eF9kZXBlbmRlbnRfc2NvcGVfbWVtYmVyX2V4cHIpCkNYWFRoaXNFeHByKGN4eF90aGlzX2V4cHIpCkNYWERlc3RydWN0b3JEZWNsKGN4eF9kZXN0cnVjdG9yX2RlY2wpCiAgbiA9PgpDWFhNZXRob2REZWNsKGN4eF9tZXRob2RfZGVjbCkKICBuID0+CkNYWFN0YXRpY0Nhc3RFeHByKGN4eF9zdGF0aWNfY2FzdF9leHByKQpDWFhVbnJlc29sdmVkQ29uc3RydWN0RXhwcihjeHhfdW5yZXNvbHZlZF9jb25zdHJ1Y3RfZXhwcikKQ1hYTmV3RXhwcihjeHhfbmV3X2V4cHIpCkNYWERlbGV0ZUV4cHIoY3h4X2RlbGV0ZV9leHByKQpDWFhCb29sTGl0ZXJhbEV4cHIoY3h4X2Jvb2xfbGl0ZXJhbF9leHByKQpDWFgxMU5vUmV0dXJuQXR0cihjeHgxMV9ub19yZXR1cm5fYXR0cikKQ1hYQmluZFRlbXBvcmFyeUV4cHIoY3h4X2JpbmRfdGVtcG9yYXJ5X2V4cHIpCkNYWENhdGNoU3RtdChjeHhfY2F0Y2hfc3RtdCkKQ1hYQ29uc3RydWN0RXhwcihjeHhfY29uc3RydWN0X2V4cHIpCkNYWENvbnZlcnNpb25EZWNsKGN4eF9jb252ZXJzaW9uX2RlY2wpCkNYWERlZmF1bHRBcmdFeHByKGN4eF9kZWZhdWx0X2FyZ19leHByKQpDWFhEZWZhdWx0SW5pdEV4cHIoY3h4X2RlZmF1bHRfaW5pdF9leHByKQpDWFhGb3JSYW5nZVN0bXQoY3h4X2Zvcl9yYW5nZV9zdG10KQpDWFhGdW5jdGlvbmFsQ2FzdEV4cHIoY3h4X2Z1bmN0aW9uYWxfY2FzdF9leHByKQpDWFhNZW1iZXJDYWxsRXhwcihjeHhfbWVtYmVyX2NhbGxfZXhwcikKQ1hYTm9leGNlcHRFeHByKGN4eF9ub2V4Y2VwdF9leHByKQpDWFhOdWxsUHRyTGl0ZXJhbEV4cHIoY3h4X251bGxfcHRyX2xpdGVyYWxfZXhwcikKQ1hYT3BlcmF0b3JDYWxsRXhwcihjeHhfb3BlcmF0b3JfY2FsbF9leHByKQpDWFhSZWludGVycHJldENhc3RFeHByKGN4eF9yZWludGVycHJldF9jYXN0X2V4cHIpCkNYWFNjYWxhclZhbHVlSW5pdEV4cHIoY3h4X3NjYWxhcl92YWx1ZV9pbml0X2V4cHIpCkNYWFRlbXBvcmFyeU9iamVjdEV4cHIoY3h4X3RlbXBvcmFyeV9vYmplY3RfZXhwcikKQ1hYVHJ5U3RtdChjeHhfdHJ5X3N0bXQpClByaW50Tm9kZShub2RlKQpQcmludEFzdChub2RlLCBhc3QpCiAgZ2V0KCkKICBpc05vZGUob2JqKQpHZXRUeXBlKG5hbWVfb3JfaWQsIGFzdCA9IGdsb2JhbFRoaXNbJyQnXT8uZGF0YSkKICBuID0+Cm5vZGUgPT4Kbm9kZSA9PgogIHIgPT4KR2V0Q2xhc3MobmFtZV9vcl9pZCwgYXN0ID0gZ2xvYmFsVGhpc1snJCddLmRhdGEpCm4gPT4KICBiYXNlcygpCkdldEJhc2VzKG5vZGUsIGFzdCA9IGdsb2JhbFRoaXNbJyQnXS5kYXRhKQpHZXRCeU5hbWUoYXJnLCBhc3QgPSBnbG9iYWxUaGlzWyckJ10uZGF0YSwgcHJlZGljYXRlID0gKCkgPT4gdHJ1ZSkKbiA9PgpHZXROYW1lc3BhY2UoYXJnLCByb290ID0gZ2xvYmFsVGhpc1snJCddLmRhdGEsIHByZWRpY2F0ZSA9ICgpID0+IHRydWUpCm4gPT4KTmFtZXNwYWNlT2Yobm9kZSwgYXN0ID0gZ2xvYmFsVGhpc1snJCddLmRhdGEpCiAgdG9TdHJpbmcoKQpHZXRGaWVsZHMobm9kZSkKKHYsIGspID0+CihbdiwgcF0pID0+CihbbG9jLCBwdHJdKSA9PgogIGkgPT4KR2V0UGFyYW1zKG5vZGUpCiAgY2hpbGQgPT4KUGF0aFJlbW92ZUxvYyhwYXRoKQogIHAgPT4AAAAAAAAAAMECAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					9,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/clang-ast.js",
						"symkeys":
						[
							[
								848,
								861
							],
							[
								940,
								996
							],
							[
								1451,
								1510
							],
							[
								1998,
								2037
							],
							[
								2043,
								2049
							],
							[
								2219,
								2251
							],
							[
								2353,
								2390
							],
							[
								2544,
								2571
							],
							[
								2653,
								2683
							],
							[
								2750,
								2758
							],
							[
								2797,
								2824
							],
							[
								2873,
								2900
							],
							[
								2977,
								2981
							],
							[
								3004,
								3037
							],
							[
								3217,
								3260
							],
							[
								3545,
								3553
							],
							[
								3945,
								3949
							],
							[
								3968,
								3988
							],
							[
								4139,
								4171
							],
							[
								4333,
								4351
							],
							[
								4612,
								4629
							],
							[
								4936,
								4947
							],
							[
								4967,
								4974
							],
							[
								5001,
								5010
							],
							[
								5130,
								5136
							],
							[
								5248,
								5256
							],
							[
								5371,
								5380
							],
							[
								5406,
								5415
							],
							[
								5446,
								5450
							],
							[
								5511,
								5515
							],
							[
								5591,
								5607
							],
							[
								5864,
								5879
							],
							[
								5946,
								5955
							],
							[
								6016,
								6024
							],
							[
								6073,
								6082
							],
							[
								6129,
								6139
							],
							[
								6204,
								6214
							],
							[
								6251,
								6261
							],
							[
								6349,
								6360
							],
							[
								6566,
								6570
							],
							[
								6751,
								6762
							],
							[
								6993,
								6997
							],
							[
								7049,
								7063
							],
							[
								7113,
								7163
							],
							[
								7233,
								7288
							],
							[
								7293,
								7327
							],
							[
								7506,
								7510
							],
							[
								7591,
								7606
							],
							[
								7694,
								7750
							],
							[
								7824,
								7834
							],
							[
								8038,
								8045
							],
							[
								8162,
								8173
							],
							[
								8210,
								8239
							],
							[
								8300,
								8331
							],
							[
								8533,
								8543
							],
							[
								8598,
								8611
							],
							[
								8648,
								8677
							],
							[
								8738,
								8769
							],
							[
								8973,
								8983
							],
							[
								9038,
								9042
							],
							[
								9140,
								9166
							],
							[
								12158,
								12162
							],
							[
								13177,
								13189
							],
							[
								13312,
								13320
							],
							[
								13406,
								13417
							],
							[
								13540,
								13553
							],
							[
								13676,
								13688
							],
							[
								13782,
								13791
							],
							[
								13843,
								13854
							],
							[
								13943,
								13952
							],
							[
								14072,
								14088
							],
							[
								14146,
								14162
							],
							[
								14210,
								14223
							],
							[
								14370,
								14385
							],
							[
								14532,
								14547
							],
							[
								14804,
								14818
							],
							[
								14904,
								14916
							],
							[
								14983,
								14995
							],
							[
								15101,
								15118
							],
							[
								15204,
								15215
							],
							[
								15275,
								15288
							],
							[
								15431,
								15439
							],
							[
								15547,
								15557
							],
							[
								15764,
								15773
							],
							[
								17579,
								17589
							],
							[
								19681,
								19687
							],
							[
								19979,
								19990
							],
							[
								20091,
								20141
							],
							[
								20246,
								20254
							],
							[
								20324,
								20332
							],
							[
								22141,
								22171
							],
							[
								22250,
								22260
							],
							[
								22278,
								22304
							],
							[
								22433,
								22441
							],
							[
								22524,
								22532
							],
							[
								22710,
								22715
							],
							[
								22753,
								22760
							],
							[
								22844,
								22858
							],
							[
								23451,
								23455
							],
							[
								23536,
								23541
							],
							[
								25095,
								25099
							],
							[
								26001,
								26015
							],
							[
								26079,
								26089
							],
							[
								26174,
								26196
							],
							[
								26418,
								26426
							],
							[
								26548,
								26567
							],
							[
								26665,
								26673
							],
							[
								26691,
								26713
							],
							[
								26834,
								26842
							],
							[
								26947,
								26973
							],
							[
								27328,
								27336
							],
							[
								27451,
								27462
							],
							[
								27480,
								27506
							],
							[
								27578,
								27582
							],
							[
								27687,
								27697
							],
							[
								27757,
								27761
							],
							[
								27824,
								27828
							],
							[
								27878,
								27882
							],
							[
								28292,
								28302
							],
							[
								28334,
								28342
							],
							[
								28439,
								28448
							],
							[
								28466,
								28488
							],
							[
								28706,
								28718
							],
							[
								28736,
								28762
							],
							[
								28997,
								29005
							],
							[
								29068,
								29076
							],
							[
								30201,
								30220
							],
							[
								30336,
								30346
							],
							[
								30401,
								30409
							],
							[
								30518,
								30525
							],
							[
								30543,
								30565
							],
							[
								30910,
								30918
							],
							[
								31015,
								31024
							],
							[
								31048,
								31070
							],
							[
								31175,
								31186
							],
							[
								31204,
								31226
							],
							[
								31603,
								31620
							],
							[
								31638,
								31660
							],
							[
								31916,
								31924
							],
							[
								32035,
								32040
							],
							[
								32088,
								32111
							],
							[
								32233,
								32244
							],
							[
								32293,
								32305
							],
							[
								32367,
								32376
							],
							[
								32423,
								32433
							],
							[
								32471,
								32507
							],
							[
								33162,
								33174
							],
							[
								33220,
								33229
							],
							[
								33276,
								33286
							],
							[
								33466,
								33471
							],
							[
								33527,
								33535
							],
							[
								33628,
								33651
							],
							[
								33910,
								33926
							],
							[
								34145,
								34161
							],
							[
								34402,
								34415
							],
							[
								34561,
								34571
							],
							[
								34619,
								34630
							],
							[
								34722,
								34734
							],
							[
								34784,
								34797
							],
							[
								34845,
								34857
							],
							[
								34907,
								34920
							],
							[
								35168,
								35181
							],
							[
								35216,
								35231
							],
							[
								35311,
								35366
							],
							[
								35916,
								35926
							],
							[
								36169,
								36189
							],
							[
								36272,
								36318
							],
							[
								37817,
								37882
							],
							[
								38211,
								38215
							],
							[
								38491,
								38495
							],
							[
								39224,
								39231
							],
							[
								39285,
								39292
							],
							[
								39380,
								39387
							],
							[
								39568,
								39603
							],
							[
								39642,
								39662
							],
							[
								39692,
								39698
							],
							[
								39719,
								39727
							],
							[
								39834,
								39867
							],
							[
								40132,
								40157
							],
							[
								40498,
								40540
							],
							[
								41072,
								41125
							],
							[
								42572,
								42578
							],
							[
								42628,
								42634
							],
							[
								42799,
								42805
							],
							[
								42947,
								42963
							],
							[
								43508,
								43515
							],
							[
								43558,
								43562
							],
							[
								43582,
								43589
							],
							[
								43710,
								43737
							],
							[
								43796,
								43811
							],
							[
								44142,
								44149
							],
							[
								44209,
								44223
							],
							[
								44268,
								44283
							],
							[
								44309,
								44313
							],
							[
								44345,
								44356
							],
							[
								44389,
								44401
							],
							[
								44435,
								44448
							],
							[
								44524,
								44529
							],
							[
								44609,
								44613
							],
							[
								44637,
								44649
							],
							[
								44712,
								44717
							],
							[
								44747,
								44751
							],
							[
								44775,
								44784
							],
							[
								44797,
								44813
							],
							[
								45155,
								45159
							],
							[
								45183,
								45194
							],
							[
								45253,
								45257
							],
							[
								45295,
								45299
							],
							[
								45331,
								45347
							],
							[
								45386,
								45390
							],
							[
								45408,
								45412
							],
							[
								45456,
								45508
							],
							[
								45696,
								45712
							],
							[
								46072,
								46093
							],
							[
								46119,
								46123
							],
							[
								46565,
								46570
							],
							[
								46605,
								46632
							],
							[
								46826,
								46854
							],
							[
								47035,
								47060
							],
							[
								47135,
								47167
							],
							[
								47298,
								47302
							],
							[
								47439,
								47468
							],
							[
								47578,
								47582
							],
							[
								47876,
								47898
							],
							[
								48937,
								48992
							],
							[
								49072,
								49079
							],
							[
								49150,
								49157
							],
							[
								49194,
								49220
							],
							[
								49314,
								49322
							],
							[
								49388,
								49396
							],
							[
								49458,
								49469
							],
							[
								49623,
								49632
							],
							[
								49651,
								49677
							],
							[
								49730,
								49739
							],
							[
								49792,
								49818
							],
							[
								49870,
								49889
							],
							[
								49965,
								49982
							],
							[
								50017,
								50041
							],
							[
								50300,
								50305
							],
							[
								50363,
								50370
							],
							[
								50452,
								50463
							],
							[
								51171,
								51181
							],
							[
								51229,
								51233
							],
							[
								51424,
								51435
							],
							[
								51446,
								51470
							],
							[
								51538,
								51570
							],
							[
								51726,
								51751
							],
							[
								51815,
								51851
							],
							[
								51921,
								51961
							],
							[
								52213,
								52241
							],
							[
								52288,
								52319
							],
							[
								52548,
								52590
							],
							[
								52793,
								52818
							],
							[
								52976,
								52997
							],
							[
								53042,
								53061
							],
							[
								53395,
								53422
							],
							[
								53490,
								53509
							],
							[
								53713,
								53748
							],
							[
								53866,
								53914
							],
							[
								54160,
								54187
							],
							[
								54805,
								54846
							],
							[
								55084,
								55111
							],
							[
								55254,
								55275
							],
							[
								55336,
								55363
							],
							[
								55408,
								55440
							],
							[
								55690,
								55716
							],
							[
								55910,
								55929
							],
							[
								56591,
								56616
							],
							[
								56664,
								56695
							],
							[
								56762,
								56777
							],
							[
								56972,
								56993
							],
							[
								57110,
								57146
							],
							[
								57366,
								57385
							],
							[
								57789,
								57810
							],
							[
								58027,
								58060
							],
							[
								58120,
								58143
							],
							[
								58206,
								58223
							],
							[
								58343,
								58347
							],
							[
								59174,
								59199
							],
							[
								59406,
								59433
							],
							[
								59898,
								59902
							],
							[
								60113,
								60129
							],
							[
								60340,
								60359
							],
							[
								60480,
								60485
							],
							[
								60823,
								60862
							],
							[
								60961,
								61004
							],
							[
								61214,
								61229
							],
							[
								61495,
								61531
							],
							[
								61627,
								61655
							],
							[
								61925,
								61969
							],
							[
								62031,
								62062
							],
							[
								62121,
								62142
							],
							[
								62201,
								62224
							],
							[
								62647,
								62673
							],
							[
								62741,
								62767
							],
							[
								62831,
								62850
							],
							[
								62892,
								62927
							],
							[
								63101,
								63143
							],
							[
								63328,
								63349
							],
							[
								63525,
								63555
							],
							[
								63775,
								63801
							],
							[
								64230,
								64249
							],
							[
								64310,
								64333
							],
							[
								64868,
								64895
							],
							[
								64945,
								64968
							],
							[
								65125,
								65161
							],
							[
								65231,
								65260
							],
							[
								65318,
								65341
							],
							[
								65519,
								65544
							],
							[
								65628,
								65670
							],
							[
								65769,
								65794
							],
							[
								66098,
								66153
							],
							[
								66407,
								66436
							],
							[
								66687,
								66731
							],
							[
								66863,
								66907
							],
							[
								66994,
								67022
							],
							[
								67166,
								67190
							],
							[
								67438,
								67482
							],
							[
								67804,
								67857
							],
							[
								67956,
								68001
							],
							[
								68076,
								68095
							],
							[
								68156,
								68177
							],
							[
								68354,
								68381
							],
							[
								68430,
								68460
							],
							[
								68472,
								68493
							],
							[
								68505,
								68537
							],
							[
								68679,
								68709
							],
							[
								68721,
								68762
							],
							[
								68774,
								68813
							],
							[
								68825,
								68848
							],
							[
								68860,
								68883
							],
							[
								68895,
								68914
							],
							[
								68926,
								68968
							],
							[
								68980,
								69005
							],
							[
								69017,
								69044
							],
							[
								69056,
								69094
							],
							[
								69106,
								69188
							],
							[
								69200,
								69267
							],
							[
								69279,
								69304
							],
							[
								69316,
								69358
							],
							[
								69543,
								69581
							],
							[
								69593,
								69650
							],
							[
								69662,
								69700
							],
							[
								69712,
								69737
							],
							[
								69749,
								69776
							],
							[
								69788,
								69826
							],
							[
								69838,
								69894
							],
							[
								69988,
								70039
							],
							[
								70051,
								70126
							],
							[
								70138,
								70169
							],
							[
								70181,
								70200
							],
							[
								70212,
								70248
							],
							[
								70344,
								70365
							],
							[
								70377,
								70407
							],
							[
								70419,
								70442
							],
							[
								70454,
								70497
							],
							[
								70509,
								70547
							],
							[
								70559,
								70603
							],
							[
								70615,
								70639
							],
							[
								70756,
								70786
							],
							[
								70798,
								70824
							],
							[
								70868,
								70915
							],
							[
								70927,
								70969
							],
							[
								70981,
								71019
							],
							[
								71031,
								71067
							],
							[
								71079,
								71126
							],
							[
								71138,
								71161
							],
							[
								71173,
								71207
							],
							[
								71415,
								71458
							],
							[
								71470,
								71522
							],
							[
								71626,
								71673
							],
							[
								71685,
								71713
							],
							[
								71725,
								71763
							],
							[
								71775,
								71816
							],
							[
								71828,
								71847
							],
							[
								71859,
								71888
							],
							[
								71900,
								71926
							],
							[
								71938,
								71966
							],
							[
								71978,
								72030
							],
							[
								72042,
								72070
							],
							[
								72082,
								72116
							],
							[
								72248,
								72269
							],
							[
								72281,
								72304
							],
							[
								72316,
								72354
							],
							[
								72366,
								72404
							],
							[
								72416,
								72437
							],
							[
								72449,
								72474
							],
							[
								72486,
								72511
							],
							[
								72523,
								72554
							],
							[
								72641,
								72660
							],
							[
								72672,
								72695
							],
							[
								72707,
								72748
							],
							[
								72760,
								72803
							],
							[
								72815,
								72842
							],
							[
								72854,
								72892
							],
							[
								72904,
								72937
							],
							[
								72949,
								72985
							],
							[
								72997,
								73016
							],
							[
								73082,
								73145
							],
							[
								73157,
								73213
							],
							[
								73225,
								73248
							],
							[
								73260,
								73295
							],
							[
								73307,
								73363
							],
							[
								73375,
								73428
							],
							[
								73440,
								73485
							],
							[
								73497,
								73542
							],
							[
								73554,
								73599
							],
							[
								73611,
								73641
							],
							[
								73653,
								73700
							],
							[
								73712,
								73737
							],
							[
								73749,
								73782
							],
							[
								73794,
								73824
							],
							[
								73836,
								73876
							],
							[
								73888,
								73941
							],
							[
								73953,
								73976
							],
							[
								73988,
								74009
							],
							[
								74021,
								74061
							],
							[
								74073,
								74107
							],
							[
								74119,
								74141
							],
							[
								74153,
								74187
							],
							[
								74199,
								74222
							],
							[
								74234,
								74276
							],
							[
								74288,
								74319
							],
							[
								74331,
								74357
							],
							[
								74370,
								74400
							],
							[
								74974,
								75014
							],
							[
								75236,
								75240
							],
							[
								76393,
								76433
							],
							[
								76816,
								76876
							],
							[
								77312,
								77338
							],
							[
								77446,
								77484
							],
							[
								77692,
								77696
							],
							[
								77995,
								78025
							],
							[
								78496,
								78500
							],
							[
								79164,
								79203
							],
							[
								79867,
								79924
							],
							[
								80245,
								80269
							],
							[
								80742,
								80772
							],
							[
								81036,
								81077
							],
							[
								81212,
								81251
							],
							[
								81263,
								81308
							],
							[
								81320,
								81348
							],
							[
								81360,
								81396
							],
							[
								81540,
								81578
							],
							[
								81590,
								81629
							],
							[
								81641,
								81682
							],
							[
								81694,
								81729
							],
							[
								81741,
								81788
							],
							[
								81800,
								81839
							],
							[
								81852,
								81886
							],
							[
								81898,
								81946
							],
							[
								81958,
								82001
							],
							[
								82013,
								82062
							],
							[
								82074,
								82124
							],
							[
								82136,
								82185
							],
							[
								82439,
								82463
							],
							[
								82520,
								82545
							],
							[
								82924,
								82953
							],
							[
								83146,
								83151
							],
							[
								83426,
								83447
							],
							[
								83514,
								83572
							],
							[
								83718,
								83722
							],
							[
								84326,
								84334
							],
							[
								84396,
								84404
							],
							[
								84524,
								84528
							],
							[
								84781,
								84839
							],
							[
								84941,
								84946
							],
							[
								85336,
								85343
							],
							[
								85532,
								85585
							],
							[
								85822,
								85898
							],
							[
								86060,
								86065
							],
							[
								86231,
								86311
							],
							[
								86438,
								86446
							],
							[
								86796,
								86851
							],
							[
								87185,
								87195
							],
							[
								87261,
								87286
							],
							[
								87324,
								87334
							],
							[
								87400,
								87415
							],
							[
								87493,
								87508
							],
							[
								87547,
								87551
							],
							[
								87631,
								87656
							],
							[
								87695,
								87703
							],
							[
								87745,
								87774
							],
							[
								87804,
								87808
							]
						],
						"symlist":
						[
							" (ast, r) =>",
							" function DeepFind(ast, pred, flags = deep.RETURN_VALUE)",
							" function* DeepSelect(ast, pred, flags = deep.RETURN_VALUE)",
							" function DeepCachePath(ast, path, m = ",
							"(ast))",
							" function DeepPathOf(ast, value)",
							" function DeepGet(ast, path, ...args)",
							"function FileTime(filename)",
							"function Newer(file, ...other)",
							"other =>",
							"function Older(file, other)",
							"function GetSubscripts(str)",
							"m =>",
							"function TrimSubscripts(str, sub)",
							" function nameOrIdPred(name_or_id, ...args)",
							" node =>",
							"List",
							"constructor(...args)",
							"filter(callback, thisArg = null)",
							"callback = elem =>",
							"slice(start, end)",
							"get first()",
							"elem =>",
							"entries()",
							"keys()",
							"values()",
							"toArray()",
							"(a, n) =>",
							"List",
							"Node",
							"constructor(ast)",
							"static get(ast)",
							"get ast()",
							"get id()",
							"get loc()",
							"get file()",
							" (v, k) =>",
							" (v, k) =>",
							"get range()",
							"r =>",
							"toJSON(obj)",
							"Node",
							"(node, ast) =>",
							" function PathOf(node, ast = globalThis['$'].data)",
							" function* Hier(node_or_path, t = (p, ast, abort) => p.",
							"(ast), ast = globalThis['$'].data)",
							"p =>",
							"abortFn = () =>",
							" function FindType(typeName, ast = globalThis['$'].data)",
							"([tok]) =>",
							"node =>",
							"PointerType",
							"constructor(pointee, ast, ns)",
							"static fromString(str, ast, ns)",
							"toString()",
							"ReferenceType",
							"constructor(pointee, ast, ns)",
							"static fromString(str, ast, ns)",
							"toString()",
							"Type",
							"constructor(node, ast, ns)",
							"n =>",
							"get regExp()",
							"isEnum()",
							"isPointer()",
							"isReference()",
							"isFunction()",
							"isArray()",
							"isInteger()",
							"arrayOf()",
							"get subscripts()",
							"trimSubscripts()",
							"get pointer()",
							"get reference()",
							"getPointer(ast)",
							"get unsigned()",
							"get signed()",
							"isCompound()",
							"isFloatingPoint()",
							"get alias()",
							"get aliases()",
							"isEnum()",
							"isString()",
							"get ffi()",
							"get size()",
							"toJS()",
							"toJSON(obj)",
							"static get(name_or_id, ast = globalThis['$'].data)",
							" node =>",
							" node =>",
							"function RoundTo(value, align)",
							"RecordDecl",
							"constructor(node, ast, ns)",
							"child =>",
							"child =>",
							"() =>",
							"node =>",
							"(acc, node) =>",
							"i =>",
							" n =>",
							"n =>",
							"([name, t]) =>",
							"get size()",
							"(acc, [name, type]) =>",
							"toJSON()",
							"([name, member]) =>",
							"EnumDecl",
							"constructor(node, ast)",
							"child =>",
							"({ name, type, inner }) =>",
							"toJSON()",
							"TypedefDecl",
							"constructor(node, ast, ns)",
							"n =>",
							" (v, k) =>",
							"n =>",
							"n =>",
							"n =>",
							"get size()",
							"toJSON()",
							"FieldDecl",
							"constructor(node, ast)",
							"FunctionDecl",
							"constructor(node, ast, ns)",
							"child =>",
							"child =>",
							"({ name, type }) =>",
							"isMethod()",
							"toJSON()",
							"VarDecl",
							"constructor(node, ast)",
							"toJSON()",
							"ClassDecl",
							"constructor(node, ast)",
							"BuiltinType",
							"constructor(node, ast)",
							"ConstantArrayType",
							"constructor(node, ast)",
							"toJSON()",
							"Range",
							"constructor(begin, end)",
							"get begin()",
							"set begin(v)",
							"get end()",
							"set end(v)",
							"toString(opts = { printFile: true })",
							"get length()",
							"toArray()",
							"toObject()",
							"Range",
							"Location",
							"static at(file, offset)",
							"static from(loc)",
							"constructor(loc)",
							"update(other)",
							"get line()",
							"set line(v)",
							"get column()",
							"set column(v)",
							"get offset()",
							"set offset(v)",
							" (t, ...c) =>",
							"'\\x1b[m' : t =>",
							"toString(opts = { printFile: true, onlyOffset: false })",
							"toObject()",
							"localeCompare(other)",
							" function TypeFactory(node, ast, cache = true)",
							"async function SpawnCompiler(compiler, input, outfile, args = [])",
							"p =>",
							"p =>",
							"line =>",
							"line =>",
							"line =>",
							" function PipeReader(fd, callback)",
							"(resolve, reject) =>",
							" () =>",
							" data =>",
							" function ReadPipe(fd, callback)",
							" function ReadOutput(fd)",
							"async function SourceDependencies(...args)",
							"async function AstDump(compiler, source, args, force)",
							"size()",
							"json()",
							"data()",
							"SetFile = loc =>",
							"files()",
							"n =>",
							"file =>",
							"pred2 = (used, implicit) =>",
							" node =>",
							"types()",
							" n =>",
							" () =>",
							"List",
							"functions()",
							" n =>",
							" () =>",
							" n =>",
							"List",
							"namespaces()",
							" n =>",
							"List",
							"classes()",
							"predicate = n =>",
							"List",
							"variables()",
							"n =>",
							"List",
							"names(depth = 1)",
							"n =>",
							"n =>",
							" function NameFor(decl, ast = globalThis['$']?.data)",
							" (value, key) =>",
							" function NodeType(n)",
							"t =>",
							" n =>",
							" function NodeName(n, name)",
							" function* RawLocation(path)",
							" function* RawRange(path)",
							" function CompleteLocation(path)",
							"l =>",
							" function CompleteRange(path)",
							"l =>",
							" function GetLoc(node)",
							" function GetTypeNode(node, ast = globalThis['$'].data)",
							"node =>",
							"node =>",
							" function GetTypeStr(node)",
							"inner =>",
							"inner =>",
							"([n, t]) =>",
							"NodeError",
							"constructor(message, node)",
							"NodeError",
							" function NodePrinter(ast)",
							" function put(str)",
							" function trim()",
							"printer = function(node)",
							"get()",
							"value()",
							"value(node)",
							"toString()",
							"i =>",
							"NodePrinter",
							"AbiTagAttr(abi_tag_attr)",
							"AccessSpecDecl(access_spec_decl)",
							"AlignedAttr(aligned_attr)",
							"AlwaysInlineAttr(always_inline_attr)",
							"ArraySubscriptExpr(array_subscript_expr)",
							"AsmLabelAttr(asm_label_attr)",
							"BinaryOperator(binary_operator)",
							"BlockCommandComment(block_command_comment)",
							"BuiltinAttr(builtin_attr)",
							"BreakStmt(break_stmt)",
							"CallExpr(call_expr)",
							"RecoveryExpr(recovery_expr)",
							"CaseStmt(case_stmt)",
							"CharacterLiteral(character_literal)",
							"CompoundAssignOperator(compound_assign_operator)",
							"CompoundStmt(compound_stmt)",
							"ConditionalOperator(conditional_operator)",
							"ConstantExpr(constant_expr)",
							"ConstAttr(const_attr)",
							"ContinueStmt(continue_stmt)",
							"CStyleCastExpr(cstyle_cast_expr)",
							"DeclRefExpr(decl_ref_expr)",
							"DeclStmt(decl_stmt)",
							"DefaultStmt(default_stmt)",
							"DeprecatedAttr(deprecated_attr)",
							"DoStmt(do_stmt)",
							"EmptyDecl(empty_decl)",
							"EnumConstantDecl(enum_constant_decl)",
							"EnumDecl(enum_decl)",
							"FieldDecl(field_decl)",
							"FloatingLiteral(floating_literal)",
							"FormatAttr(format_attr)",
							"ForStmt(for_stmt)",
							"n =>",
							"FullComment(full_comment)",
							"FunctionDecl(function_decl)",
							"n =>",
							" n =>",
							"GotoStmt(goto_stmt)",
							" n =>",
							"HTMLEndTagComment(html_end_tag_comment)",
							"HTMLStartTagComment(html_start_tag_comment)",
							"IfStmt(if_stmt)",
							"ImplicitCastExpr(implicit_cast_expr)",
							"InitListExpr(init_list_expr)",
							"InlineCommandComment(inline_command_comment)",
							"IntegerLiteral(integer_literal)",
							"LabelStmt(label_stmt)",
							"MemberExpr(member_expr)",
							"NonNullAttr(non_null_attr)",
							"NoThrowAttr(no_throw_attr)",
							"NullStmt(null_stmt)",
							"ParagraphComment(paragraph_comment)",
							"ParamCommandComment(param_command_comment)",
							"ParenExpr(paren_expr)",
							"ParenListExpr(paren_list_expr)",
							"ParmVarDecl(parm_var_decl)",
							"PureAttr(pure_attr)",
							"RecordDecl(record_decl)",
							"RestrictAttr(restrict_attr)",
							"ReturnStmt(return_stmt)",
							"ReturnsTwiceAttr(returns_twice_attr)",
							"StringLiteral(string_literal)",
							"SwitchStmt(switch_stmt)",
							"TextComment(text_comment)",
							"TranslationUnitDecl(translation_unit_decl)",
							"TypedefDecl(typedef_decl)",
							"UnaryExprOrTypeTraitExpr(unary_expr_or_type_trait_expr)",
							"UnaryOperator(unary_operator)",
							"UnresolvedLookupExpr(unresolved_lookup_expr)",
							"UnresolvedMemberExpr(unresolved_member_expr)",
							"VarDecl(var_decl, base_type)",
							"([offset, subscript]) =>",
							"VerbatimBlockComment(verbatim_block_comment)",
							"VerbatimBlockLineComment(verbatim_block_line_comment)",
							"WarnUnusedResultAttr(warn_unused_result_attr)",
							"WeakAttr(weak_attr)",
							"WhileStmt(while_stmt)",
							"OverrideAttr(override_attr)",
							"AddrLabelExpr(addr_label_expr)",
							"AliasAttr(alias_attr)",
							"AlignValueAttr(align_value_attr)",
							"AllocSizeAttr(alloc_size_attr)",
							"ArrayInitIndexExpr(array_init_index_expr)",
							"ArrayInitLoopExpr(array_init_loop_expr)",
							"AtomicExpr(atomic_expr)",
							"AtomicType(atomic_type)",
							"AutoType(auto_type)",
							"BuiltinTemplateDecl(builtin_template_decl)",
							"BuiltinType(builtin_type)",
							"CallbackAttr(callback_attr)",
							"ClassTemplateDecl(class_template_decl)",
							"ClassTemplatePartialSpecializationDecl(class_template_partial_specialization_decl)",
							"ClassTemplateSpecializationDecl(class_template_specialization_decl)",
							"ComplexType(complex_type)",
							"CompoundLiteralExpr(compound_literal_expr)",
							"ConstantArrayType(constant_array_type)",
							"ConstructorUsingShadowDecl(constructor_using_shadow_decl)",
							"ConvertVectorExpr(convert_vector_expr)",
							"DecayedType(decayed_type)",
							"DecltypeType(decltype_type)",
							"DependentNameType(dependent_name_type)",
							"DependentScopeDeclRefExpr(dependent_scope_decl_ref_expr)",
							"DependentSizedArrayType(dependent_sized_array_type)",
							"DependentTemplateSpecializationType(dependent_template_specialization_type)",
							"ElaboratedType(elaborated_type)",
							"EnumType(enum_type)",
							"ExprWithCleanups(expr_with_cleanups)",
							"FinalAttr(final_attr)",
							"FormatArgAttr(format_arg_attr)",
							"FriendDecl(friend_decl)",
							"FunctionNoProtoType(function_no_proto_type)",
							"FunctionProtoType(function_proto_type)",
							"FunctionTemplateDecl(function_template_decl)",
							"GCCAsmStmt(gcc_asm_stmt)",
							"GNUInlineAttr(gnu_inline_attr)",
							"GNUNullExpr(gnu_null_expr)",
							"ImplicitValueInitExpr(implicit_value_init_expr)",
							"IncompleteArrayType(incomplete_array_type)",
							"IndirectFieldDecl(indirect_field_decl)",
							"IndirectGotoStmt(indirect_goto_stmt)",
							"InjectedClassNameType(injected_class_name_type)",
							"LambdaExpr(lambda_expr)",
							"LinkageSpecDecl(linkage_spec_decl)",
							"LValueReferenceType(l_value_reference_type)",
							"MaterializeTemporaryExpr(materialize_temporary_expr)",
							"MaxFieldAlignmentAttr(max_field_alignment_attr)",
							"MayAliasAttr(may_alias_attr)",
							"MemberPointerType(member_pointer_type)",
							"MinVectorWidthAttr(min_vector_width_attr)",
							"ModeAttr(mode_attr)",
							"NamespaceDecl(namespace_decl)",
							"NoDebugAttr(no_debug_attr)",
							"NoInlineAttr(no_inline_attr)",
							"NonTypeTemplateParmDecl(non_type_template_parm_decl)",
							"OffsetOfExpr(offset_of_expr)",
							"OpaqueValueExpr(opaque_value_expr)",
							"OwnerAttr(owner_attr)",
							"PackedAttr(packed_attr)",
							"PackExpansionExpr(pack_expansion_expr)",
							"PackExpansionType(pack_expansion_type)",
							"ParenType(paren_type)",
							"PointerAttr(pointer_attr)",
							"PointerType(pointer_type)",
							"PredefinedExpr(predefined_expr)",
							"QualType(qual_type)",
							"RecordType(record_type)",
							"ReturnsNonNullAttr(returns_non_null_attr)",
							"RValueReferenceType(r_value_reference_type)",
							"SentinelAttr(sentinel_attr)",
							"ShuffleVectorExpr(shuffle_vector_expr)",
							"SizeOfPackExpr(size_of_pack_expr)",
							"StaticAssertDecl(static_assert_decl)",
							"StmtExpr(stmt_expr)",
							"SubstNonTypeTemplateParmExpr(subst_non_type_template_parm_expr)",
							"SubstTemplateTypeParmType(subst_template_type_parm_type)",
							"TargetAttr(target_attr)",
							"TemplateArgument(template_argument)",
							"TemplateSpecializationType(template_specialization_type)",
							"TemplateTemplateParmDecl(template_template_parm_decl)",
							"TemplateTypeParmDecl(template_type_parm_decl)",
							"TemplateTypeParmType(template_type_parm_type)",
							"TParamCommandComment(t_param_command_comment)",
							"TypeAliasDecl(type_alias_decl)",
							"TypeAliasTemplateDecl(type_alias_template_decl)",
							"TypedefType(typedef_type)",
							"TypeOfExprType(type_of_expr_type)",
							"TypeTraitExpr(type_trait_expr)",
							"UnaryTransformType(unary_transform_type)",
							"UnresolvedUsingValueDecl(unresolved_using_value_decl)",
							"UnusedAttr(unused_attr)",
							"UsingDecl(using_decl)",
							"UsingDirectiveDecl(using_directive_decl)",
							"UsingShadowDecl(using_shadow_decl)",
							"VAArgExpr(va_arg_expr)",
							"VarTemplateDecl(var_template_decl)",
							"VectorType(vector_type)",
							"VerbatimLineComment(verbatim_line_comment)",
							"VisibilityAttr(visibility_attr)",
							"WeakRefAttr(weak_ref_attr)",
							"CXXRecordDecl(cxx_record_decl)",
							"CXXConstructorDecl(cxx_constructor_decl)",
							"n =>",
							"CXXCtorInitializer(cxx_ctor_initializer)",
							"CXXDependentScopeMemberExpr(cxx_dependent_scope_member_expr)",
							"CXXThisExpr(cxx_this_expr)",
							"CXXDestructorDecl(cxx_destructor_decl)",
							"n =>",
							"CXXMethodDecl(cxx_method_decl)",
							"n =>",
							"CXXStaticCastExpr(cxx_static_cast_expr)",
							"CXXUnresolvedConstructExpr(cxx_unresolved_construct_expr)",
							"CXXNewExpr(cxx_new_expr)",
							"CXXDeleteExpr(cxx_delete_expr)",
							"CXXBoolLiteralExpr(cxx_bool_literal_expr)",
							"CXX11NoReturnAttr(cxx11_no_return_attr)",
							"CXXBindTemporaryExpr(cxx_bind_temporary_expr)",
							"CXXCatchStmt(cxx_catch_stmt)",
							"CXXConstructExpr(cxx_construct_expr)",
							"CXXConversionDecl(cxx_conversion_decl)",
							"CXXDefaultArgExpr(cxx_default_arg_expr)",
							"CXXDefaultInitExpr(cxx_default_init_expr)",
							"CXXForRangeStmt(cxx_for_range_stmt)",
							"CXXFunctionalCastExpr(cxx_functional_cast_expr)",
							"CXXMemberCallExpr(cxx_member_call_expr)",
							"CXXNoexceptExpr(cxx_noexcept_expr)",
							"CXXNullPtrLiteralExpr(cxx_null_ptr_literal_expr)",
							"CXXOperatorCallExpr(cxx_operator_call_expr)",
							"CXXReinterpretCastExpr(cxx_reinterpret_cast_expr)",
							"CXXScalarValueInitExpr(cxx_scalar_value_init_expr)",
							"CXXTemporaryObjectExpr(cxx_temporary_object_expr)",
							"CXXTryStmt(cxx_try_stmt)",
							" function PrintNode(node)",
							" function PrintAst(node, ast)",
							"get()",
							" function isNode(obj)",
							" function GetType(name_or_id, ast = globalThis['$']?.data)",
							"n =>",
							" node =>",
							" node =>",
							"r =>",
							" function GetClass(name_or_id, ast = globalThis['$'].data)",
							" n =>",
							"bases()",
							" function* GetBases(node, ast = globalThis['$'].data)",
							" function GetByName(arg, ast = globalThis['$'].data, predicate = () => true)",
							" n =>",
							" function GetNamespace(arg, root = globalThis['$'].data, predicate = () => true)",
							" n =>",
							" function NamespaceOf(node, ast = globalThis['$'].data)",
							"toString()",
							" function GetFields(node)",
							" (v, k) =>",
							" ([v, p]) =>",
							"([loc, ptr]) =>",
							"i =>",
							" function GetParams(node)",
							"child =>",
							" function PathRemoveLoc(path)",
							"p =>"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADBAgAAICBmaW5kTGFzdEluZGV4KHByZWRpY2F0ZSkKICB0YWlsKCkKICBzdGFydHNXaXRoKHN0YXJ0KQogIG1haW4oLi4uYXJncykKKGEsIHApID0+CihhLCBwKSA9PgogIGQgPT4KICB2ID0+CiAgcHJvY2Vzc0ZpbGVzKC4uLmZpbGVzKQpSZWFkQVNUKG91dGZpbGUsIGxvYWQgPSBmID0+IAooZiksIHNhdmUgPSBXcml0ZUZpbGUsIHBhcnNlID0gSlNPTi5wYXJzZSkKICBuYW1lID0+CiAgc3RhdCA9PgooKSA9PgphID0+CigpID0+CigpID0+CigpID0+CigpID0+CiAgZXJyID0+Cih2LCBwKSA9PgogIHRvU3RyaW5nKCkKICB0b1N0cmluZygpCnYgPT4KTGlzdE5vZGVzKHN5c2luYyA9IGZhbHNlKQpOb1N5c3RlbUluY2x1ZGVzID0gKFtwLCBuLCBsXSkgPT4KKFtwYXRoLCBkZWNsXSkgPT4KICBuYW1lcyA9IGRlY2xzID0+CihbcGF0aCwgZGVjbF0pID0+CiAgZGVjbGFyYXRpb25zID0gZGVjbHMgPT4KKFtwYXRoLCBkZWNsLCBsb2NdKSA9PgooW3AsIG5dKSA9PgooYSwgYikgPT4KKFtwLCBuXSkgPT4KKFtwXSkgPT4KKFtwXSkgPT4KICBwID0+CihbcCwgbl0pID0+CihbcCwgbl0pID0+CihhLCBiKSA9PgooW3AsIG5dKSA9PgooW3AsIG4sIGxdKSA9PgogIGsgPT4KKFtwYXRoLCBub2RlLCBpZCwgbmFtZSwgdHlwZSwga2luZF0pID0+CihmaWVsZCwgaSkgPT4KICB3cml0ZU91dHB1dChuYW1lLCBkYXRhKQpHZXRMaWJyYXJ5Rm9yKHN5bWJvbE5hbWUpAAAAAAAAAABKLQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				]
			]
		},
		{
			"file": "clang-list.js",
			"settings":
			{
				"buffer_size": 8180,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					1,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABjHwAAaW1wb3J0IHsgQXN0RHVtcCwgR2V0TG9jLCBHZXRUeXBlU3RyIH0gZnJvbSAnLi9jbGFuZy1hc3QuanMnOwppbXBvcnQgeyBSZWFkQkpTT04sIFJlYWRGaWxlLCBXcml0ZUJKU09OLCBXcml0ZUZpbGUgfSBmcm9tICcuL2lvLWhlbHBlcnMuanMnOwppbXBvcnQgeyBkZWZpbmUgfSBmcm9tICd1dGlsJzsKaW1wb3J0IGRlZXAgZnJvbSAnLi9saWIvZGVlcC5qcyc7CmltcG9ydCAqIGFzIHBhdGggZnJvbSAnLi9saWIvcGF0aC5qcyc7CmltcG9ydCBUcmVlIGZyb20gJy4vbGliL3RyZWUuanMnOwoKLy9wcmV0dGllci1pZ25vcmUKbGV0IGZzLCBzcGF3bjsKCmRlZmluZShBcnJheS5wcm90b3R5cGUsIHsKICBmaW5kTGFzdEluZGV4KHByZWRpY2F0ZSkgewogICAgZm9yKGxldCBpID0gdGhpcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkgewogICAgICBjb25zdCB4ID0gdGhpc1tpXTsKICAgICAgaWYocHJlZGljYXRlKHgsIGksIHRoaXMpKSB7CiAgICAgICAgcmV0dXJuIGk7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiAtMTsKICB9LAogIHRhaWwoKSB7CiAgICByZXR1cm4gdGhpc1t0aGlzLmxlbmd0R2ggLSAxXTsKICB9LAogIHN0YXJ0c1dpdGgoc3RhcnQpIHsKICAgIGZvcihsZXQgaSA9IDA7IGkgPCBzdGFydC5sZW5ndGg7IGkrKykgaWYodGhpc1tpXSAhPT0gc3RhcnRbaV0pIHJldHVybiBmYWxzZTsKICAgIHJldHVybiB0cnVlOwogIH0KfSk7Cgphc3luYyBmdW5jdGlvbiBtYWluKC4uLmFyZ3MpIHsKICBjb25zb2xlLmxvZygnbWFpbignLCAuLi5hcmdzLCAnKScpOwoKICBsZXQgcGFyYW1zID0gZ2V0T3B0KAogICAgewogICAgICBvdXRwdXQ6IFt0cnVlLCBudWxsLCAnbyddLAogICAgICB4bWw6IFt0cnVlLCBudWxsLCAnWCddLAogICAgICBqc29uOiBbdHJ1ZSwgbnVsbCwgJ2onXSwKICAgICAgaW5jbHVkZTogW3RydWUsIChhLCBwKSA9PiAocCB8fCBbXSkuY29uY2F0KFthXSksICdJJ10sCiAgICAgIGRlZmluZTogW3RydWUsIChhLCBwKSA9PiAocCB8fCBbXSkuY29uY2F0KFthXSksICdEJ10sCiAgICAgIGRlYnVnOiBbZmFsc2UsIG51bGwsICd4J10sCiAgICAgICdzeXN0ZW0taW5jbHVkZXMnOiBbZmFsc2UsIG51bGwsICdzJ10sCiAgICAgICduby1yZW1vdmUtZW1wdHknOiBbZmFsc2UsIG51bGwsICdFJ10sCiAgICAgICdvdXRwdXQtZGlyJzogW3RydWUsIG51bGwsICdkJ10sCiAgICAgICdAJzogJ2lucHV0JwogICAgfSwKICAgIGFyZ3MKICApOwogIGNvbnNvbGUubG9nKCdtYWluJywgcGFyYW1zKTsKCiAgbGV0IGRlZnMgPSBwYXJhbXMuZGVmaW5lIHx8IFtdOwogIGxldCBpbmNsdWRlcyA9IHBhcmFtcy5pbmNsdWRlIHx8IFtdOwoKICBhcmdzID0gW107CiAgY29uc3Qgd2luMzIgPSBmYWxzZTsKCiAgaWYod2luMzIpIHsKICAgIGRlZnMgPSBkZWZzLmNvbmNhdCgKICAgICAgT2JqZWN0LmVudHJpZXMoewogICAgICAgIFBEV09SRDogJ3Vuc2lnbmVkIGxvbmcqJywKICAgICAgICBVQ0hBUjogJ3Vuc2lnbmVkIGNoYXInLAogICAgICAgIEJZVEU6ICdjaGFyJywKICAgICAgICBUQllURTogJ3VpbnQxNicsCiAgICAgICAgV09SRDogJ3Vuc2lnbmVkIHNob3J0JywKICAgICAgICBEV09SRDogJ3Vuc2lnbmVkIGxvbmcnLAogICAgICAgIFVMT05HOiAndW5zaWduZWQgbG9uZycsCiAgICAgICAgQ09OU1Q6ICdjb25zdCcKICAgICAgfSkKICAgICk7CgogICAgYXJncyA9IGFyZ3MuY29uY2F0KFsnLURfV0lOMzI9MScsICctRFdJTkFQST0nLCAnLURfX2RlY2xzcGVjKHgpPScsICctaW5jbHVkZScsICcvdXNyL3g4Nl82NC13NjQtbWluZ3czMi9pbmNsdWRlL3d0eXBlc2Jhc2UuaCcsICctSS91c3IveDg2XzY0LXc2NC1taW5ndzMyL2luY2x1ZGUnXSk7CiAgfQogIGNvbnNvbGUubG9nKCdhcmdzJywgeyBkZWZzLCBpbmNsdWRlcyB9KTsKICBhcmdzID0gYXJncy5jb25jYXQoZGVmcy5tYXAoZCA9PiBgLUQke2R9YCkpOwogIGFyZ3MgPSBhcmdzLmNvbmNhdChpbmNsdWRlcy5tYXAodiA9PiBgLUkke3Z9YCkpOwoKICBjb25zb2xlLmxvZygnUHJvY2Vzc2luZyBmaWxlczonLCBhcmdzKTsKCiAgYXdhaXQgcHJvY2Vzc0ZpbGVzKC4uLnBhcmFtc1snQCddKTsKCiAgYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc0ZpbGVzKC4uLmZpbGVzKSB7CiAgICBmb3IobGV0IGZpbGUgb2YgZmlsZXMpIHsKICAgICAgY29uc3Qgc3RhcnQgPSAvKmF3YWl0IG5vdygpOyAvLyovIGF3YWl0IGhydGltZSgpOwogICAgICBjb25zb2xlLmxvZygnc3RhcnQ6Jywgc3RhcnQpOwogICAgICBsZXQganNvbiwgYXN0OwogICAgICBsZXQgYmFzZSA9IHBhdGguYmFzZW5hbWUoZmlsZSwgL1wuW14uL10qJC8pOwogICAgICBsZXQgb3V0ZmlsZSA9IGJhc2UgKyAnLmFzdC5qc29uJzsKICAgICAgbGV0IGJvdXRmaWxlID0gYmFzZSArICcuYXN0LmJqc29uJzsKCiAgICAgIGFzeW5jIGZ1bmN0aW9uIFJlYWRBU1Qob3V0ZmlsZSwgbG9hZCA9IGYgPT4gUmVhZEZpbGUoZiksIHNhdmUgPSBXcml0ZUZpbGUsIHBhcnNlID0gSlNPTi5wYXJzZSkgewogICAgICAgIGxldCBzdCA9IFtmaWxlLCBvdXRmaWxlXS5tYXAobmFtZSA9PiBmcy5zdGF0KG5hbWUpKTsKICAgICAgICBsZXQgdGltZXMgPSBzdC5tYXAoc3RhdCA9PiAoc3RhdCAmJiBzdGF0Lm10aW1lKSB8fCAwKTsKICAgICAgICBsZXQgY2FjaGVkID0gdGltZXNbMV0gPj0gdGltZXNbMF07CiAgICAgICAgaWYoY2FjaGVkKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygnUmVhZGluZyBjYWNoZWQgQVNUIGZyb206Jywgb3V0ZmlsZSk7CiAgICAgICAgICBqc29uID0gLypmcy5yZWFkRmlsZSovIGF3YWl0IGxvYWQob3V0ZmlsZSk7CiAgICAgICAgICBhc3QgPSBhd2FpdCBwYXJzZShqc29uKTsKICAgICAgICAgIHJldHVybiBhc3Q7CiAgICAgICAgfSAvKmVsc2UgewogICAgICAgIGpzb24gPSBhd2FpdCBBc3REdW1wKGZpbGUsIGFyZ3MpOwogICAgICAgICBzYXZlKG91dGZpbGUsIHJldCk7CiAgICAgIH0qLwogICAgICB9CgogICAgICBjb25zdCBsb2FkRnVuY3Rpb25zID0gWwogICAgICAgIGFzeW5jICgpID0+IGF3YWl0IFJlYWRBU1QoYm91dGZpbGUsIFJlYWRCSlNPTiwgV3JpdGVCSlNPTiwgYSA9PiBhKS5jYXRjaCgoKSA9PiAwKSwKICAgICAgICBhc3luYyAoKSA9PiBhd2FpdCBSZWFkQVNUKG91dGZpbGUpLmNhdGNoKCgpID0+IDApLAogICAgICAgIGFzeW5jICgpID0+IHsKICAgICAgICAgIGlmKChqc29uID0gYXdhaXQgQXN0RHVtcChmaWxlLCBhcmdzKSkpIHsKICAgICAgICAgICAgYXN0ID0gYXdhaXQgaW5zdHJ1bWVudChKU09OLnBhcnNlKShqc29uKTsKICAgICAgICAgICAgYXdhaXQgV3JpdGVCSlNPTihib3V0ZmlsZSwgYXN0KS5jYXRjaChlcnIgPT4gewogICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTsKICAgICAgICAgICAgICBXcml0ZUZpbGUob3V0ZmlsZSwganNvbik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gYXN0OwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgXTsKCiAgICAgIGZvcihsZXQgZm4gb2YgbG9hZEZ1bmN0aW9ucykgewogICAgICAgIC8vY29uc29sZS5sb2coJ2ZuOicsIGZuICsgJycpOwogICAgICAgIGlmKChhc3QgPSBhd2FpdCBmbigpKSkgYnJlYWs7CiAgICAgIH0KICAgICAgLy9jb25zb2xlLmxvZygiYXN0OiIsIGFzdCk7CgogICAgICBsZXQgdHJlZSA9IG5ldyBUcmVlKGFzdCk7CiAgICAgIGxldCBmbGF0ID0gLyp0cmVlLmZsYXQoKTsqLyBkZWVwLmZsYXR0ZW4oYXN0LCBuZXcgTWFwKCksICh2LCBwKSA9PiBbJ2lubmVyJywgJ2xvYycsICdyYW5nZSddLmluZGV4T2YocFtwLmxlbmd0aCAtIDFdKSA9PSAtMSAmJiBpc09iamVjdCh2KSAvKiYmICdraW5kJyBpbiB2Ki8pOwogICAgICBsZXQgbG9jYXRpb25zID0gW107CiAgICAgIGxldCBsID0gT2JqZWN0LnNldFByb3RvdHlwZU9mKHt9LCB7IHRvU3RyaW5nKCkge30gfSk7CiAgICAgIC8vbGV0IHBhdGggPSBuZXcgV2Vha01hcCgpOwogICAgICBsZXQgaWRtYXAgPSB7fTsKICAgICAgbGV0IGlkMnBhdGggPSB7fTsKICAgICAgZm9yKGxldCBlbnRyeSBvZiBmbGF0KSB7CiAgICAgICAgY29uc3QgW3AsIG5dID0gZW50cnk7CiAgICAgICAgbGV0IGxvYyA9IEdldExvYyhuKTsKICAgICAgICBpZihsb2MpCiAgICAgICAgICBsID0gT2JqZWN0LnNldFByb3RvdHlwZU9mKAogICAgICAgICAgICB7IC4uLihsIHx8IHt9KSwgLi4ubG9jIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICB0b1N0cmluZygpIHsKICAgICAgICAgICAgICAgIGxldCBzOwogICAgICAgICAgICAgICAgaWYodGhpcy5maWxlKSB7CiAgICAgICAgICAgICAgICAgIHMgPSB0aGlzLmZpbGU7CiAgICAgICAgICAgICAgICAgIGlmKCdsaW5lJyBpbiB0aGlzKSBzICs9ICc6JyArIHRoaXMubGluZTsKICAgICAgICAgICAgICAgICAgaWYoJ2NvbCcgaW4gdGhpcykgcyArPSAnOicgKyB0aGlzLmNvbDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBzOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgKTsKICAgICAgICBpZignaWQnIGluIG4pIHsKICAgICAgICAgIGlkbWFwW24uaWRdID0gZW50cnk7CiAgICAgICAgICBpZDJwYXRoW24uaWRdID0gcDsKICAgICAgICB9CiAgICAgICAgLy9yZW1vdmVLZXlzKGVudHJpZXNbbG9jYXRpb25zLmxlbmd0aF1bMV0sIFsnbG9jJywncmFuZ2UnXSk7CiAgICAgICAgZW50cnlbMl0gPSBsOwogICAgICAgIGxvY2F0aW9ucy5wdXNoKGwpOwogICAgICB9CiAgICAgIGZvcihsZXQgW24sIHBdIG9mIGRlZXAuaXRlcmF0ZShhc3QsIHYgPT4gaXNPYmplY3QodikpKSB7CiAgICAgICAgaWYoLyhsb2N8cmFuZ2UpLy50ZXN0KHBbcC5sZW5ndGggLSAxXSArICcnKSkgZGVlcC51bnNldChhc3QsIHApOwogICAgICB9CiAgICAgIExpc3ROb2RlcyhwYXJhbXNbJ3N5c3RlbS1pbmNsdWRlcyddKTsKCiAgICAgIGZ1bmN0aW9uIExpc3ROb2RlcyhzeXNpbmMgPSBmYWxzZSkgewogICAgICAgIGxldCByZSA9IC8oXltfUF0/SU1BR0VfKS87CiAgICAgICAgY29uc3QgTm9TeXN0ZW1JbmNsdWRlcyA9IChbcCwgbiwgbF0pID0+ICEvXlwvdXNyLy50ZXN0KGwuZmlsZSArICcnKTsKICAgICAgICBsZXQgZW50cmllcyA9IFsuLi5mbGF0XTsKICAgICAgICBsZXQgbWFpbk5vZGVzID0gc3lzaW5jID8gZW50cmllcyA6IGVudHJpZXMuZmlsdGVyKE5vU3lzdGVtSW5jbHVkZXMpOwoKICAgICAgICBsZXQgdHlwZWRlZnMgPSBbLi4uZmlsdGVyKG1haW5Ob2RlcywgKFtwYXRoLCBkZWNsXSkgPT4gZGVjbC5raW5kID09ICdUeXBlZGVmRGVjbCcpXTsKCiAgICAgICAgY29uc3QgbmFtZXMgPSBkZWNscyA9PiBbLi4uZGVjbHNdLm1hcCgoW3BhdGgsIGRlY2xdKSA9PiBkZWNsLm5hbWUpOwogICAgICAgIGNvbnN0IGRlY2xhcmF0aW9ucyA9IGRlY2xzID0+IFsuLi5kZWNsc10ubWFwKChbcGF0aCwgZGVjbCwgbG9jXSkgPT4gW2RlY2wubmFtZSwgbG9jLnRvU3RyaW5nKCldKTsKCiAgICAgICAgaWYocGFyYW1zLmRlYnVnKSB7CiAgICAgICAgICBsZXQgbm9kZVR5cGVzID0gWy4uLm5vZGVzXS5tYXAoKFtwLCBuXSkgPT4gbi5raW5kKTsKICAgICAgICAgIGxldCBoaXN0ID0gaGlzdG9ncmFtKG5vZGVUeXBlcywgbmV3IE1hcCgpKTsKICAgICAgICAgIGNvbnNvbGUubG9nKCdoaXN0b2dyYW06JywgbmV3IE1hcChbLi4uaGlzdF0uc29ydCgoYSwgYikgPT4gYVsxXSAtIGJbMV0pKSk7CiAgICAgICAgfQoKICAgICAgICBsZXQgbmFtZWROb2RlcyA9IG1haW5Ob2Rlcy5maWx0ZXIoKFtwLCBuXSkgPT4gJ25hbWUnIGluIG4pOwoKICAgICAgICBsZXQgbG9jX25hbWUgPSBpbnRlcnNlY3QoCiAgICAgICAgICAvKm5hbWVkTm9kZXMKICAgICAgICAgICAgLmZpbHRlcigoW3AsIG5dKSA9PiAvRGVjbC8udGVzdChuLmtpbmQgKyAnJykgJiYgaXNOdW1lcmljKHBbcC5sZW5ndGggLSAxXSkpCiAgICAgICAgICAgIC5tYXAoKFtwXSkgPT4gcCkgfHwqLwogICAgICAgICAgdHlwZWRlZnMubWFwKChbcF0pID0+IHApLAogICAgICAgICAgbmFtZWROb2Rlcy5tYXAoKFtwXSkgPT4gcCkKICAgICAgICApLm1hcChwID0+IFtwLnNwbGl0KCcuJyksIGZsYXQuZ2V0KHApXSk7CgogICAgICAgIGlmKHBhcmFtcy5kZWJ1ZykgY29uc29sZS5sb2coJ2xvY19uYW1lOicsIGxvY19uYW1lKTsKCiAgICAgICAgbGV0IG5hbWVkRGVjbHMgPSBuZXcgTWFwKAogICAgICAgICAgbG9jX25hbWUKICAgICAgICAgICAgLmZpbHRlcigoW3AsIG5dKSA9PiAhLyhQYXJtVmFyfEZpZWxkRGVjbCkvLnRlc3Qobi5raW5kKSkKICAgICAgICAgICAgLm1hcCgoW3AsIG5dKSA9PiBbbi5uYW1lLCBuXSkKICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IGFbMF0ubG9jYWxlQ29tcGFyZShiWzBdKSkKICAgICAgICApOwoKICAgICAgICBpZihwYXJhbXMuZGVidWcpIGNvbnNvbGUubG9nKCduYW1lZERlY2xzOicsIG5hbWVkRGVjbHMpOwoKICAgICAgICBsZXQgZGVjbHMgPSBsb2NfbmFtZQogICAgICAgICAgLm1hcCgoW3AsIG5dKSA9PiBbcCwgbiwgbG9jYXRpb25zW3RyZWUucGF0aE9mKG4pXV0pCiAgICAgICAgICAubWFwKChbcCwgbiwgbF0pID0+IFsKICAgICAgICAgICAgcCwKICAgICAgICAgICAgbiwKICAgICAgICAgICAgbi5pZCB8fCB0cmVlLnBhdGhPZihuKSwKICAgICAgICAgICAgbi5uYW1lIHx8IG4ucmVmZXJlbmNlZE1lbWJlckRlY2wgfHwgT2JqZWN0LmtleXMobikuZmlsdGVyKGsgPT4gdHlwZW9mIG5ba10gPT0gJ3N0cmluZycpLAogICAgICAgICAgICBHZXRUeXBlU3RyKG4pLAogICAgICAgICAgICBuLmtpbmQsCiAgICAgICAgICAgIHAuam9pbignLicpLnJlcGxhY2UoL1wuP2lubmVyXC4vZywgJy8nKSwKICAgICAgICAgICAgbCArICcnCiAgICAgICAgICBdKTsKCiAgICAgICAgaWYocGFyYW1zLmRlYnVnKSBjb25zb2xlLmxvZygnbG9jIOKIqSBuYW1lOicsIGxvY19uYW1lLmxlbmd0aCk7CgogICAgICAgIGZvcihsZXQgZGVjbCBvZiBkZWNscy5maWx0ZXIoKFtwYXRoLCBub2RlLCBpZCwgbmFtZSwgdHlwZSwga2luZF0pID0+ICEvUGFybVZhci8udGVzdChraW5kKSkpIHsKICAgICAgICAgIGNvbnN0IGxpbmUgPSBkZWNsCiAgICAgICAgICAgIC5zbGljZSgyKQogICAgICAgICAgICAubWFwKChmaWVsZCwgaSkgPT4gKGFiYnJldmlhdGUoZmllbGQsIFtJbmZpbml0eSwgSW5maW5pdHksIDIwLCBJbmZpbml0eSwgSW5maW5pdHksIEluZmluaXR5XVtpXSkgKyAnJykucGFkRW5kKFs2LCAyNSwgMjAsIDIwLCA0MCwgMF1baV0pKQogICAgICAgICAgICAuam9pbignICcpOwoKICAgICAgICAgIGNvbnNvbGUubG9nKGxpbmUpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KfQoKbWFpbiguLi5zY3JpcHRBcmdzLnNsaWNlKDEpKTsKCi8qZnVuY3Rpb24gV3JpdGVGaWxlKG5hbWUsIGRhdGEsIHZlcmJvc2UgPSB0cnVlKSB7CiAgaWYodHlwZW9mIGRhdGEgPT0gJ3N0cmluZycgJiYgIWRhdGEuZW5kc1dpdGgoJ1xuJykpIGRhdGEgKz0gJ1xuJzsKICBsZXQgcmV0ID0gZnMud3JpdGVGaWxlKG5hbWUsIGRhdGEpOwoKICBpZih2ZXJib3NlKSBjb25zb2xlLmxvZyhgV3JvdGUgJHtuYW1lfTogJHtyZXR9IGJ5dGVzYCk7Cn0qLwoKZnVuY3Rpb24gd3JpdGVPdXRwdXQobmFtZSwgZGF0YSkgewogIGxldCBuID0gZGF0YS5sZW5ndGg7CiAgbGV0IHJldCA9IFdyaXRlRmlsZShuYW1lLCBkYXRhLmpvaW4oJ1xuJyksIGZhbHNlKTsKCiAgLyppZihyZXQgPiAwKSovIGNvbnNvbGUubG9nKGBXcm90ZSAke259IHJlY29yZHMgdG8gJyR7bmFtZX0nLmApOwogIHJldHVybiByZXQ7Cn0KCmZ1bmN0aW9uIEdldExpYnJhcnlGb3Ioc3ltYm9sTmFtZSkgewogIGlmKC9CWjIvLnRlc3Qoc3ltYm9sTmFtZSkpIHJldHVybiAnbGliYnoyLnNvLjEnOwogIGlmKC8oZmxhdGV8Y29tcHJlc3N8emxpYnxneikvaS50ZXN0KHN5bWJvbE5hbWUpKSByZXR1cm4gJ2xpYnouc28uMSc7CiAgaWYoL2x6bWEvaS50ZXN0KHN5bWJvbE5hbWUpKSByZXR1cm4gJ2xpYmx6bWEuc28uMSc7CiAgaWYoL2Jyb3RsaS9pLnRlc3Qoc3ltYm9sTmFtZSkpIHJldHVybiAnbGliYnJvdGxpLnNvLjEnOwp9CgAAAAAAAAAAYR8AAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					2,
					1,
					"revert",
					null,
					"BAAAAAAAAAAAAAAAAAAAAAAAAABjHwAAaW1wb3J0IHsgQXN0RHVtcCwgR2V0TG9jLCBHZXRUeXBlU3RyIH0gZnJvbSAnLi9jbGFuZy1hc3QuanMnOwppbXBvcnQgeyBSZWFkQkpTT04sIFJlYWRGaWxlLCBXcml0ZUJKU09OLCBXcml0ZUZpbGUgfSBmcm9tICcuL2lvLWhlbHBlcnMuanMnOwppbXBvcnQgeyBkZWZpbmUgfSBmcm9tICd1dGlsJzsKaW1wb3J0IGRlZXAgZnJvbSAnLi9saWIvZGVlcC5qcyc7CmltcG9ydCAqIGFzIHBhdGggZnJvbSAnLi9saWIvcGF0aC5qcyc7CmltcG9ydCBUcmVlIGZyb20gJy4vbGliL3RyZWUuanMnOwoKLy9wcmV0dGllci1pZ25vcmUKbGV0IGZzLCBzcGF3bjsKCmRlZmluZShBcnJheS5wcm90b3R5cGUsIHsKICBmaW5kTGFzdEluZGV4KHByZWRpY2F0ZSkgewogICAgZm9yKGxldCBpID0gdGhpcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkgewogICAgICBjb25zdCB4ID0gdGhpc1tpXTsKICAgICAgaWYocHJlZGljYXRlKHgsIGksIHRoaXMpKSB7CiAgICAgICAgcmV0dXJuIGk7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiAtMTsKICB9LAogIHRhaWwoKSB7CiAgICByZXR1cm4gdGhpc1t0aGlzLmxlbmd0R2ggLSAxXTsKICB9LAogIHN0YXJ0c1dpdGgoc3RhcnQpIHsKICAgIGZvcihsZXQgaSA9IDA7IGkgPCBzdGFydC5sZW5ndGg7IGkrKykgaWYodGhpc1tpXSAhPT0gc3RhcnRbaV0pIHJldHVybiBmYWxzZTsKICAgIHJldHVybiB0cnVlOwogIH0KfSk7Cgphc3luYyBmdW5jdGlvbiBtYWluKC4uLmFyZ3MpIHsKICBjb25zb2xlLmxvZygnbWFpbignLCAuLi5hcmdzLCAnKScpOwoKICBsZXQgcGFyYW1zID0gZ2V0T3B0KAogICAgewogICAgICBvdXRwdXQ6IFt0cnVlLCBudWxsLCAnbyddLAogICAgICB4bWw6IFt0cnVlLCBudWxsLCAnWCddLAogICAgICBqc29uOiBbdHJ1ZSwgbnVsbCwgJ2onXSwKICAgICAgaW5jbHVkZTogW3RydWUsIChhLCBwKSA9PiAocCB8fCBbXSkuY29uY2F0KFthXSksICdJJ10sCiAgICAgIGRlZmluZTogW3RydWUsIChhLCBwKSA9PiAocCB8fCBbXSkuY29uY2F0KFthXSksICdEJ10sCiAgICAgIGRlYnVnOiBbZmFsc2UsIG51bGwsICd4J10sCiAgICAgICdzeXN0ZW0taW5jbHVkZXMnOiBbZmFsc2UsIG51bGwsICdzJ10sCiAgICAgICduby1yZW1vdmUtZW1wdHknOiBbZmFsc2UsIG51bGwsICdFJ10sCiAgICAgICdvdXRwdXQtZGlyJzogW3RydWUsIG51bGwsICdkJ10sCiAgICAgICdAJzogJ2lucHV0JwogICAgfSwKICAgIGFyZ3MKICApOwogIGNvbnNvbGUubG9nKCdtYWluJywgcGFyYW1zKTsKCiAgbGV0IGRlZnMgPSBwYXJhbXMuZGVmaW5lIHx8IFtdOwogIGxldCBpbmNsdWRlcyA9IHBhcmFtcy5pbmNsdWRlIHx8IFtdOwoKICBhcmdzID0gW107CiAgY29uc3Qgd2luMzIgPSBmYWxzZTsKCiAgaWYod2luMzIpIHsKICAgIGRlZnMgPSBkZWZzLmNvbmNhdCgKICAgICAgT2JqZWN0LmVudHJpZXMoewogICAgICAgIFBEV09SRDogJ3Vuc2lnbmVkIGxvbmcqJywKICAgICAgICBVQ0hBUjogJ3Vuc2lnbmVkIGNoYXInLAogICAgICAgIEJZVEU6ICdjaGFyJywKICAgICAgICBUQllURTogJ3VpbnQxNicsCiAgICAgICAgV09SRDogJ3Vuc2lnbmVkIHNob3J0JywKICAgICAgICBEV09SRDogJ3Vuc2lnbmVkIGxvbmcnLAogICAgICAgIFVMT05HOiAndW5zaWduZWQgbG9uZycsCiAgICAgICAgQ09OU1Q6ICdjb25zdCcKICAgICAgfSkKICAgICk7CgogICAgYXJncyA9IGFyZ3MuY29uY2F0KFsnLURfV0lOMzI9MScsICctRFdJTkFQST0nLCAnLURfX2RlY2xzcGVjKHgpPScsICctaW5jbHVkZScsICcvdXNyL3g4Nl82NC13NjQtbWluZ3czMi9pbmNsdWRlL3d0eXBlc2Jhc2UuaCcsICctSS91c3IveDg2XzY0LXc2NC1taW5ndzMyL2luY2x1ZGUnXSk7CiAgfQogIGNvbnNvbGUubG9nKCdhcmdzJywgeyBkZWZzLCBpbmNsdWRlcyB9KTsKICBhcmdzID0gYXJncy5jb25jYXQoZGVmcy5tYXAoZCA9PiBgLUQke2R9YCkpOwogIGFyZ3MgPSBhcmdzLmNvbmNhdChpbmNsdWRlcy5tYXAodiA9PiBgLUkke3Z9YCkpOwoKICBjb25zb2xlLmxvZygnUHJvY2Vzc2luZyBmaWxlczonLCBhcmdzKTsKCiAgYXdhaXQgcHJvY2Vzc0ZpbGVzKC4uLnBhcmFtc1snQCddKTsKCiAgYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc0ZpbGVzKC4uLmZpbGVzKSB7CiAgICBmb3IobGV0IGZpbGUgb2YgZmlsZXMpIHsKICAgICAgY29uc3Qgc3RhcnQgPSAvKmF3YWl0IG5vdygpOyAvLyovIGF3YWl0IGhydGltZSgpOwogICAgICBjb25zb2xlLmxvZygnc3RhcnQ6Jywgc3RhcnQpOwogICAgICBsZXQganNvbiwgYXN0OwogICAgICBsZXQgYmFzZSA9IHBhdGguYmFzZW5hbWUoZmlsZSwgL1wuW14uL10qJC8pOwogICAgICBsZXQgb3V0ZmlsZSA9IGJhc2UgKyAnLmFzdC5qc29uJzsKICAgICAgbGV0IGJvdXRmaWxlID0gYmFzZSArICcuYXN0LmJqc29uJzsKCiAgICAgIGFzeW5jIGZ1bmN0aW9uIFJlYWRBU1Qob3V0ZmlsZSwgbG9hZCA9IGYgPT4gUmVhZEZpbGUoZiksIHNhdmUgPSBXcml0ZUZpbGUsIHBhcnNlID0gSlNPTi5wYXJzZSkgewogICAgICAgIGxldCBzdCA9IFtmaWxlLCBvdXRmaWxlXS5tYXAobmFtZSA9PiBmcy5zdGF0KG5hbWUpKTsKICAgICAgICBsZXQgdGltZXMgPSBzdC5tYXAoc3RhdCA9PiAoc3RhdCAmJiBzdGF0Lm10aW1lKSB8fCAwKTsKICAgICAgICBsZXQgY2FjaGVkID0gdGltZXNbMV0gPj0gdGltZXNbMF07CiAgICAgICAgaWYoY2FjaGVkKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygnUmVhZGluZyBjYWNoZWQgQVNUIGZyb206Jywgb3V0ZmlsZSk7CiAgICAgICAgICBqc29uID0gLypmcy5yZWFkRmlsZSovIGF3YWl0IGxvYWQob3V0ZmlsZSk7CiAgICAgICAgICBhc3QgPSBhd2FpdCBwYXJzZShqc29uKTsKICAgICAgICAgIHJldHVybiBhc3Q7CiAgICAgICAgfSAvKmVsc2UgewogICAgICAgIGpzb24gPSBhd2FpdCBBc3REdW1wKGZpbGUsIGFyZ3MpOwogICAgICAgICBzYXZlKG91dGZpbGUsIHJldCk7CiAgICAgIH0qLwogICAgICB9CgogICAgICBjb25zdCBsb2FkRnVuY3Rpb25zID0gWwogICAgICAgIGFzeW5jICgpID0+IGF3YWl0IFJlYWRBU1QoYm91dGZpbGUsIFJlYWRCSlNPTiwgV3JpdGVCSlNPTiwgYSA9PiBhKS5jYXRjaCgoKSA9PiAwKSwKICAgICAgICBhc3luYyAoKSA9PiBhd2FpdCBSZWFkQVNUKG91dGZpbGUpLmNhdGNoKCgpID0+IDApLAogICAgICAgIGFzeW5jICgpID0+IHsKICAgICAgICAgIGlmKChqc29uID0gYXdhaXQgQXN0RHVtcChmaWxlLCBhcmdzKSkpIHsKICAgICAgICAgICAgYXN0ID0gYXdhaXQgaW5zdHJ1bWVudChKU09OLnBhcnNlKShqc29uKTsKICAgICAgICAgICAgYXdhaXQgV3JpdGVCSlNPTihib3V0ZmlsZSwgYXN0KS5jYXRjaChlcnIgPT4gewogICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTsKICAgICAgICAgICAgICBXcml0ZUZpbGUob3V0ZmlsZSwganNvbik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gYXN0OwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgXTsKCiAgICAgIGZvcihsZXQgZm4gb2YgbG9hZEZ1bmN0aW9ucykgewogICAgICAgIC8vY29uc29sZS5sb2coJ2ZuOicsIGZuICsgJycpOwogICAgICAgIGlmKChhc3QgPSBhd2FpdCBmbigpKSkgYnJlYWs7CiAgICAgIH0KICAgICAgLy9jb25zb2xlLmxvZygiYXN0OiIsIGFzdCk7CgogICAgICBsZXQgdHJlZSA9IG5ldyBUcmVlKGFzdCk7CiAgICAgIGxldCBmbGF0ID0gLyp0cmVlLmZsYXQoKTsqLyBkZWVwLmZsYXR0ZW4oYXN0LCBuZXcgTWFwKCksICh2LCBwKSA9PiBbJ2lubmVyJywgJ2xvYycsICdyYW5nZSddLmluZGV4T2YocFtwLmxlbmd0aCAtIDFdKSA9PSAtMSAmJiBpc09iamVjdCh2KSAvKiYmICdraW5kJyBpbiB2Ki8pOwogICAgICBsZXQgbG9jYXRpb25zID0gW107CiAgICAgIGxldCBsID0gT2JqZWN0LnNldFByb3RvdHlwZU9mKHt9LCB7IHRvU3RyaW5nKCkge30gfSk7CiAgICAgIC8vbGV0IHBhdGggPSBuZXcgV2Vha01hcCgpOwogICAgICBsZXQgaWRtYXAgPSB7fTsKICAgICAgbGV0IGlkMnBhdGggPSB7fTsKICAgICAgZm9yKGxldCBlbnRyeSBvZiBmbGF0KSB7CiAgICAgICAgY29uc3QgW3AsIG5dID0gZW50cnk7CiAgICAgICAgbGV0IGxvYyA9IEdldExvYyhuKTsKICAgICAgICBpZihsb2MpCiAgICAgICAgICBsID0gT2JqZWN0LnNldFByb3RvdHlwZU9mKAogICAgICAgICAgICB7IC4uLihsIHx8IHt9KSwgLi4ubG9jIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICB0b1N0cmluZygpIHsKICAgICAgICAgICAgICAgIGxldCBzOwogICAgICAgICAgICAgICAgaWYodGhpcy5maWxlKSB7CiAgICAgICAgICAgICAgICAgIHMgPSB0aGlzLmZpbGU7CiAgICAgICAgICAgICAgICAgIGlmKCdsaW5lJyBpbiB0aGlzKSBzICs9ICc6JyArIHRoaXMubGluZTsKICAgICAgICAgICAgICAgICAgaWYoJ2NvbCcgaW4gdGhpcykgcyArPSAnOicgKyB0aGlzLmNvbDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBzOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgKTsKICAgICAgICBpZignaWQnIGluIG4pIHsKICAgICAgICAgIGlkbWFwW24uaWRdID0gZW50cnk7CiAgICAgICAgICBpZDJwYXRoW24uaWRdID0gcDsKICAgICAgICB9CiAgICAgICAgLy9yZW1vdmVLZXlzKGVudHJpZXNbbG9jYXRpb25zLmxlbmd0aF1bMV0sIFsnbG9jJywncmFuZ2UnXSk7CiAgICAgICAgZW50cnlbMl0gPSBsOwogICAgICAgIGxvY2F0aW9ucy5wdXNoKGwpOwogICAgICB9CiAgICAgIGZvcihsZXQgW24sIHBdIG9mIGRlZXAuaXRlcmF0ZShhc3QsIHYgPT4gaXNPYmplY3QodikpKSB7CiAgICAgICAgaWYoLyhsb2N8cmFuZ2UpLy50ZXN0KHBbcC5sZW5ndGggLSAxXSArICcnKSkgZGVlcC51bnNldChhc3QsIHApOwogICAgICB9CiAgICAgIExpc3ROb2RlcyhwYXJhbXNbJ3N5c3RlbS1pbmNsdWRlcyddKTsKCiAgICAgIGZ1bmN0aW9uIExpc3ROb2RlcyhzeXNpbmMgPSBmYWxzZSkgewogICAgICAgIGxldCByZSA9IC8oXltfUF0/SU1BR0VfKS87CiAgICAgICAgY29uc3QgTm9TeXN0ZW1JbmNsdWRlcyA9IChbcCwgbiwgbF0pID0+ICEvXlwvdXNyLy50ZXN0KGwuZmlsZSArICcnKTsKICAgICAgICBsZXQgZW50cmllcyA9IFsuLi5mbGF0XTsKICAgICAgICBsZXQgbWFpbk5vZGVzID0gc3lzaW5jID8gZW50cmllcyA6IGVudHJpZXMuZmlsdGVyKE5vU3lzdGVtSW5jbHVkZXMpOwoKICAgICAgICBsZXQgdHlwZWRlZnMgPSBbLi4uZmlsdGVyKG1haW5Ob2RlcywgKFtwYXRoLCBkZWNsXSkgPT4gZGVjbC5raW5kID09ICdUeXBlZGVmRGVjbCcpXTsKCiAgICAgICAgY29uc3QgbmFtZXMgPSBkZWNscyA9PiBbLi4uZGVjbHNdLm1hcCgoW3BhdGgsIGRlY2xdKSA9PiBkZWNsLm5hbWUpOwogICAgICAgIGNvbnN0IGRlY2xhcmF0aW9ucyA9IGRlY2xzID0+IFsuLi5kZWNsc10ubWFwKChbcGF0aCwgZGVjbCwgbG9jXSkgPT4gW2RlY2wubmFtZSwgbG9jLnRvU3RyaW5nKCldKTsKCiAgICAgICAgaWYocGFyYW1zLmRlYnVnKSB7CiAgICAgICAgICBsZXQgbm9kZVR5cGVzID0gWy4uLm5vZGVzXS5tYXAoKFtwLCBuXSkgPT4gbi5raW5kKTsKICAgICAgICAgIGxldCBoaXN0ID0gaGlzdG9ncmFtKG5vZGVUeXBlcywgbmV3IE1hcCgpKTsKICAgICAgICAgIGNvbnNvbGUubG9nKCdoaXN0b2dyYW06JywgbmV3IE1hcChbLi4uaGlzdF0uc29ydCgoYSwgYikgPT4gYVsxXSAtIGJbMV0pKSk7CiAgICAgICAgfQoKICAgICAgICBsZXQgbmFtZWROb2RlcyA9IG1haW5Ob2Rlcy5maWx0ZXIoKFtwLCBuXSkgPT4gJ25hbWUnIGluIG4pOwoKICAgICAgICBsZXQgbG9jX25hbWUgPSBpbnRlcnNlY3QoCiAgICAgICAgICAvKm5hbWVkTm9kZXMKICAgICAgICAgICAgLmZpbHRlcigoW3AsIG5dKSA9PiAvRGVjbC8udGVzdChuLmtpbmQgKyAnJykgJiYgaXNOdW1lcmljKHBbcC5sZW5ndGggLSAxXSkpCiAgICAgICAgICAgIC5tYXAoKFtwXSkgPT4gcCkgfHwqLwogICAgICAgICAgdHlwZWRlZnMubWFwKChbcF0pID0+IHApLAogICAgICAgICAgbmFtZWROb2Rlcy5tYXAoKFtwXSkgPT4gcCkKICAgICAgICApLm1hcChwID0+IFtwLnNwbGl0KCcuJyksIGZsYXQuZ2V0KHApXSk7CgogICAgICAgIGlmKHBhcmFtcy5kZWJ1ZykgY29uc29sZS5sb2coJ2xvY19uYW1lOicsIGxvY19uYW1lKTsKCiAgICAgICAgbGV0IG5hbWVkRGVjbHMgPSBuZXcgTWFwKAogICAgICAgICAgbG9jX25hbWUKICAgICAgICAgICAgLmZpbHRlcigoW3AsIG5dKSA9PiAhLyhQYXJtVmFyfEZpZWxkRGVjbCkvLnRlc3Qobi5raW5kKSkKICAgICAgICAgICAgLm1hcCgoW3AsIG5dKSA9PiBbbi5uYW1lLCBuXSkKICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IGFbMF0ubG9jYWxlQ29tcGFyZShiWzBdKSkKICAgICAgICApOwoKICAgICAgICBpZihwYXJhbXMuZGVidWcpIGNvbnNvbGUubG9nKCduYW1lZERlY2xzOicsIG5hbWVkRGVjbHMpOwoKICAgICAgICBsZXQgZGVjbHMgPSBsb2NfbmFtZQogICAgICAgICAgLm1hcCgoW3AsIG5dKSA9PiBbcCwgbiwgbG9jYXRpb25zW3RyZWUucGF0aE9mKG4pXV0pCiAgICAgICAgICAubWFwKChbcCwgbiwgbF0pID0+IFsKICAgICAgICAgICAgcCwKICAgICAgICAgICAgbiwKICAgICAgICAgICAgbi5pZCB8fCB0cmVlLnBhdGhPZihuKSwKICAgICAgICAgICAgbi5uYW1lIHx8IG4ucmVmZXJlbmNlZE1lbWJlckRlY2wgfHwgT2JqZWN0LmtleXMobikuZmlsdGVyKGsgPT4gdHlwZW9mIG5ba10gPT0gJ3N0cmluZycpLAogICAgICAgICAgICBHZXRUeXBlU3RyKG4pLAogICAgICAgICAgICBuLmtpbmQsCiAgICAgICAgICAgIHAuam9pbignLicpLnJlcGxhY2UoL1wuP2lubmVyXC4vZywgJy8nKSwKICAgICAgICAgICAgbCArICcnCiAgICAgICAgICBdKTsKCiAgICAgICAgaWYocGFyYW1zLmRlYnVnKSBjb25zb2xlLmxvZygnbG9jIOKIqSBuYW1lOicsIGxvY19uYW1lLmxlbmd0aCk7CgogICAgICAgIGZvcihsZXQgZGVjbCBvZiBkZWNscy5maWx0ZXIoKFtwYXRoLCBub2RlLCBpZCwgbmFtZSwgdHlwZSwga2luZF0pID0+ICEvUGFybVZhci8udGVzdChraW5kKSkpIHsKICAgICAgICAgIGNvbnN0IGxpbmUgPSBkZWNsCiAgICAgICAgICAgIC5zbGljZSgyKQogICAgICAgICAgICAubWFwKChmaWVsZCwgaSkgPT4gKGFiYnJldmlhdGUoZmllbGQsIFtJbmZpbml0eSwgSW5maW5pdHksIDIwLCBJbmZpbml0eSwgSW5maW5pdHksIEluZmluaXR5XVtpXSkgKyAnJykucGFkRW5kKFs2LCAyNSwgMjAsIDIwLCA0MCwgMF1baV0pKQogICAgICAgICAgICAuam9pbignICcpOwoKICAgICAgICAgIGNvbnNvbGUubG9nKGxpbmUpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KfQoKbWFpbiguLi5zY3JpcHRBcmdzLnNsaWNlKDEpKTsKCi8qZnVuY3Rpb24gV3JpdGVGaWxlKG5hbWUsIGRhdGEsIHZlcmJvc2UgPSB0cnVlKSB7CiAgaWYodHlwZW9mIGRhdGEgPT0gJ3N0cmluZycgJiYgIWRhdGEuZW5kc1dpdGgoJ1xuJykpIGRhdGEgKz0gJ1xuJzsKICBsZXQgcmV0ID0gZnMud3JpdGVGaWxlKG5hbWUsIGRhdGEpOwoKICBpZih2ZXJib3NlKSBjb25zb2xlLmxvZyhgV3JvdGUgJHtuYW1lfTogJHtyZXR9IGJ5dGVzYCk7Cn0qLwoKZnVuY3Rpb24gd3JpdGVPdXRwdXQobmFtZSwgZGF0YSkgewogIGxldCBuID0gZGF0YS5sZW5ndGg7CiAgbGV0IHJldCA9IFdyaXRlRmlsZShuYW1lLCBkYXRhLmpvaW4oJ1xuJyksIGZhbHNlKTsKCiAgLyppZihyZXQgPiAwKSovIGNvbnNvbGUubG9nKGBXcm90ZSAke259IHJlY29yZHMgdG8gJyR7bmFtZX0nLmApOwogIHJldHVybiByZXQ7Cn0KCmZ1bmN0aW9uIEdldExpYnJhcnlGb3Ioc3ltYm9sTmFtZSkgewogIGlmKC9CWjIvLnRlc3Qoc3ltYm9sTmFtZSkpIHJldHVybiAnbGliYnoyLnNvLjEnOwogIGlmKC8oZmxhdGV8Y29tcHJlc3N8emxpYnxneikvaS50ZXN0KHN5bWJvbE5hbWUpKSByZXR1cm4gJ2xpYnouc28uMSc7CiAgaWYoL2x6bWEvaS50ZXN0KHN5bWJvbE5hbWUpKSByZXR1cm4gJ2xpYmx6bWEuc28uMSc7CiAgaWYoL2Jyb3RsaS9pLnRlc3Qoc3ltYm9sTmFtZSkpIHJldHVybiAnbGliYnJvdGxpLnNvLjEnOwp9CgAAAAAAAAAAbB8AAAAAAAAAAAAAAAAAAAAAAABsHwAAAAAAAAAAAAAAAAAAAAAAAPUfAAAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					3,
					1,
					"left_delete",
					null,
					"AQAAADQCAAAAAAAANAIAAAAAAAABAAAARw",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAA1AgAAAAAAADUCAAAAAAAAAAAAAAAA8L8"
				],
				[
					4,
					1,
					"insert",
					{
						"characters": "h"
					},
					"AQAAADQCAAAAAAAANQIAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAA0AgAAAAAAADQCAAAAAAAAAAAAAAAA8L8"
				],
				[
					5,
					1,
					"right_delete",
					null,
					"AQAAADUCAAAAAAAANQIAAAAAAAABAAAAaA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAA1AgAAAAAAADUCAAAAAAAAAAAAAAAA8L8"
				]
			]
		},
		{
			"file": "clang-ast.js",
			"settings":
			{
				"buffer_size": 87925,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					3,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAGAEAAAAAAAAYQQAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAGAEAAAAAAAAYAQAAAAAAAAAAAAAAADwvw"
				],
				[
					4,
					1,
					"insert",
					{
						"characters": " deep.TYPE_OBJE"
					},
					"DwAAAGEEAAAAAAAAYgQAAAAAAAAAAAAAYgQAAAAAAABjBAAAAAAAAAAAAABjBAAAAAAAAGQEAAAAAAAAAAAAAGQEAAAAAAAAZQQAAAAAAAAAAAAAZQQAAAAAAABmBAAAAAAAAAAAAABmBAAAAAAAAGcEAAAAAAAAAAAAAGcEAAAAAAAAaAQAAAAAAAAAAAAAaAQAAAAAAABpBAAAAAAAAAAAAABpBAAAAAAAAGoEAAAAAAAAAAAAAGoEAAAAAAAAawQAAAAAAAAAAAAAawQAAAAAAABsBAAAAAAAAAAAAABsBAAAAAAAAG0EAAAAAAAAAAAAAG0EAAAAAAAAbgQAAAAAAAAAAAAAbgQAAAAAAABvBAAAAAAAAAAAAABvBAAAAAAAAHAEAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAGEEAAAAAAAAYQQAAAAAAAAAAAAAAADwvw"
				],
				[
					5,
					1,
					"insert",
					{
						"characters": "CT|de"
					},
					"BQAAAHAEAAAAAAAAcQQAAAAAAAAAAAAAcQQAAAAAAAByBAAAAAAAAAAAAAByBAAAAAAAAHMEAAAAAAAAAAAAAHMEAAAAAAAAdAQAAAAAAAAAAAAAdAQAAAAAAAB1BAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAHAEAAAAAAAAcAQAAAAAAAAAAAAAAADwvw"
				],
				[
					6,
					1,
					"insert",
					{
						"characters": "ep.TYPE_FUNCTION"
					},
					"EAAAAHUEAAAAAAAAdgQAAAAAAAAAAAAAdgQAAAAAAAB3BAAAAAAAAAAAAAB3BAAAAAAAAHgEAAAAAAAAAAAAAHgEAAAAAAAAeQQAAAAAAAAAAAAAeQQAAAAAAAB6BAAAAAAAAAAAAAB6BAAAAAAAAHsEAAAAAAAAAAAAAHsEAAAAAAAAfAQAAAAAAAAAAAAAfAQAAAAAAAB9BAAAAAAAAAAAAAB9BAAAAAAAAH4EAAAAAAAAAAAAAH4EAAAAAAAAfwQAAAAAAAAAAAAAfwQAAAAAAACABAAAAAAAAAAAAACABAAAAAAAAIEEAAAAAAAAAAAAAIEEAAAAAAAAggQAAAAAAAAAAAAAggQAAAAAAACDBAAAAAAAAAAAAACDBAAAAAAAAIQEAAAAAAAAAAAAAIQEAAAAAAAAhQQAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAHUEAAAAAAAAdQQAAAAAAAAAAAAAAADwvw"
				],
				[
					36,
					1,
					"paste",
					null,
					"AQAAAIUGAAAAAAAAqQYAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAIUGAAAAAAAAhQYAAAAAAAAAAAAAAADwvw"
				],
				[
					39,
					1,
					"left_delete",
					null,
					"AQAAAIUGAAAAAAAAhQYAAAAAAAABAAAAIA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAIYGAAAAAAAAhgYAAAAAAAAAAAAAAADwvw"
				],
				[
					40,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAIUGAAAAAAAAhgYAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAIUGAAAAAAAAhQYAAAAAAAAAAAAAAADwvw"
				],
				[
					41,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAIYGAAAAAAAAhwYAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAIYGAAAAAAAAhgYAAAAAAAAAAAAAAADwvw"
				],
				[
					53,
					1,
					"revert",
					null,
					"BAAAAAAAAAAAAAAAAAAAAAAAAACqVAEAaW1wb3J0ICogYXMgZnMgZnJvbSAnZnMnOwppbXBvcnQgeyBSZWFkRmlsZSwgUmVhZEJKU09OLCBXcml0ZUJKU09OIH0gZnJvbSAnLi9pby1oZWxwZXJzLmpzJzsKaW1wb3J0ICogYXMgZGVlcCBmcm9tICcuL2xpYi9kZWVwLmpzJzsKaW1wb3J0IHsgYXNzZXJ0LCBiaXRzLCBjbGFzc05hbWUsIGRlZmluZSwgbm9uZW51bWVyYWJsZSwgcHJvcGVydGllcywgZW50cmllcywgZXJyb3JzLCBmaWx0ZXIsIGlzQXJyYXksIGlzRnVuY3Rpb24sIGlzT2JqZWN0LCBpc1N0cmluZywga2V5cywgbGF6eVByb3BlcnRpZXMsIG1hdGNoQWxsLCBtZW1vaXplLCBwcmVkaWNhdGUsIHJhbmdlLCByZXBlYXQsIHNwbGl0LCB0b1N0cmluZywgdHlwZXMsIHVuaXF1ZSwgdmFsdWVzLCB3ZWFrRGVmaW5lLCB9IGZyb20gJy4vbGliL21pc2MuanMnOwppbXBvcnQgKiBhcyBwYXRoIGZyb20gJy4vbGliL3BhdGguanMnOwppbXBvcnQgeyBQb2ludGVyIH0gZnJvbSAnLi9saWIvcG9pbnRlci5qcyc7CmltcG9ydCB7IFNwYXduIH0gZnJvbSAnLi9vcy1oZWxwZXJzLmpzJzsKaW1wb3J0IHsgY291bnRTdWJzdHJpbmcgfSBmcm9tICcuL3N0cmluZy1oZWxwZXJzLmpzJzsKaW1wb3J0IHsgaW5zcGVjdCB9IGZyb20gJ2luc3BlY3QnOwppbXBvcnQgeyByZWFkT2JqZWN0LCBtYXBGdW5jdGlvbiB9IGZyb20gJ3V0aWwnOwppbXBvcnQgeyBzdHJpbmcsIHByb3BlcnR5LCBzaGlmdCwgYW5kLCByZWdleHAsIG5vdG5vdCB9IGZyb20gJ3ByZWRpY2F0ZSc7CgpleHBvcnQgbGV0IFNJWkVPRl9QT0lOVEVSID0gODsKZXhwb3J0IGxldCBTSVpFT0ZfSU5UID0gNDsKCmNvbnN0IGFzdDJucCA9ICgKICAod20gPSBuZXcgV2Vha01hcCgpKSA9PgogIChhc3QsIHIpID0+CiAgICAociA9IHdtLmdldChhc3QpKSA/IHIgOiAod20uc2V0KGFzdCwgKHIgPSBuZXcgV2Vha01hcCgpKSksIHIpCikoKTsKCmV4cG9ydCBmdW5jdGlvbiBEZWVwRmluZChhc3QsIHByZWQsIGZsYWdzID0gZGVlcC5SRVRVUk5fVkFMVUUpIHsKICBpZihpc1N0cmluZyhwcmVkKSkgcHJlZCA9IHByb3BlcnR5KCduYW1lJywgc3RyaW5nKHByZWQpKTsKCiAgY29uc3QgcmVzdWx0ID0gZGVlcC5maW5kKGFzdCwgcHJlZCwgZGVlcC5SRVRVUk5fVkFMVUVfUEFUSCwgZGVlcC5UWVBFX09CSkVDVHxkZWVwLlRZUEVfRlVOQ1RJT04pOwoKICBpZihyZXN1bHQpIHsKICAgIGNvbnN0IFt2YWx1ZSwgcGF0aF0gPSByZXN1bHQ7CgogICAgRGVlcENhY2hlUGF0aChhc3QsIHBhdGgpOwoKICAgIHN3aXRjaCAoZmxhZ3MpIHsKICAgICAgY2FzZSBkZWVwLlJFVFVSTl9WQUxVRV9QQVRIOgogICAgICAgIHJldHVybiBbdmFsdWUsIHBhdGhdOwogICAgICBjYXNlIGRlZXAuUkVUVVJOX1BBVEg6CiAgICAgICAgcmV0dXJuIHBhdGg7CiAgICAgIGNhc2UgZGVlcC5SRVRVUk5fVkFMVUU6CiAgICAgICAgcmV0dXJuIHZhbHVlOwogICAgfQogIH0KfQoKZXhwb3J0IGZ1bmN0aW9uKiBEZWVwU2VsZWN0KGFzdCwgcHJlZCwgZmxhZ3MgPSBkZWVwLlJFVFVSTl9WQUxVRSkgewogIGxldCBtID0gYXN0Mm5wKGFzdCk7CgogIGlmKGlzU3RyaW5nKHByZWQpKSBwcmVkID0gcHJvcGVydHkoJ25hbWUnLCBzdHJpbmcocHJlZCkpOwoKICBmb3IobGV0IFt2YWx1ZSwgcGF0aF0gb2YgZGVlcC5pdGVyYXRlKGFzdCwgcHJlZCwgZGVlcC5SRVRVUk5fVkFMVUVfUEFUSCwgZGVlcC5UWVBFX09CSkVDVHxkZWVwLlRZUEVfRlVOQ1RJT04pKSB7CiAgICBEZWVwQ2FjaGVQYXRoKGFzdCwgcGF0aCwgbSk7CgogICAgc3dpdGNoIChmbGFncykgewogICAgICBjYXNlIGRlZXAuUkVUVVJOX1ZBTFVFX1BBVEg6CiAgICAgICAgeWllbGQgW3ZhbHVlLCBwYXRoXTsKICAgICAgICBicmVhazsKICAgICAgY2FzZSBkZWVwLlJFVFVSTl9QQVRIOgogICAgICAgIHlpZWxkIHBhdGg7CiAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgZGVlcC5SRVRVUk5fVkFMVUU6CiAgICAgICAgeWllbGQgdmFsdWU7CiAgICAgICAgYnJlYWs7CiAgICB9CiAgfQp9CgpleHBvcnQgZnVuY3Rpb24gRGVlcENhY2hlUGF0aChhc3QsIHBhdGgsIG0gPSBhc3QybnAoYXN0KSkgewogIGNvbnN0IGwgPSBwYXRoLmxlbmd0aDsKICBsZXQgbiA9IGFzdDsKCiAgZm9yKGxldCBpID0gMDsgaSA8IGw7ICsraSkgewogICAgbiA9IG5bcGF0aFtpXV07CgogICAgaWYodHlwZW9mIG4gPT0gJ29iamVjdCcpIG0uc2V0KG4sIHBhdGguc2xpY2UoMCwgaSArIDEpKTsKICB9Cn0KCmV4cG9ydCBmdW5jdGlvbiBEZWVwUGF0aE9mKGFzdCwgdmFsdWUpIHsKICBsZXQgcDsKCiAgaWYoKHAgPSBhc3QybnAoYXN0KS5nZXQodmFsdWUpKSkgcmV0dXJuIHA7CgogIHJldHVybiBkZWVwLnBhdGhPZihhc3QsIHZhbHVlKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIERlZXBHZXQoYXN0LCBwYXRoLCAuLi5hcmdzKSB7CiAgY29uc3QgdmFsdWUgPSBkZWVwLmdldChhc3QsIHBhdGgsIC4uLmFyZ3MpOwoKICBpZih2YWx1ZSkgRGVlcENhY2hlUGF0aChhc3QsIHBhdGgpOwoKICByZXR1cm4gdmFsdWU7Cn0KCmNvbnN0IEMgPSBjb25zb2xlLmNvbmZpZyh7IGNvbXBhY3Q6IHRydWUgfSk7CgpmdW5jdGlvbiBGaWxlVGltZShmaWxlbmFtZSkgewogIGxldCBzdCA9IGZzLnN0YXRTeW5jKGZpbGVuYW1lKTsKICByZXR1cm4gc3QgPyAoc3QubXRpbWUgPz8gc3QudGltZSkgOiAtMTsKfQoKZnVuY3Rpb24gTmV3ZXIoZmlsZSwgLi4ub3RoZXIpIHsKICAvL2NvbnNvbGUubG9nKCdOZXdlcicsIHsgZmlsZSwgb3RoZXIgfSk7CiAgcmV0dXJuIG90aGVyLmV2ZXJ5KG90aGVyID0+IEZpbGVUaW1lKGZpbGUpID4gRmlsZVRpbWUob3RoZXIpKTsKfQoKZnVuY3Rpb24gT2xkZXIoZmlsZSwgb3RoZXIpIHsKICByZXR1cm4gRmlsZVRpbWUoZmlsZSkgPCBGaWxlVGltZShvdGhlcik7Cn0KCmZ1bmN0aW9uIEdldFN1YnNjcmlwdHMoc3RyKSB7CiAgbGV0IG1hdGNoZXMgPSBbLi4ubWF0Y2hBbGwoL1xbKFswLTldKilcXS9nLCBzdHIpXTsKICByZXR1cm4gbWF0Y2hlcy5tYXAobSA9PiBbbS5pbmRleCwgK21bMV1dKTsKfQoKZnVuY3Rpb24gVHJpbVN1YnNjcmlwdHMoc3RyLCBzdWIpIHsKICBsZXQgW3N1YnNjcmlwdCA9IFtzdHIubGVuZ3RoXV0gPSBzdWIgPz8gR2V0U3Vic2NyaXB0cyhzdHIpID8/IFtbc3RyLmxlbmd0aF1dOwogIC8vY29uc29sZS5sb2coInN1YnNjcmlwdDoiLHN1YnNjcmlwdCk7CiAgcmV0dXJuIHN0ci5zbGljZSgwLCBzdWJzY3JpcHRbMF0pLnRyaW1FbmQoKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIG5hbWVPcklkUHJlZChuYW1lX29yX2lkLCBwcmVkID0gbiA9PiB0cnVlKSB7CiAgaWYoL14oc3RydWN0fHVuaW9uKVxzLy50ZXN0KG5hbWVfb3JfaWQpKSB7CiAgICBjb25zdCBpZHggPSBuYW1lX29yX2lkLmluZGV4T2YoJyAnKTsKICAgIGNvbnN0IHRhZyA9IG5hbWVfb3JfaWQuc3Vic3RyaW5nKDAsIGlkeCk7CiAgICBjb25zdCBuYW1lID0gbmFtZV9vcl9pZC5zdWJzdHJpbmcoaWR4ICsgMSk7CgogICAgcmV0dXJuIG5vZGUgPT4gbm9kZS5uYW1lID09IG5hbWUgJiYgbm9kZS50YWdVc2VkID09IHRhZzsKICB9CgogIGlmKHR5cGVvZiBuYW1lX29yX2lkID09ICdudW1iZXInKSBuYW1lX29yX2lkID0gJzB4JyArIG5hbWVfb3JfaWQudG9TdHJpbmcoMTYpOwoKICByZXR1cm4gbmFtZV9vcl9pZCBpbnN0YW5jZW9mIFJlZ0V4cAogICAgPyBhbmQocHJvcGVydHkoJ25hbWUnLCByZWdleHAobmFtZV9vcl9pZCkpLCBwcmVkKQogICAgOiBuYW1lX29yX2lkLnN0YXJ0c1dpdGgoJzB4JykKICAgICAgPyBhbmQocHJvcGVydHkoJ2lkJywgc3RyaW5nKG5hbWVfb3JfaWQpKSwgcHJlZCkKICAgICAgOiBhbmQocHJvcGVydHkoJ25hbWUnLCBzdHJpbmcobmFtZV9vcl9pZCkpLCBwcmVkKTsKfQoKZXhwb3J0IGNsYXNzIExpc3QgZXh0ZW5kcyBBcnJheSB7CiAgY29uc3RydWN0b3IoLi4uYXJncykgewogICAgc3VwZXIoLi4uYXJncyk7CiAgfQoKICBzdGF0aWMgZ2V0IFtTeW1ib2wuc3BlY2llc10oKSB7CiAgICByZXR1cm4gTGlzdDsKICB9CgogIC8qIHByZXR0aWVyLWlnbm9yZSAqLyBnZXQgW1N5bWJvbC5zcGVjaWVzXSgpIHsgcmV0dXJuIExpc3Q7IH0KCiAgZmlsdGVyKGNhbGxiYWNrLCB0aGlzQXJnID0gbnVsbCkgewogICAgbGV0IHJldCA9IG5ldyBMaXN0KCksCiAgICAgIGkgPSAwOwoKICAgIGlmKHR5cGVvZiBjYWxsYmFjayA9PSAnb2JqZWN0JyAmJiBjYWxsYmFjayAhPSBudWxsICYmIGNhbGxiYWNrIGluc3RhbmNlb2YgUmVnRXhwKSB7CiAgICAgIHZhciByZSA9IGNhbGxiYWNrOwogICAgICBjYWxsYmFjayA9IGVsZW0gPT4gdHlwZW9mIGVsZW0gPT0gJ29iamVjdCcgJiYgZWxlbSAhPSBudWxsICYmIChyZS50ZXN0KGVsZW0ubmFtZSkgfHwgKEdldExvYyhlbGVtKSAmJiByZS50ZXN0KEdldExvYyhlbGVtKS5maWxlKSkpOwogICAgfQoKICAgIGZvcihsZXQgZWxlbSBvZiB0aGlzKSB7CiAgICAgIGlmKGNhbGxiYWNrLmNhbGwodGhpc0FyZywgZWxlbSwgaSwgdGhpcykpIHJldFtpXSA9IGVsZW07CiAgICAgIGkrKzsKICAgIH0KCiAgICByZXR1cm4gcmV0OwogIH0KCiAgc2xpY2Uoc3RhcnQsIGVuZCkgewogICAgbGV0IHJldCA9IG5ldyBMaXN0KCksCiAgICAgIGkgPSAwOwoKICAgIGlmKHN0YXJ0IDwgMCkgc3RhcnQgPSAoc3RhcnQgJSB0aGlzLmxlbmd0aCkgKyB0aGlzLmxlbmd0aDsKICAgIHN0YXJ0ID8/PSAwOwogICAgaWYoZW5kIDwgMCkgZW5kID0gKGVuZCAlIHRoaXMubGVuZ3RoKSArIHRoaXMubGVuZ3RoOwogICAgZW5kID8/PSB0aGlzLmxlbmd0aDsKCiAgICBmb3IobGV0IGkgPSBzdGFydDsgaSA8IGVuZDsgaSsrKSByZXRbaV0gPSB0aGlzW2ldOwoKICAgIHJldHVybiByZXQ7CiAgfQoKICAvKiBwcmV0dGllci1pZ25vcmUgKi8gZ2V0IGZpcnN0KCkgeyByZXR1cm4gdGhpcy5maW5kKGVsZW0gPT4gZWxlbSAhPT0gdW5kZWZpbmVkKTsgfQoKICBlbnRyaWVzKCkgewogICAgY29uc3QgcmV0ID0gW107CgogICAgZm9yKGxldCBbaSwgZWxlbV0gb2Ygc3VwZXIuZW50cmllcygpKSBpZihlbGVtKSByZXQucHVzaChbaSwgZWxlbV0pOwoKICAgIHJldHVybiByZXQ7CiAgfQoKICBrZXlzKCkgewogICAgY29uc3QgcmV0ID0gW107CgogICAgZm9yKGxldCBbaSwgZWxlbV0gb2Ygc3VwZXIuZW50cmllcygpKSBpZihlbGVtKSByZXQucHVzaChpKTsKCiAgICByZXR1cm4gcmV0OwogIH0KCiAgdmFsdWVzKCkgewogICAgY29uc3QgcmV0ID0gW107CgogICAgZm9yKGxldCBbaSwgZWxlbV0gb2Ygc3VwZXIuZW50cmllcygpKSBpZihlbGVtKSByZXQucHVzaChlbGVtKTsKCiAgICByZXR1cm4gcmV0OwogIH0KCiAgdG9BcnJheSgpIHsKICAgIHJldHVybiB0aGlzLnJlZHVjZSgoYSwgbikgPT4gWy4uLmEsIG5dLCBbXSk7CiAgfQp9CgpkZWZpbmUoTGlzdC5wcm90b3R5cGUsIHsgW1N5bWJvbC50b1N0cmluZ1RhZ106ICdMaXN0JyB9KTsKCmV4cG9ydCBjbGFzcyBOb2RlIHsKICBzdGF0aWMgYXN0Mm5vZGUgPSBuZXcgV2Vha01hcCgpOwogIHN0YXRpYyBub2RlMmFzdCA9IG5ldyBXZWFrTWFwKCk7CgogIGNvbnN0cnVjdG9yKGFzdCkgewogICAgaWYodHlwZW9mIGFzdCA9PSAnb2JqZWN0JyAmJiBhc3QgIT0gbnVsbCkgewogICAgICBpZigncGF0aCcgaW4gYXN0ICYmICd2YWx1ZScgaW4gYXN0KSBhc3QgPSBhc3QudmFsdWU7CgogICAgICAvL3Rocm93IG5ldyBFcnJvcihgTm9kZSBjb25zdHJ1Y3RvciAke2luc3BlY3QoYXN0KX1gKTsKICAgICAgTm9kZS5hc3Qybm9kZS5zZXQoYXN0LCB0aGlzKTsKICAgICAgTm9kZS5ub2RlMmFzdC5zZXQodGhpcywgYXN0KTsKICAgIH0KICB9CgogIHN0YXRpYyBnZXQoYXN0KSB7CiAgICByZXR1cm4gTm9kZS5hc3Qybm9kZS5nZXQoYXN0KTsKICB9CgogIC8qIHByZXR0aWVyLWlnbm9yZSAqLyBnZXQgYXN0KCkgeyByZXR1cm4gTm9kZS5ub2RlMmFzdC5nZXQodGhpcyk7IH0KICAvKiBwcmV0dGllci1pZ25vcmUgKi8gZ2V0IGlkKCkgeyByZXR1cm4gdGhpcy5hc3QuaWQ7IH0KICAvKiBwcmV0dGllci1pZ25vcmUgKi8gZ2V0IGxvYygpIHsgcmV0dXJuIG5ldyBMb2NhdGlvbihHZXRMb2ModGhpcy5hc3QpKTsgfQoKICBnZXQgZmlsZSgpIHsKICAgIGNvbnN0IGxvYyA9IHRoaXMuYXN0LmxvYyA/PyBEZWVwRmluZCh0aGlzLmFzdCwgKHYsIGspID0+IGsgPT0gJ2xvYycpID8/IERlZXBGaW5kKHQuYXN0LCAodiwgaykgPT4gdHlwZW9mIHYgPT0gJ29iamVjdCcgJiYgdiAhPSBudWxsICYmICdmaWxlJyBpbiB2KTsKICAgIGlmKGxvYykgcmV0dXJuIGxvYy5maWxlOwogIH0KCiAgZ2V0IHJhbmdlKCkgewogICAgY29uc3QgeyByYW5nZSB9ID0gdGhpcy5hc3Q7CiAgICBsZXQgbG9jLCBmaWxlOwoKICAgIGlmKHJhbmdlKSB7CiAgICAgIGNvbnN0IHsgYmVnaW4sIGVuZCB9ID0gcmFuZ2U7CgogICAgICBpZighKCdsaW5lJyBpbiBiZWdpbikpIGJlZ2luLmxpbmUgPSAobG9jID8/PSB0aGlzLmxvYykubGluZTsKCiAgICAgIHJldHVybiBbYmVnaW4sIGVuZF0ubWFwKHIgPT4gewogICAgICAgIGlmKCEoJ2ZpbGUnIGluIHIpKSByLmZpbGUgPSBmaWxlID8/PSB0aGlzLmZpbGU7CgogICAgICAgIHJldHVybiBuZXcgTG9jYXRpb24ocik7CiAgICAgIH0pOwogICAgfQoKICAgIHJldHVybiBbbmV3IExvY2F0aW9uKHJhbmdlLmJlZ2luKSwgbmV3IExvY2F0aW9uKHJhbmdlLmVuZCldOwogIH0KCiAgdG9KU09OKG9iaikgewogICAgY29uc3QgeyBraW5kIH0gPSB0aGlzOwogICAgb2JqID8/PSB7IGtpbmQgfTsKCiAgICBpZighb2JqLmtpbmQpIG9iai5raW5kID0gY2xhc3NOYW1lKHRoaXMpOwoKICAgIHJldHVybiBvYmo7CiAgfQoKICAvKiBwcmV0dGllci1pZ25vcmUgKi8gZ2V0IFtTeW1ib2wudG9TdHJpbmdUYWddKCkgeyByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lOyB9Cn0KCk9iamVjdC5zZXRQcm90b3R5cGVPZihOb2RlLnByb3RvdHlwZSwgbnVsbCk7Cgpjb25zdCBnZXRUeXBlRnJvbU5vZGUgPSBtZW1vaXplKChub2RlLCBhc3QpID0+IG5ldyBUeXBlKG5vZGUudHlwZSwgYXN0KSwgbmV3IFdlYWtNYXAoKSk7CgpleHBvcnQgZnVuY3Rpb24gUGF0aE9mKG5vZGUsIGFzdCA9IGdsb2JhbFRoaXNbJyQnXS5kYXRhKSB7CiAgcmV0dXJuIG5ldyBQb2ludGVyKFBhdGhPZihhc3QsIG5vZGUpKTsKfQoKZXhwb3J0IGZ1bmN0aW9uKiBIaWVyKG5vZGVfb3JfcGF0aCwgdCA9IChwLCBhc3QsIGFib3J0KSA9PiBwLmRlcmVmKGFzdCksIGFzdCA9IGdsb2JhbFRoaXNbJyQnXS5kYXRhKSB7CiAgbGV0IHA7CgogIGlmKG5vZGVfb3JfcGF0aCAmJiBub2RlX29yX3BhdGgua2luZCkgcCA9IFBhdGhPZihub2RlX29yX3BhdGgsIGFzdCk7CiAgZWxzZSBwID0gbmV3IFBvaW50ZXIobm9kZV9vcl9wYXRoKTsKCiAgY29uc3QgaGllciA9IHAKICAgIC5oaWVyKCkKICAgIC5yZXZlcnNlKCkKICAgIC5maWx0ZXIocCA9PiBwLmF0KC0xKSAhPSAnaW5uZXInKTsKCiAgZm9yKGxldCBwcCBvZiBoaWVyKSB7CiAgICBjb25zdCBkb0Fib3J0ID0gZmFsc2UsCiAgICAgIGFib3J0Rm4gPSAoKSA9PiAoZG9BYm9ydCA9IHRydWUpOwoKICAgIHlpZWxkIHQocHAsIGFzdCwgYWJvcnRGbik7CgogICAgaWYoZG9BYm9ydCkgYnJlYWs7CiAgfQp9CgpleHBvcnQgZnVuY3Rpb24gRmluZFR5cGUodHlwZU5hbWUsIGFzdCA9IGdsb2JhbFRoaXNbJyQnXS5kYXRhKSB7CiAgY29uc3QgdG9rZW5zID0gWy4uLnR5cGVOYW1lLm1hdGNoQWxsKC9bQS1aYS16X11bQS1aYS16MC05X10rL2cpXS5tYXAoKFt0b2tdKSA9PiB0b2spOwoKICB3aGlsZShbJ2NvbnN0J10uaW5kZXhPZih0b2tlbnNbMF0pICE9IC0xKSB7CiAgICB0b2tlbnMuc2hpZnQoKTsKICAgIHR5cGVOYW1lID0gdHlwZU5hbWUucmVwbGFjZShuZXcgUmVnRXhwKCdeJyArIHRva2Vuc1swXSArICdcXHMqJyksICcnKTsKICB9CgogIGNvbnN0IG5vZGVzID0gRGVlcFNlbGVjdChhc3QsIHRva2Vuc1swXSkuZmlsdGVyKG5vZGUgPT4gbm9kZS5pbm5lciAmJiBub2RlLmlubmVyLmxlbmd0aCk7CiAgY29uc29sZS5sb2coJ25vZGVzJywgbm9kZXMpOwoKICByZXR1cm4gbmV3IFR5cGUodHlwZU5hbWUsIGFzdCk7Cn0KCmV4cG9ydCBjbGFzcyBQb2ludGVyVHlwZSBleHRlbmRzIE5vZGUgewogIHBvaW50ZWUgPSBudWxsOwoKICBjb25zdHJ1Y3Rvcihwb2ludGVlLCBhc3QsIG5zKSB7CiAgICBzdXBlcihhc3QsIG5zKTsKICAgIGRlZmluZSh0aGlzLCB7IHBvaW50ZWUgfSk7CiAgfQoKICBzdGF0aWMgZnJvbVN0cmluZyhzdHIsIGFzdCwgbnMpIHsKICAgIGNvbnN0IHQgPSBzdHIucmVwbGFjZSgvXiguKilccypcKlxzKiQvZywgJyQxJyk7CgogICAgaWYodCAhPSBzdHIpIHsKICAgICAgY29uc3QgdHlwZSA9IFR5cGUuZGVjbGFyYXRpb25zLmdldCh0KSA/PyBuZXcgVHlwZSh0LCBhc3QsIG5zKTsKICAgICAgcmV0dXJuIG5ldyBQb2ludGVyVHlwZSh0eXBlLCBhc3QsIG5zKTsKICAgIH0KICB9CgogIHRvU3RyaW5nKCkgewogICAgcmV0dXJuIHRoaXMucG9pbnRlZSArIGAgKmA7CiAgfQp9CgpleHBvcnQgY2xhc3MgUmVmZXJlbmNlVHlwZSBleHRlbmRzIE5vZGUgewogIHBvaW50ZWUgPSBudWxsOwoKICBjb25zdHJ1Y3Rvcihwb2ludGVlLCBhc3QsIG5zKSB7CiAgICBzdXBlcihhc3QsIG5zKTsKICAgIGRlZmluZSh0aGlzLCB7IHBvaW50ZWUgfSk7CiAgfQoKICBzdGF0aWMgZnJvbVN0cmluZyhzdHIsIGFzdCwgbnMpIHsKICAgIGNvbnN0IHQgPSBzdHIucmVwbGFjZSgvXiguKilccypcJlxzKiQvZywgJyQxJyk7CgogICAgaWYodCAhPSBzdHIpIHsKICAgICAgY29uc3QgdHlwZSA9IFR5cGUuZGVjbGFyYXRpb25zLmdldCh0KSA/PyBuZXcgVHlwZSh0LCBhc3QsIG5zKTsKICAgICAgcmV0dXJuIG5ldyBSZWZlcmVuY2VUeXBlKHR5cGUsIGFzdCwgbnMpOwogICAgfQogIH0KCiAgdG9TdHJpbmcoKSB7CiAgICByZXR1cm4gdGhpcy5wb2ludGVlICsgYCAmYDsKICB9Cn0KCmV4cG9ydCBjbGFzcyBUeXBlIGV4dGVuZHMgTm9kZSB7CiAgc3RhdGljIGRlY2xhcmF0aW9ucyA9IG5ldyBNYXAoKTsKICBzdGF0aWMgbm9kZTJ0eXBlID0gZ2V0VHlwZUZyb21Ob2RlLmNhY2hlOwoKICBjb25zdHJ1Y3Rvcihub2RlLCBhc3QsIG5zKSB7CiAgICBsZXQgbmFtZSwgZGVzdWdhcmVkLCB0eXBlQWxpYXMsIHF1YWxUeXBlOwoKICAgIC8vIGNvbnNvbGUubG9nKCdUeXBlLmNvbnN0cnVjdG9yJywgQywgeyBub2RlLCBhc3QgfSk7CgogICAgYXN0ID8/PSBnbG9iYWxUaGlzWyckJ10/LmRhdGE7CgogICAgaWYoQXJyYXkuaXNBcnJheShub2RlKSkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vZGUgaXMgYXJyYXkhYCk7CiAgICB9CgogICAgaWYobm9kZS5raW5kKSB7CiAgICAgIG5hbWUgPSBOYW1lRm9yKG5vZGUsIGFzdCk7CiAgICAgIGlmKFR5cGUuZGVjbGFyYXRpb25zLmhhcyhuYW1lKSkgcmV0dXJuIFR5cGUuZGVjbGFyYXRpb25zLmdldChuYW1lKTsKICAgIH0KCiAgICBpZihub2RlLnF1YWxUeXBlICYmIFR5cGUuZGVjbGFyYXRpb25zLmhhcyhub2RlLnF1YWxUeXBlKSkgcmV0dXJuIFR5cGUuZGVjbGFyYXRpb25zLmdldChub2RlLnF1YWxUeXBlKTsKCiAgICBpZih0eXBlb2Ygbm9kZSA9PSAnc3RyaW5nJykgewogICAgICBsZXQgdG1wOwoKICAgICAgbmFtZSA9IG5vZGUudHJpbSgpLnJlcGxhY2VBbGwoL14oY29uc3Rccyt8dm9sYXRpbGVccyt8KSovZywgJycpOwogICAgICBxdWFsVHlwZSA9IG5vZGU7CiAgICAgIG5vZGUgPSBudWxsOwoKICAgICAgaWYoVHlwZS5kZWNsYXJhdGlvbnMuaGFzKG5hbWUpKSByZXR1cm4gVHlwZS5kZWNsYXJhdGlvbnMuZ2V0KG5hbWUpOwoKICAgICAgaWYoYXN0ICYmIHR5cGVvZiAodG1wID0gRGVlcEZpbmQoYXN0LCBuYW1lKSkgPT0gJ29iamVjdCcgJiYgdG1wICE9IG51bGwpIHsKICAgICAgICB0bXAgPSAna2luZCcgaW4gdG1wID8gVHlwZUZhY3RvcnkodG1wLCBhc3QpIDogbmV3IFR5cGUodG1wLCBhc3QpOwoKICAgICAgICBpZih0bXApIG5vZGUgPSAnYXN0JyBpbiB0bXAgPyB0bXAuYXN0IDogdG1wOwogICAgICB9CgogICAgICBjb25zdCBpc1BvaW50ZXIgPSBuYW1lLmVuZHNXaXRoKCcqJyk7CiAgICAgIGNvbnN0IGlzUmVmZXJlbmNlID0gbmFtZS5lbmRzV2l0aCgnJicpOwoKICAgICAgaWYoaXNQb2ludGVyKSB7CiAgICAgICAgbm9kZSA9IHsKICAgICAgICAgIGtpbmQ6ICdDdXN0b21UeXBlJywKICAgICAgICAgIHF1YWxUeXBlOiBuYW1lLAogICAgICAgICAgZGVzdWdhcmVkUXVhbFR5cGU6ICd2b2lkIConLAogICAgICAgIH07CiAgICAgIH0KCiAgICAgIGlmKCFpc1BvaW50ZXIgJiYgIWlzUmVmZXJlbmNlICYmICFub2RlKSB7CiAgICAgICAgY29uc3Qgc3Vic2NyaXB0cyA9IEdldFN1YnNjcmlwdHMobmFtZSk7CiAgICAgICAgbmFtZSA9IFRyaW1TdWJzY3JpcHRzKG5hbWUsIHN1YnNjcmlwdHMpOwogICAgICAgIC8vY29uc29sZS5sb2coJ1R5cGUnLCB7IG5hbWUsIHN1YnNjcmlwdHMgfSk7CgogICAgICAgIGlmKGFzdCkgewogICAgICAgICAgbm9kZSA9IEdldFR5cGUobmFtZSwgYXN0KSA/PyBHZXRDbGFzcyhuYW1lLCBhc3QpOwoKICAgICAgICAgIGlmKCFub2RlKSB7CiAgICAgICAgICAgIC8vdGhyb3cgbmV3IEVycm9yKGBObyBzdWNoIHR5cGUgJyR7bmFtZX0nYCk7CiAgICAgICAgICAgIC8vbm9kZSA9IHt9OwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY29uc29sZS5sb2coYEZvdW5kIHR5cGUgJHtuYW1lfWAsIG5vZGUpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgY29uc3QgdCA9IG5vZGU/LnF1YWxUeXBlOwoKICAgICAgaWYoL1wqXHMqJC8udGVzdCh0KSkgcmV0dXJuIFBvaW50ZXJUeXBlLmZyb21TdHJpbmcodCwgYXN0LCBucyk7CiAgICAgIGlmKC9cJlxzKiQvLnRlc3QodCkpIHJldHVybiBSZWZlcmVuY2VUeXBlLmZyb21TdHJpbmcodCwgYXN0LCBucyk7CgogICAgICBpZigncGF0aCcgaW4gbm9kZSAmJiAndmFsdWUnIGluIG5vZGUpIG5vZGUgPSBub2RlLnZhbHVlOwogICAgfQoKICAgIGlmKG5vZGUgaW5zdGFuY2VvZiBOb2RlKSB7CiAgICAgIHJldHVybiBub2RlOwoKICAgICAgY29uc29sZS5sb2coJ25vZGUnLCBjbGFzc05hbWUobm9kZSksIG5vZGUpOwoKICAgICAgdGhyb3cgbmV3IEVycm9yKCk7CiAgICB9CgogICAgc3VwZXIobm9kZSk7CgogICAgaWYobm9kZT8udGFnVXNlZCAmJiBuYW1lKSBuYW1lID0gKG5vZGUudGFnVXNlZCA/IG5vZGUudGFnVXNlZCArICcgJyA6ICcnKSArIG5hbWU7CiAgICBpZihub2RlPy5raW5kICYmIG5vZGUua2luZC5zdGFydHNXaXRoKCdFbnVtJykpIG5hbWUgPSAnZW51bSAnICsgbmFtZTsKCiAgICBsZXQgdHlwZSA9IC8qJ3R5cGUnIGluIG5vZGUgPyovIG5vZGU/LnR5cGUgPz8gbm9kZTsKCiAgICBuYW1lID0gLypub2RlPy5raW5kID09ICdUeXBlZGVmRGVjbCcgPyBub2RlLm5hbWUgOiovIChub2RlPy5hc3QgPz8gbm9kZSk/LmtpbmQgPyBOYW1lc3BhY2VPZihub2RlPy5hc3QgPz8gbm9kZSwgYXN0KSArICcnIDogbm9kZT8ucXVhbFR5cGU7CiAgICBxdWFsVHlwZSA9IHR5cGU/LnF1YWxUeXBlID8/IG5vZGU/LnF1YWxUeXBlOwoKICAgIGlmKFR5cGUuZGVjbGFyYXRpb25zLmhhcyhuYW1lKSkgcmV0dXJuIFR5cGUuZGVjbGFyYXRpb25zLmdldChuYW1lKTsKCiAgICAvL2NvbnNvbGUubG9nKCdUeXBlLmNvbnN0cnVjdG9yJywgY29uc29sZS5jb25maWcoeyBkZXB0aDogMiB9KSwgeyBuYW1lLCBub2RlIH0pOwoKICAgIGRlc3VnYXJlZCA9IHR5cGU/LmRlc3VnYXJlZFF1YWxUeXBlID8/IG5vZGU/LmRlc3VnYXJlZFF1YWxUeXBlOwogICAgdHlwZUFsaWFzID0gdHlwZT8udHlwZUFsaWFzRGVjbElkID8/IG5vZGU/LnR5cGVBbGlhc0RlY2xJZDsKCiAgICBpZihub2RlPy5pbm5lciAmJiBub2RlLmlubmVyWzBdICYmIG5vZGUuaW5uZXJbMF0ua2luZCA9PSAnRWxhYm9yYXRlZFR5cGUnKSB7CiAgICAgIHR5cGVBbGlhcyA/Pz0gbm9kZS5pbm5lclswXT8ub3duZWRUYWdEZWNsPy5pZDsKCiAgICAgIGlmKHR5cGVBbGlhcykgewogICAgICAgIGNvbnN0IGFsaWFzID0gbmV3IFR5cGUoCiAgICAgICAgICBhc3QuaW5uZXIuZmluZChuID0+IG4uaWQgPT0gdHlwZUFsaWFzKSwKICAgICAgICAgIGFzdCwKICAgICAgICApOwoKICAgICAgICBpZihuYW1lKSBhbGlhcy5uYW1lID0gbmFtZTsKICAgICAgICBpZihxdWFsVHlwZSkgYWxpYXMucXVhbFR5cGUgPSBxdWFsVHlwZTsKICAgICAgICBpZihkZXN1Z2FyZWQpIGFsaWFzLmRlc3VnYXJlZCA9IGRlc3VnYXJlZDsKICAgICAgfQogICAgfQoKICAgIGlmKGRlc3VnYXJlZCA9PT0gcXVhbFR5cGUpIGRlc3VnYXJlZCA9IHVuZGVmaW5lZDsKICAgIGlmKG5hbWUgPT0gJycpIG5hbWUgPSB1bmRlZmluZWQ7CgogICAgLy9jb25zb2xlLmxvZygnVHlwZS5jb25zdHJ1Y3RvcicsQywge25hbWUscXVhbFR5cGV9KTsKCiAgICBpZihucykgewogICAgICBpZighVHlwZS5kZWNsYXJhdGlvbnMuaGFzKG5hbWUpKSBUeXBlLmRlY2xhcmF0aW9ucy5zZXQobnMsIHRoaXMpOwogICAgfSBlbHNlIGlmKG5hbWUpIHsKICAgICAgaWYoIVR5cGUuZGVjbGFyYXRpb25zLmhhcyhuYW1lKSkgVHlwZS5kZWNsYXJhdGlvbnMuc2V0KG5hbWUsIHRoaXMpOwogICAgfSBlbHNlIGlmKHF1YWxUeXBlKSB7CiAgICAgIGlmKCFUeXBlLmRlY2xhcmF0aW9ucy5oYXMocXVhbFR5cGUpKSBUeXBlLmRlY2xhcmF0aW9ucy5zZXQocXVhbFR5cGUsIHRoaXMpOwogICAgfQoKICAgIGlmKHR5cGVBbGlhcykgdHlwZUFsaWFzID0gK3R5cGVBbGlhczsKCiAgICBpZihuYW1lKSB3ZWFrRGVmaW5lKHRoaXMsIHsgbmFtZSB9KTsKICAgIGlmKHF1YWxUeXBlKSB3ZWFrRGVmaW5lKHRoaXMsIHsgcXVhbFR5cGUgfSk7CiAgICBpZihkZXN1Z2FyZWQpIHdlYWtEZWZpbmUodGhpcywgeyBkZXN1Z2FyZWQgfSk7CiAgICBpZih0eXBlQWxpYXMpIGRlZmluZSh0aGlzLCBub25lbnVtZXJhYmxlKHsgdHlwZUFsaWFzIH0pKTsKCiAgICBpZih0aGlzLmlzUG9pbnRlcigpKSB7CiAgICB9IGVsc2UgaWYodGhpcy5pc0VudW0oKSkgewogICAgICB0aGlzLmRlc3VnYXJlZCA9ICdpbnQnOwogICAgfQogIH0KCiAgLyogcHJldHRpZXItaWdub3JlICovIGdldCByZWdFeHAoKSB7IHJldHVybiBuZXcgUmVnRXhwKGAoPzoke3RoaXMucXVhbFR5cGV9JHt0aGlzLnR5cGVBbGlhcyA/ICd8JyArIHRoaXMudHlwZUFsaWFzIDogJyd9KWAucmVwbGFjZSgvXCovZywgJ1xcKicpLCAnZycpOyB9CgogIGlzRW51bSgpIHsKICAgIGNvbnN0IHN0ciA9IHRoaXMucXVhbFR5cGUgfHwgdGhpcyArICcnOwogICAgcmV0dXJuIC9eZW51bVxzLy50ZXN0KHN0cik7CiAgfQoKICBpc1BvaW50ZXIoKSB7CiAgICBjb25zdCB7IGRlc3VnYXJlZCwgcXVhbFR5cGUgfSA9IHRoaXM7CiAgICByZXR1cm4gLyg/OlwoXCpcKVwofFwqJCkvLnRlc3QoZGVzdWdhcmVkKSB8fCAvXCokLy50ZXN0KHF1YWxUeXBlKTsKICB9CgogIGlzUmVmZXJlbmNlKCkgewogICAgY29uc3QgeyBkZXN1Z2FyZWQsIHF1YWxUeXBlIH0gPSB0aGlzOwogICAgcmV0dXJuIC8oPzpcKFwmXClcKHxcJiQpLy50ZXN0KGRlc3VnYXJlZCkgfHwgL1wmJC8udGVzdChxdWFsVHlwZSk7CiAgfQoKICBpc0Z1bmN0aW9uKCkgewogICAgY29uc3Qgc3RyID0gdGhpcyArICcnOwogICAgcmV0dXJuIC9cKC4qXCkkLy50ZXN0KHN0cikgJiYgIS9cKFwqXClcKC8udGVzdChzdHIpOwogIH0KCiAgaXNBcnJheSgpIHsKICAgIHJldHVybiAvXFtbMC05XSpcXSQvLnRlc3QodGhpcyArICcnKTsKICB9CgogIGlzSW50ZWdlcigpIHsKICAgIHJldHVybiAhdGhpcy5pc1BvaW50ZXIoKSAmJiAhdGhpcy5pc0NvbXBvdW5kKCkgJiYgIXRoaXMuaXNGbG9hdGluZ1BvaW50KCk7CiAgfQoKICBhcnJheU9mKCkgewogICAgY29uc3QgdHlwZU5hbWUgPSB0aGlzLnRyaW1TdWJzY3JpcHRzKCk7CiAgICByZXR1cm4gVHlwZS5kZWNsYXJhdGlvbnMuZ2V0KHR5cGVOYW1lKTsKICB9CgogIC8qIHByZXR0aWVyLWlnbm9yZSAqLyBnZXQgc3Vic2NyaXB0cygpIHsgaWYodGhpcy5pc0FycmF5KCkpIHJldHVybiBHZXRTdWJzY3JpcHRzKHRoaXMrJycpOyB9CgogIHRyaW1TdWJzY3JpcHRzKCkgewogICAgcmV0dXJuIFRyaW1TdWJzY3JpcHRzKHRoaXMgKyAnJyk7CiAgfQoKICBnZXQgcG9pbnRlcigpIHsKICAgIGNvbnN0IHN0ciA9IHRoaXMgKyAnJzsKICAgIGNvbnN0IG5hbWUgPSBzdHIucmVwbGFjZSgvXHMqKFwqJHxcKFwqXCkpLywgJycpOwoKICAgIGlmKG5hbWUgPT0gc3RyKSByZXR1cm4gdW5kZWZpbmVkOwoKICAgIHJldHVybiBuYW1lOwogIH0KCiAgZ2V0IHJlZmVyZW5jZSgpIHsKICAgIGNvbnN0IHN0ciA9IHRoaXMgKyAnJzsKICAgIGNvbnN0IG5hbWUgPSBzdHIucmVwbGFjZSgvXHMqKFwmJHxcKFwmXCkpLywgJycpOwoKICAgIGlmKG5hbWUgPT0gc3RyKSByZXR1cm4gdW5kZWZpbmVkOwoKICAgIHJldHVybiBuYW1lOwogIH0KCiAgZ2V0UG9pbnRlcihhc3QpIHsKICAgIGNvbnN0IHRhcmdldCA9IHRoaXMucG9pbnRlcjsKCiAgICBpZih0YXJnZXQpIHsKICAgICAgY29uc3Qgbm9kZSA9IERlZXBGaW5kKGFzdCwgdGFyZ2V0KTsKCiAgICAgIGlmKG5vZGUpIHJldHVybiBUeXBlRmFjdG9yeShub2RlLCBhc3QpOwoKICAgICAgaWYoVHlwZS5kZWNsYXJhdGlvbnMuaGFzKHRhcmdldCkpIHJldHVybiBUeXBlLmRlY2xhcmF0aW9ucy5nZXQodGFyZ2V0KTsKICAgIH0KICB9CgogIC8qIHByZXR0aWVyLWlnbm9yZSAqLyBnZXQgdW5zaWduZWQoKSB7IHJldHVybiAvKD86dW5zaWduZWR8dXNob3J0fHVpbnR8dWxvbmcpLy50ZXN0KHRoaXMgKyAnJyk7IH0KICAvKiBwcmV0dGllci1pZ25vcmUgKi8gZ2V0IHNpZ25lZCgpIHsgcmV0dXJuIC8oPzpefFtebl0pc2lnbmVkLy50ZXN0KHRoaXMrJycpIHx8ICF0aGlzLnVuc2lnbmVkOyB9CgogIGlzQ29tcG91bmQoKSB7CiAgICByZXR1cm4gLyg/OnN0cnVjdHx1bmlvbilccy8udGVzdCh0aGlzICsgJycpOwogIH0KCiAgaXNGbG9hdGluZ1BvaW50KCkgewogICAgcmV0dXJuIC8oPzpcIHxeKShmbG9hdHxkb3VibGUpJC8udGVzdCh0aGlzICsgJycpOwogIH0KCiAgLyogcHJldHRpZXItaWdub3JlICovIGdldCBhbGlhcygpIHsgaWYodGhpcy50eXBlQWxpYXMpIHJldHVybiBUeXBlLmdldCh0aGlzLnR5cGVBbGlhcyk7IH0KCiAgZ2V0IGFsaWFzZXMoKSB7CiAgICBjb25zdCBsaXN0ID0gW107CiAgICBsZXQgdHlwZSA9IHRoaXM7CgogICAgd2hpbGUodHlwZSkgewogICAgICBsaXN0LnB1c2godHlwZSk7CiAgICAgIHR5cGUgPSB0eXBlLmFsaWFzOwogICAgfQoKICAgIHJldHVybiBsaXN0OwogIH0KCiAgaXNFbnVtKCkgewogICAgZm9yKGxldCBhbGlhcyBvZiB0aGlzLmFsaWFzZXMpIGlmKC9eZW51bVxzLy50ZXN0KGFsaWFzICsgJycpKSByZXR1cm4gdHJ1ZTsKCiAgICByZXR1cm4gZmFsc2U7CiAgfQoKICBpc1N0cmluZygpIHsKICAgIGNvbnN0IHsgZGVzdWdhcmVkLCBxdWFsVHlwZSB9ID0gdGhpczsKCiAgICByZXR1cm4gL14oY29uc3QgfCljaGFyIFwqJC8udGVzdChkZXN1Z2FyZWQpIHx8IC9eKGNvbnN0IHwpY2hhciBcKiQvLnRlc3QocXVhbFR5cGUpIHx8IC9eKGNvbnN0IHwpY2hhciQvLnRlc3QodGhpcy5wb2ludGVyKTsKICB9CgogIGdldCBmZmkoKSB7CiAgICBjb25zdCB7IGRlc3VnYXJlZCwgcXVhbFR5cGUgfSA9IHRoaXM7CgogICAgbGV0IHN0ciA9IHRoaXMgKyAnJzsKICAgIGlmKHN0ci5zdGFydHNXaXRoKCdjb25zdCAnKSkgc3RyID0gc3RyLnN1YnN0cmluZyg2KTsKICAgIGlmKC9eY2hhclxzKlwqJC8udGVzdChzdHIpIHx8IHRoaXMuaXNTdHJpbmcoKSkgcmV0dXJuICdjaGFyIConOwoKICAgIGZvcihjb25zdCB0eXBlIG9mIFtzdHIsIGRlc3VnYXJlZF0pCiAgICAgIGlmKAogICAgICAgIFsKICAgICAgICAgICd2b2lkJywKICAgICAgICAgICdzaW50OCcsCiAgICAgICAgICAnc2ludDE2JywKICAgICAgICAgICdzaW50MzInLAogICAgICAgICAgJ3NpbnQ2NCcsCiAgICAgICAgICAndWludDgnLAogICAgICAgICAgJ3VpbnQxNicsCiAgICAgICAgICAndWludDMyJywKICAgICAgICAgICd1aW50NjQnLAogICAgICAgICAgJ2Zsb2F0JywKICAgICAgICAgICdkb3VibGUnLAogICAgICAgICAgJ3NjaGFyJywKICAgICAgICAgICd1Y2hhcicsCiAgICAgICAgICAnc3Nob3J0JywKICAgICAgICAgICd1c2hvcnQnLAogICAgICAgICAgJ3NpbnQnLAogICAgICAgICAgJ3VpbnQnLAogICAgICAgICAgJ3Nsb25nJywKICAgICAgICAgICd1bG9uZycsCiAgICAgICAgICAnbG9uZ2RvdWJsZScsCiAgICAgICAgICAncG9pbnRlcicsCiAgICAgICAgICAnaW50JywKICAgICAgICAgICdsb25nJywKICAgICAgICAgICdzaG9ydCcsCiAgICAgICAgICAnY2hhcicsCiAgICAgICAgICAnc2l6ZV90JywKICAgICAgICAgICd1bnNpZ25lZCBjaGFyJywKICAgICAgICAgICd1bnNpZ25lZCBpbnQnLAogICAgICAgICAgJ3Vuc2lnbmVkIGxvbmcnLAogICAgICAgICAgJ3ZvaWQgKicsCiAgICAgICAgICAnY2hhciAqJywKICAgICAgICAgICdzdHJpbmcnLAogICAgICAgIF0uaW5kZXhPZih0eXBlKSAhPSAtMQogICAgICApCiAgICAgICAgcmV0dXJuIHR5cGU7CgogICAgY29uc3QgeyBzaXplLCB1bnNpZ25lZCB9ID0gdGhpczsKCiAgICBpZihzaXplID09IFNJWkVPRl9QT0lOVEVSICYmICF0aGlzLmlzUG9pbnRlcigpKSByZXR1cm4gWycnLCAndW5zaWduZWQgJ11bdW5zaWduZWQgfCAwXSArICdsb25nJzsKCiAgICAvL2lmKHNpemUgPT0gU0laRU9GX1BPSU5URVIgJiYgdW5zaWduZWQpIHJldHVybiAnc2l6ZV90JzsKICAgIGlmKHNpemUgPT0gU0laRU9GX1BPSU5URVIgLyAyICYmICF1bnNpZ25lZCkgcmV0dXJuICdpbnQnOwogICAgaWYoc2l6ZSA9PSA0KSByZXR1cm4gWydzJywgJ3UnXVt1bnNpZ25lZCB8IDBdICsgJ2ludDMyJzsKICAgIGlmKHNpemUgPT0gMikgcmV0dXJuIFsncycsICd1J11bdW5zaWduZWQgfCAwXSArICdpbnQxNic7CiAgICBpZihzaXplID09IDEpIHJldHVybiBbJ3MnLCAndSddW3Vuc2lnbmVkIHwgMF0gKyAnaW50OCc7CgogICAgaWYodGhpcy5pc1BvaW50ZXIoKSkgcmV0dXJuICd2b2lkIConOwogICAgaWYoc2l6ZSA+IFNJWkVPRl9QT0lOVEVSKSByZXR1cm4gJ3ZvaWQgKic7CiAgICBpZihzaXplID09PSAwKSByZXR1cm4gJ3ZvaWQnOwoKICAgIHN0ciA/Pz0gdGhpcyArICcnOwoKICAgIGlmKFR5cGUuZGVjbGFyYXRpb25zLmhhcyhzdHIpKSB7CiAgICAgIGNvbnN0IGRlY2wgPSBUeXBlLmRlY2xhcmF0aW9ucy5nZXQoc3RyKTsKCiAgICAgIGlmKGRlY2wua2luZCA9PSAnRW51bURlY2wnKSByZXR1cm4gJ2ludCc7CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIGZmaSB0eXBlICcke3N0cn0nICR7c2l6ZX0gJHtjbGFzc05hbWUodGhpcyl9ICR7dGhpcy5hc3Qua2luZH1gKTsKICAgIH0KICB9CgogIGdldCBzaXplKCkgewogICAgaWYodGhpcy5pc1BvaW50ZXIoKSkgcmV0dXJuIFNJWkVPRl9QT0lOVEVSOwogICAgaWYodGhpcy5pc0VudW0oKSkgcmV0dXJuIFNJWkVPRl9JTlQ7CiAgICBpZih0aGlzLmlzQ29tcG91bmQoKSkgewogICAgICBjb25zdCBub2RlID0gVHlwZS5nZXQodGhpcyArICcnKTsKCiAgICAgIGlmKG5vZGUgJiYgbm9kZSAhPT0gdGhpcykgcmV0dXJuIG5vZGUuc2l6ZTsKICAgIH0KICAgIGNvbnN0IGRlc3VnYXJlZCA9IHRoaXMuZGVzdWdhcmVkIHx8IHRoaXMgKyAnJyB8fCB0aGlzLm5hbWU7CgogICAgaWYoZGVzdWdhcmVkID09ICdjaGFyJykgcmV0dXJuIDE7CiAgICBjb25zdCByZSA9IC8oPzpefFxzKV8qdT9pbnQoWzAtOV0rKShfdHwpJC87CgogICAgbGV0IHNpemUsIG1hdGNoOwoKICAgIGlmKHRoaXMuaXNBcnJheSgpKSB7CiAgICAgIHNpemUgPz89IHRoaXMuYXJyYXlPZigpPy5zaXplOwogICAgICBmb3IobGV0IFtpbmRleCwgc3Vic2NyaXB0XSBvZiB0aGlzLnN1YnNjcmlwdHMpIHNpemUgKj0gc3Vic2NyaXB0OwogICAgfQoKICAgIGlmKChtYXRjaCA9IHJlLmV4ZWMoZGVzdWdhcmVkKSkpIHsKICAgICAgY29uc3QgWywgYml0c10gPSBtYXRjaDsKICAgICAgaWYoIWlzTmFOKCtiaXRzKSkgcmV0dXJuICtiaXRzIC8gODsKICAgIH0KCiAgICBpZigobWF0Y2ggPSAvXlteXChdKlwoKFteXCldKilcKS4qLy5leGVjKGRlc3VnYXJlZCkpKSBpZiAobWF0Y2hbMV0gPT0gJyonKSByZXR1cm4gU0laRU9GX1BPSU5URVI7CgogICAgbWF0Y2ggPSAvXih1bnNpZ25lZFxzK3xzaWduZWRccyt8Y29uc3Rccyt8dm9sYXRpbGVccyt8bG9uZ1xzK3xzaG9ydFxzKykqKFteXFtdKlteIFxbXF1dKSAqXFs/KFteXF1dKikuKiQvZy5leGVjKGRlc3VnYXJlZCk7CgogICAgaWYobWF0Y2gpIHsKICAgICAgc3dpdGNoIChtYXRjaFsyXSkgewogICAgICAgIGNhc2UgJ2NoYXInOgogICAgICAgICAgc2l6ZSA9IDE7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAnaW50OF90JzoKICAgICAgICBjYXNlICd1aW50OF90JzoKICAgICAgICBjYXNlICdib29sJzoKICAgICAgICAgIHNpemUgPSAxOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgJ3NpemVfdCc6CiAgICAgICAgY2FzZSAncHRyZGlmZl90JzoKICAgICAgICBjYXNlICd2b2lkIConOgogICAgICAgIGNhc2UgJ2xvbmcnOgogICAgICAgICAgc2l6ZSA9IFNJWkVPRl9QT0lOVEVSOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgJ2ludDE2X3QnOgogICAgICAgIGNhc2UgJ3VpbnQxNl90JzoKICAgICAgICBjYXNlICdzaG9ydCc6CiAgICAgICAgICBzaXplID0gMjsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICdpbnQzMl90JzoKICAgICAgICBjYXNlICd1aW50MzJfdCc6CiAgICAgICAgY2FzZSAndW5zaWduZWQgaW50JzoKICAgICAgICBjYXNlICdpbnQnOgogICAgICAgICAgc2l6ZSA9IDQ7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAnbG9uZyBkb3VibGUnOgogICAgICAgICAgc2l6ZSA9IDE2OwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgJ2ludDY0X3QnOgogICAgICAgIGNhc2UgJ3VpbnQ2NF90JzoKICAgICAgICBjYXNlICdsb25nIGxvbmcnOgogICAgICAgICAgc2l6ZSA9IDg7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAnZmxvYXQnOgogICAgICAgICAgc2l6ZSA9IDQ7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAnZG91YmxlJzoKICAgICAgICAgIHNpemUgPSA4OwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgJ3ZvaWQnOgogICAgICAgICAgc2l6ZSA9IDA7CiAgICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgaWYoc2l6ZSA9PT0gdW5kZWZpbmVkICYmIG1hdGNoWzJdLmVuZHNXaXRoKCcqJykpIHNpemUgPSBTSVpFT0ZfUE9JTlRFUjsKICAgICAgaWYoc2l6ZSA9PT0gdW5kZWZpbmVkICYmICh0aGlzLnF1YWxUeXBlIHx8ICcnKS5zdGFydHNXaXRoKCdlbnVtICcpKSBzaXplID0gNDsKICAgIH0KCiAgICBpZihzaXplID09PSB1bmRlZmluZWQpIHNpemUgPSBOYU47CgogICAgcmV0dXJuIHNpemU7CiAgfQoKICB0b0pTKCkgewogICAgaWYodGhpcy5pc1N0cmluZygpKSByZXR1cm4gJ1N0cmluZyc7CgogICAgcmV0dXJuICdOdW1iZXInOwogIH0KCiAgW1N5bWJvbC50b1ByaW1pdGl2ZV0oaGludCkgewogICAgaWYoaGludCA9PSAnZGVmYXVsdCcgfHwgaGludCA9PSAnc3RyaW5nJykgcmV0dXJuICh0aGlzLnF1YWxUeXBlID8/IHRoaXMuZGVzdWdhcmVkUXVhbFR5cGUgPz8gdGhpcz8uYXN0Py5uYW1lID8/ICcnKS5yZXBsYWNlKC9ccysoXCorKSQvLCAnJDEnKTsgLy90aGlzKycnOwoKICAgIHJldHVybiB0aGlzOwogIH0KCiAgdG9KU09OKG9iaikgewogICAgY29uc3QgeyBxdWFsVHlwZSwgc2l6ZSB9ID0gdGhpczsKCiAgICByZXR1cm4gc3VwZXIudG9KU09OKHsgLi4ub2JqLCBxdWFsVHlwZSwgc2l6ZSB9KTsKICB9CgogIHN0YXRpYyBnZXQobmFtZV9vcl9pZCwgYXN0ID0gZ2xvYmFsVGhpc1snJCddLmRhdGEpIHsKICAgIGxldCB0eXBlOwogICAgY29uc3Qgbm9kZSA9CiAgICAgIGFzdC5pbm5lci5maW5kKHR5cGVvZiBuYW1lX29yX2lkID09ICdudW1iZXInID8gbm9kZSA9PiAvKD86RGVjbHxUeXBlKS8udGVzdChub2RlLmtpbmQpICYmICtub2RlLmlkID09IG5hbWVfb3JfaWQgOiBub2RlID0+IC8oPzpEZWNsfFR5cGUpLy50ZXN0KG5vZGUua2luZCkgJiYgbm9kZS5uYW1lID09IG5hbWVfb3JfaWQpID8/CiAgICAgIEdldFR5cGUobmFtZV9vcl9pZCwgYXN0KTsKCiAgICBpZihub2RlKSB7CiAgICAgIGlmKG5vZGUudHlwZSkgdHlwZSA9IGdldFR5cGVGcm9tTm9kZShub2RlLCBhc3QpOwogICAgICBlbHNlIHR5cGUgPSBUeXBlRmFjdG9yeShub2RlLCBhc3QpOwogICAgICBpZihub2RlLm5hbWUgJiYgdHlwZW9mIG5hbWVfb3JfaWQgIT0gJ3N0cmluZycpIG5hbWVfb3JfaWQgPSBub2RlLm5hbWU7CiAgICB9CgogICAgaWYodHlwZW9mIG5hbWVfb3JfaWQgPT0gJ3N0cmluZycgJiYgIVR5cGUuZGVjbGFyYXRpb25zLmhhcyhuYW1lX29yX2lkKSkgVHlwZS5kZWNsYXJhdGlvbnMuc2V0KG5hbWVfb3JfaWQsIHR5cGUpOwoKICAgIHJldHVybiB0eXBlOwogIH0KfQoKVHlwZS5kZWNsYXJhdGlvbnMuc2V0KCd2b2lkJywgbmV3IFR5cGUoeyBxdWFsVHlwZTogJ3ZvaWQnIH0pKTsKVHlwZS5kZWNsYXJhdGlvbnMuc2V0KCdjaGFyJywgbmV3IFR5cGUoeyBxdWFsVHlwZTogJ2NoYXInIH0pKTsKVHlwZS5kZWNsYXJhdGlvbnMuc2V0KCdpbnQnLCBuZXcgVHlwZSh7IHF1YWxUeXBlOiAnaW50JyB9KSk7ClR5cGUuZGVjbGFyYXRpb25zLnNldCgnc2hvcnQnLCBuZXcgVHlwZSh7IHF1YWxUeXBlOiAnc2hvcnQnIH0pKTsKVHlwZS5kZWNsYXJhdGlvbnMuc2V0KCdsb25nJywgbmV3IFR5cGUoeyBxdWFsVHlwZTogJ2xvbmcnIH0pKTsKVHlwZS5kZWNsYXJhdGlvbnMuc2V0KCdsb25nIGxvbmcnLCBuZXcgVHlwZSh7IHF1YWxUeXBlOiAnbG9uZyBsb25nJyB9KSk7ClR5cGUuZGVjbGFyYXRpb25zLnNldCgnX19pbnQxMjgnLCBuZXcgVHlwZSh7IHF1YWxUeXBlOiAnX19pbnQxMjgnIH0pKTsKVHlwZS5kZWNsYXJhdGlvbnMuc2V0KCd1bnNpZ25lZCBjaGFyJywgbmV3IFR5cGUoeyBxdWFsVHlwZTogJ3Vuc2lnbmVkIGNoYXInIH0pKTsKVHlwZS5kZWNsYXJhdGlvbnMuc2V0KCd1bnNpZ25lZCBpbnQnLCBuZXcgVHlwZSh7IHF1YWxUeXBlOiAndW5zaWduZWQgaW50JyB9KSk7ClR5cGUuZGVjbGFyYXRpb25zLnNldCgndW5zaWduZWQgc2hvcnQnLCBuZXcgVHlwZSh7IHF1YWxUeXBlOiAndW5zaWduZWQgc2hvcnQnIH0pKTsKVHlwZS5kZWNsYXJhdGlvbnMuc2V0KCd1bnNpZ25lZCBsb25nJywgbmV3IFR5cGUoeyBxdWFsVHlwZTogJ3Vuc2lnbmVkIGxvbmcnIH0pKTsKVHlwZS5kZWNsYXJhdGlvbnMuc2V0KCd1bnNpZ25lZCBsb25nIGxvbmcnLCBuZXcgVHlwZSh7IHF1YWxUeXBlOiAndW5zaWduZWQgbG9uZyBsb25nJyB9KSk7ClR5cGUuZGVjbGFyYXRpb25zLnNldCgndW5zaWduZWQgX19pbnQxMjgnLCBuZXcgVHlwZSh7IHF1YWxUeXBlOiAndW5zaWduZWQgX19pbnQxMjgnIH0pKTsKVHlwZS5kZWNsYXJhdGlvbnMuc2V0KCdmbG9hdCcsIG5ldyBUeXBlKHsgcXVhbFR5cGU6ICdmbG9hdCcgfSkpOwpUeXBlLmRlY2xhcmF0aW9ucy5zZXQoJ2RvdWJsZScsIG5ldyBUeXBlKHsgcXVhbFR5cGU6ICdkb3VibGUnIH0pKTsKVHlwZS5kZWNsYXJhdGlvbnMuc2V0KCd2b2lkIConLCBuZXcgVHlwZSh7IHF1YWxUeXBlOiAndm9pZCAqJyB9KSk7ClR5cGUuZGVjbGFyYXRpb25zLnNldCgnY2hhciAqJywgbmV3IFR5cGUoeyBxdWFsVHlwZTogJ2NoYXIgKicgfSkpOwpUeXBlLmRlY2xhcmF0aW9ucy5zZXQoJ2NvbnN0IGNoYXIgKicsIG5ldyBUeXBlKHsgcXVhbFR5cGU6ICdjb25zdCBjaGFyIConIH0pKTsKVHlwZS5kZWNsYXJhdGlvbnMuc2V0KCdib29sJywgbmV3IFR5cGUoeyBxdWFsVHlwZTogJ2Jvb2wnIH0pKTsKCmZ1bmN0aW9uIFJvdW5kVG8odmFsdWUsIGFsaWduKSB7CiAgcmV0dXJuIE1hdGguZmxvb3IoKHZhbHVlICsgKGFsaWduIC0gMSkpIC8gYWxpZ24pICogYWxpZ247Cn0KCmV4cG9ydCBjbGFzcyBSZWNvcmREZWNsIGV4dGVuZHMgVHlwZSB7CiAgY29uc3RydWN0b3Iobm9kZSwgYXN0LCBucykgewogICAgc3VwZXIobm9kZSwgYXN0KTsKICAgIGNvbnN0IHsgaWQsIHRhZ1VzZWQsIGlubmVyIH0gPSBub2RlOwoKICAgIHRoaXMubmFtZSA/Pz0gTmFtZUZvcihub2RlLCBhc3QsIG5zKTsKCiAgICBpZihpbm5lcj8uZmluZChjaGlsZCA9PiBjaGlsZC5raW5kID09ICdQYWNrZWRBdHRyJykpIHRoaXMucGFja2VkID0gdHJ1ZTsKICAgIGNvbnN0IGZpZWxkcyA9IGlubmVyPy5maWx0ZXIoY2hpbGQgPT4gY2hpbGQua2luZC5lbmRzV2l0aCgnRGVjbCcpKTsKCiAgICBpZih0YWdVc2VkKSB0aGlzLnRhZyA9IHRhZ1VzZWQ7CgogICAgaWYoZmllbGRzKSB7CiAgICAgIGxldCB0YWcsIGFjY2VzczsKCiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnbWVtYmVycycsIHsKICAgICAgICBnZXQ6IG1lbW9pemUoKCkgPT4KICAgICAgICAgIGZpZWxkcwogICAgICAgICAgICAuZmlsdGVyKG5vZGUgPT4gISgncGFyZW50RGVjbENvbnRleHRJZCcgaW4gbm9kZSkgJiYgbm9kZS5raW5kICE9ICdGcmllbmREZWNsJykKICAgICAgICAgICAgLnJlZHVjZSgoYWNjLCBub2RlKSA9PiB7CiAgICAgICAgICAgICAgbGV0IHsgbmFtZSwga2luZCB9ID0gbm9kZTsKICAgICAgICAgICAgICBsZXQgdHlwZTsKCiAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnbWVtYmVycycsIGNvbnNvbGUuY29uZmlnKHsgY29tcGFjdDogdHJ1ZSB9KSwgeyBuYW1lLCBraW5kIH0pOwoKICAgICAgICAgICAgICBpZihub2RlLmlzQml0ZmllbGQpIG5hbWUgKz0gJzonICsgbm9kZS5pbm5lclswXS5pbm5lclswXS52YWx1ZTsKCiAgICAgICAgICAgICAgaWYoa2luZC5lbmRzV2l0aCgnRGVjbCcpKSB7CiAgICAgICAgICAgICAgICBpZihraW5kLnN0YXJ0c1dpdGgoJ0luZGlyZWN0JykpIHsKICAgICAgICAgICAgICAgICAgdHlwZSA9IG51bGw7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYobm9kZT8udHlwZT8ucXVhbFR5cGUgJiYgLyggYXQgKS8udGVzdChub2RlLnR5cGUucXVhbFR5cGUpKSB7CiAgICAgICAgICAgICAgICAgIGxldCBsb2MgPSBub2RlLnR5cGUucXVhbFR5cGUuc3BsaXQoLyg/OlxzKlsoKV18IGF0ICkvZylbMl07CiAgICAgICAgICAgICAgICAgIGxldCBbZmlsZSwgbGluZSwgY29sdW1uXSA9IGxvYy5zcGxpdCgvOi9nKS5tYXAoaSA9PiAoIWlzTmFOKCtpKSA/ICtpIDogaSkpOwoKICAgICAgICAgICAgICAgICAgbGV0IHR5cGVQYXRocyA9IFsuLi5EZWVwU2VsZWN0KGlubmVyLCBuID0+IG4ubGluZSA9PSBsaW5lLCBkZWVwLlJFVFVSTl9QQVRIKV07CiAgICAgICAgICAgICAgICAgIGxldCB0eXBlUGF0aCA9IFBhdGhSZW1vdmVMb2ModHlwZVBhdGhzWzBdKTsKICAgICAgICAgICAgICAgICAgbGV0IHR5cGVOb2RlID0gRGVlcEdldChpbm5lciwgdHlwZVBhdGgpOwogICAgICAgICAgICAgICAgICB0eXBlID0gVHlwZUZhY3RvcnkodHlwZU5vZGUsIGFzdCwgbnMpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmKGtpbmQgPT0gJ0VudW1EZWNsJykgewogICAgICAgICAgICAgICAgICAvKmxldCBlbnRyaWVzID0gbm9kZS5pbm5lci5tYXAoKHsgaWQsIGtpbmQsIG5hbWUsIHR5cGUgfSkgPT4gW25hbWUsIHR5cGVdKTsKCiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0VudW1EZWNsJywgY29uc29sZS5jb25maWcoeyBjb21wYWN0OiB0cnVlIH0pLCB7IG5hbWUsIGtpbmQsIGVudHJpZXMgfSk7Ki8KICAgICAgICAgICAgICAgICAgLypmb3IobGV0IFtuYW1lLCB2YWx1ZV0gb2YgZW50cmllcykgYWNjLnB1c2goW25hbWUsIHZhbHVlXSk7Ki8KICAgICAgICAgICAgICAgIH0gZWxzZSBpZigvKE1ldGhvZHxGcmllbmQpLy50ZXN0KGtpbmQpKSB7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoa2luZC5zdGFydHNXaXRoKCdBY2Nlc3MnKSkgewogICAgICAgICAgICAgICAgICBhY2Nlc3MgPSBub2RlLmFjY2VzczsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoa2luZC5zdGFydHNXaXRoKCdDWFhSZWNvcmQnKSkgewogICAgICAgICAgICAgICAgICB0YWcgPSBub2RlLnRhZ1VzZWQ7CiAgICAgICAgICAgICAgICAgIGlmKHRhZyA9PSAnY2xhc3MnKSBhY2Nlc3MgPSAncHJpdmF0ZSc7CgogICAgICAgICAgICAgICAgICByZXR1cm4gYWNjOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmKGtpbmQuc3RhcnRzV2l0aCgnQ1hYJykpIHsKICAgICAgICAgICAgICAgICAgdHlwZSA9IFR5cGVGYWN0b3J5KG5vZGUsIGFzdCwgbnMpOwoKICAgICAgICAgICAgICAgICAgaWYoL3N0cnVjdG9yLy50ZXN0KGtpbmQpKSBkZWZpbmUodHlwZSwgbm9uZW51bWVyYWJsZSh7IGN0b3JkdG9yOiAvQ29uc3RydWN0b3IvLnRlc3Qoa2luZCkgPyAnY29uc3RydWN0b3InIDogJ2Rlc3RydWN0b3InIH0pKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZihraW5kLnN0YXJ0c1dpdGgoJ0ZpZWxkJykgJiYgIVsncHJvdGVjdGVkJywgJ3ByaXZhdGUnXS5pbmNsdWRlcyhub2RlLmFjY2VzcykpIHsKICAgICAgICAgICAgICAgICAgdHlwZSA9IFR5cGVGYWN0b3J5KG5vZGUsIGFzdCwgbnMpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmKG5vZGUudHlwZSkgewogICAgICAgICAgICAgICAgICB0eXBlID0gbmV3IFR5cGUobm9kZS50eXBlLCBhc3QsIG5zKTsKICAgICAgICAgICAgICAgICAgaWYodHlwZS5kZXN1Z2FyZWQgJiYgdHlwZS5kZXN1Z2FyZWQuc3RhcnRzV2l0aCgnc3RydWN0ICcpKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IHRtcCA9IGFzdC5pbm5lci5maW5kKG4gPT4gbi5raW5kID09ICdSZWNvcmREZWNsJyAmJiBuLm5hbWUgPT0gL15zdHJ1Y3QuLy50ZXN0KG4ubmFtZSkpOwogICAgICAgICAgICAgICAgICAgIGlmKHRtcCkgdHlwZSA9IFR5cGVGYWN0b3J5KHRtcC52YWx1ZSwgYXN0LCBucyk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZihub2RlLmtpbmQuc3RhcnRzV2l0aCgnUmVjb3JkJykpIHsKICAgICAgICAgICAgICAgICAgdHlwZSA9IG5ldyBSZWNvcmREZWNsKG5vZGUsIGFzdCwgbnMpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBub2RlLmtpbmQ9JHtub2RlLmtpbmR9IGApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYodHlwZT8uYXN0Py5pc0ltcGxpY2l0KSByZXR1cm4gYWNjOwoKICAgICAgICAgICAgICBpZighdHlwZSkgdHlwZSA9IG5vZGUua2luZC5zdGFydHNXaXRoKCdJbmRpcmVjdCcpID8gbnVsbCA6IFR5cGVGYWN0b3J5KG5vZGUsIGFzdCwgbnMpOwoKICAgICAgICAgICAgICBpZih0eXBlICYmIGFjY2VzcykgZGVmaW5lKHR5cGUsIG5vbmVudW1lcmFibGUoeyBhY2Nlc3MgfSkpOwoKICAgICAgICAgICAgICAvKiAgICAgICAgICBpZih0eXBlIGluc3RhbmNlb2YgRW51bURlY2wpIHsKICAgICAgICAgICAgZm9yKGxldCBbbmFtZSxbLHZhbHVlXV0gb2YgdHlwZS5tZW1iZXJzKSB7CiAgICAgICAgICBhY2MucHVzaChbbmFtZSwgdHlwZV0pOwoKICAgICAgICAgICAgfQoKICAgICAgICAgIH0gZWxzZSAqLwogICAgICAgICAgICAgIGFjYy5wdXNoKFtuYW1lLCB0eXBlXSk7CgogICAgICAgICAgICAgIHJldHVybiBhY2M7CiAgICAgICAgICAgIH0sIFtdKQogICAgICAgICAgICAubWFwKChbbmFtZSwgdF0pID0+IE9iamVjdC5hc3NpZ24odCwgeyBuYW1lIH0pKSwKICAgICAgICApLAogICAgICB9KTsKICAgIH0KICB9CgogIGdldCBzaXplKCkgewogICAgY29uc3QgeyBtZW1iZXJzID0gW10gfSA9IHRoaXM7CgogICAgcmV0dXJuIFJvdW5kVG8oCiAgICAgIFsuLi5tZW1iZXJzXS5yZWR1Y2UoKGFjYywgW25hbWUsIHR5cGVdKSA9PiB7CiAgICAgICAgaWYoTnVtYmVyLmlzRmluaXRlKHR5cGU/LnNpemUpKSB7CiAgICAgICAgICBpZih0eXBlLnNpemUgPT0gOCkgYWNjID0gUm91bmRUbyhhY2MsIDgpOwogICAgICAgICAgcmV0dXJuIGFjYyArIFJvdW5kVG8odHlwZS5zaXplLCA0KTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGFjYzsKICAgICAgfSwgMCksCiAgICAgIFNJWkVPRl9QT0lOVEVSLAogICAgKTsKICB9CgogIHRvSlNPTigpIHsKICAgIGNvbnN0IHsgbmFtZSwgc2l6ZSwgbWVtYmVycyB9ID0gdGhpczsKICAgIHJldHVybiBzdXBlci50b0pTT04oewogICAgICBuYW1lLAogICAgICBzaXplLAogICAgICBtZW1iZXJzOiBtZW1iZXJzLm1hcCgoW25hbWUsIG1lbWJlcl0pID0+IFtuYW1lLCBtZW1iZXIgIT0gbnVsbCAmJiBtZW1iZXIudG9KU09OID8gbWVtYmVyLnRvSlNPTigpIDogbWVtYmVyXSksCiAgICB9KTsKICB9Cn0KCmV4cG9ydCBjbGFzcyBFbnVtRGVjbCBleHRlbmRzIFR5cGUgewogIGNvbnN0cnVjdG9yKG5vZGUsIGFzdCkgewogICAgc3VwZXIobm9kZSwgYXN0KTsKCiAgICAvLy9pZihub2RlLm5hbWUpIHRoaXMubmFtZSA9IGBlbnVtICR7bm9kZS5uYW1lfWA7CgogICAgY29uc3QgY29uc3RhbnRzID0gbm9kZS5pbm5lci5maWx0ZXIoY2hpbGQgPT4gY2hpbGQua2luZCA9PSAnRW51bUNvbnN0YW50RGVjbCcpOwogICAgbGV0IG51bWJlciA9IDE7CgogICAgdGhpcy5tZW1iZXJzID0gbmV3IE1hcCgKICAgICAgY29uc3RhbnRzLm1hcCgoeyBuYW1lLCB0eXBlLCBpbm5lciB9KSA9PiB7CiAgICAgICAgbGV0IHZhbHVlID0gaW5uZXIgPyBQcmludE5vZGUoaW5uZXJbMF0pIDogdW5kZWZpbmVkOwoKICAgICAgICBpZih2YWx1ZSAhPT0gJycgJiYgdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnICYmICFpc05hTigrdmFsdWUpKSB7CiAgICAgICAgICB2YWx1ZSA9ICt2YWx1ZTsKICAgICAgICB9CgogICAgICAgIGlmKHR5cGVvZiB2YWx1ZSAhPSAnbnVtYmVyJykgdmFsdWUgPSBudW1iZXI7CgogICAgICAgIG51bWJlciA9IHZhbHVlICsgMTsKICAgICAgICByZXR1cm4gW25hbWUsIHRoaXMubmFtZSArIG5hbWVdOyAvL1tuZXcgVHlwZSh0eXBlLCBhc3QpLCB2YWx1ZV1dOwogICAgICB9KSwKICAgICk7CiAgfQoKICB0b0pTT04oKSB7CiAgICBjb25zdCB7IG5hbWUsIHNpemUsIG1lbWJlcnMgfSA9IHRoaXM7CiAgICByZXR1cm4gc3VwZXIudG9KU09OKHsgbmFtZSwgc2l6ZSwgbWVtYmVycyB9KTsKICB9Cn0KCmV4cG9ydCBjbGFzcyBUeXBlZGVmRGVjbCBleHRlbmRzIFR5cGUgewogIGNvbnN0cnVjdG9yKG5vZGUsIGFzdCwgbnMpIHsKICAgIHN1cGVyKG5vZGUsIGFzdCwgbnMpOwoKICAgIGxldCBpbm5lciA9IChub2RlLmlubmVyID8/IFtdKS5maWx0ZXIobiA9PiAhL0NvbW1lbnQvLnRlc3Qobi5raW5kKSk7CiAgICBsZXQgdHlwZTsKCiAgICBsZXQgeyB0eXBlQWxpYXMgfSA9IG5vZGU7CgogICAgbGV0IHR5cGVJZCA9IERlZXBGaW5kKGlubmVyLCAodiwgaykgPT4gayA9PSAnZGVjbCcpPy5pZDsKCiAgICBpZih0eXBlQWxpYXMpIHR5cGUgPSBhc3QuaW5uZXIuZmluZChuID0+IG4uaWQgPT0gdHlwZUFsaWFzKTsKICAgIGVsc2UgaWYodHlwZUlkKSB0eXBlID0gYXN0LmlubmVyLmZpbmQobiA9PiBuLmlkID09IHR5cGVJZCk7CiAgICBlbHNlIHR5cGUgPSBub2RlLmlubmVyLmZpbmQobiA9PiAvVHlwZS8udGVzdChuLmtpbmQpKTsKCiAgICAvL3R5cGUgPz89IEdldFR5cGUobm9kZSwgYXN0KTsKICAgIGFzc2VydChpbm5lci5sZW5ndGgsIDEpOwoKICAgIGlmKHR5cGU/LmRlY2wpIHR5cGUgPSB0eXBlLmRlY2w7CiAgICBpZih0eXBlPy5raW5kICYmIHR5cGUua2luZC5lbmRzV2l0aCgnVHlwZScpKSB0eXBlID0gdHlwZS50eXBlOwoKICAgIC8vY29uc29sZS5sb2coJ1R5cGVkZWZEZWNsLmNvbnN0cnVjdG9yJywgeyBuYW1lOiBub2RlLm5hbWUsIHR5cGUgIH0pOwoKICAgIHRoaXMubmFtZSA9IG5vZGUubmFtZTsKICAgIHRoaXMudHlwZSA9IHR5cGUua2luZCA/IFR5cGVGYWN0b3J5KHR5cGUsIGFzdCwgZmFsc2UpIDogbmV3IFR5cGUodHlwZSwgYXN0LCBucyk7CiAgfQoKICAvKiBwcmV0dGllci1pZ25vcmUgKi8gZ2V0IHNpemUoKSB7IHJldHVybiB0aGlzLnR5cGU/LnNpemU7IH0KCiAgdG9KU09OKCkgewogICAgY29uc3QgeyBuYW1lLCBzaXplIH0gPSB0aGlzOwogICAgcmV0dXJuIHN1cGVyLnRvSlNPTih7IG5hbWUsIHNpemUgfSk7CiAgfQp9CgpleHBvcnQgY2xhc3MgRmllbGREZWNsIGV4dGVuZHMgTm9kZSB7CiAgY29uc3RydWN0b3Iobm9kZSwgYXN0KSB7CiAgICBzdXBlcihub2RlLCBhc3QpOwoKICAgIGxldCB0eXBlID0gbm9kZS50eXBlID8/IEdldFR5cGUobm9kZSwgYXN0KTsKCiAgICB0aGlzLm5hbWUgPSBub2RlLm5hbWU7CiAgICB0aGlzLnR5cGUgPSBUeXBlLmRlY2xhcmF0aW9ucy5nZXQodHlwZT8ucXVhbFR5cGUpID8/IG5ldyBUeXBlKHR5cGU/LnF1YWxUeXBlID8/IHR5cGUsIGFzdCk7CiAgfQp9CgpleHBvcnQgY2xhc3MgRnVuY3Rpb25EZWNsIGV4dGVuZHMgTm9kZSB7CiAgY29uc3RydWN0b3Iobm9kZSwgYXN0LCBucykgewogICAgc3VwZXIobm9kZSwgYXN0LCBucyk7CgogICAgdGhpcy5uYW1lID0gbm9kZS5uYW1lOwoKICAgIGlmKG5vZGUubWFuZ2xlZE5hbWUgJiYgbm9kZS5tYW5nbGVkTmFtZSAhPSBub2RlLm5hbWUpIHsKICAgICAgZGVmaW5lKHRoaXMsIG5vbmVudW1lcmFibGUoeyBtYW5nbGVkTmFtZTogbm9kZS5tYW5nbGVkTmFtZSB9KSk7CiAgICB9CgogICAgbGV0IHBhcmFtZXRlcnMgPSBub2RlLmlubmVyPy5maWx0ZXIoY2hpbGQgPT4gY2hpbGQua2luZCA9PSAnUGFybVZhckRlY2wnKTsKICAgIGxldCBib2R5ID0gbm9kZS5pbm5lcj8uZmluZChjaGlsZCA9PiBjaGlsZC5raW5kICE9ICdQYXJtVmFyRGVjbCcpOwogICAgbGV0IHR5cGUgPSBub2RlLnR5cGU/LnF1YWxUeXBlOwogICAgbGV0IHJldHVyblR5cGUgPSB0eXBlLnJlcGxhY2UoL1xzKlwoLiovLCAnJyk7CgogICAgbGV0IHN0b3JhZ2VDbGFzcyA9IG5vZGUuc3RvcmFnZUNsYXNzOwoKICAgIC8vY29uc29sZS5sb2coJ0Z1bmN0aW9uRGVjbC5jb25zdHJ1Y3RvcicsIHsgbmFtZTogdGhpcy5uYW1lLCB0eXBlLCByZXR1cm5UeXBlIH0pOwoKICAgIGlmKFR5cGUuZGVjbGFyYXRpb25zLmhhcyhyZXR1cm5UeXBlKSkgcmV0dXJuVHlwZSA9IFR5cGUuZGVjbGFyYXRpb25zLmdldChyZXR1cm5UeXBlKTsKCiAgICBsZXQgdDsKCiAgICBpZih0eXBlb2YgcmV0dXJuVHlwZSA9PSAnc3RyaW5nJyAmJiByZXR1cm5UeXBlLmVuZHNXaXRoKCcmJykpIHsKICAgICAgdGhpcy5yZXR1cm5UeXBlID0gUmVmZXJlbmNlVHlwZS5mcm9tU3RyaW5nKHJldHVyblR5cGUsIGFzdCwgbnMpOwogICAgfSBlbHNlIGlmKHR5cGVvZiByZXR1cm5UeXBlID09ICdzdHJpbmcnICYmIHJldHVyblR5cGUuZW5kc1dpdGgoJyonKSkgewogICAgICB0aGlzLnJldHVyblR5cGUgPSBQb2ludGVyVHlwZS5mcm9tU3RyaW5nKHJldHVyblR5cGUsIGFzdCwgbnMpOwogICAgfSBlbHNlIGlmKHR5cGVvZiByZXR1cm5UeXBlID09ICdzdHJpbmcnICYmICh0ID0gR2V0TmFtZXNwYWNlKHJldHVyblR5cGUsIGFzdCkpKSB7CiAgICAgIC8vY29uc29sZS5sb2coJ0Z1bmN0aW9uRGVjbC5jb25zdHJ1Y3RvcicsIEMsIHsgcmV0dXJuVHlwZSwgdCB9KTsKICAgICAgdGhpcy5yZXR1cm5UeXBlID0gbmV3IFR5cGUodCwgYXN0LCBOYW1lc3BhY2VPZih0LCBhc3QpKTsKICAgIH0gZWxzZSB0aGlzLnJldHVyblR5cGUgPSByZXR1cm5UeXBlIGluc3RhbmNlb2YgTm9kZSA/IHJldHVyblR5cGUgOiB0eXBlb2YgcmV0dXJuVHlwZSAhPSAnc3RyaW5nJyA/IFR5cGVGYWN0b3J5KHJldHVyblR5cGUsIGFzdCkgOiBuZXcgVHlwZShyZXR1cm5UeXBlLCBhc3QpOwoKICAgIHRoaXMucGFyYW1ldGVycyA9IHBhcmFtZXRlcnMgJiYgcGFyYW1ldGVycy5tYXAoKHsgbmFtZSwgdHlwZSB9KSA9PiBbbmFtZSwgbmV3IFR5cGUodHlwZSwgYXN0KV0pOwogICAgdGhpcy5ib2R5ID0gYm9keTsKCiAgICBpZihzdG9yYWdlQ2xhc3MpIHRoaXMuc3RvcmFnZUNsYXNzID0gc3RvcmFnZUNsYXNzOwogIH0KCiAgaXNNZXRob2QoKSB7CiAgICByZXR1cm4gdGhpcy5hc3Qua2luZCA9PSAnQ1hYTWV0aG9kRGVjbCc7CiAgfQoKICB0b0pTT04oKSB7CiAgICBjb25zdCB7IG5hbWUsIHBhcmFtZXRlcnMgfSA9IHRoaXM7CiAgICByZXR1cm4gc3VwZXIudG9KU09OKHsgbmFtZSwgcGFyYW1ldGVycyB9KTsKICB9Cn0KCmV4cG9ydCBjbGFzcyBWYXJEZWNsIGV4dGVuZHMgTm9kZSB7CiAgY29uc3RydWN0b3Iobm9kZSwgYXN0KSB7CiAgICBzdXBlcihub2RlLCBhc3QpOwoKICAgIHRoaXMubmFtZSA9IG5vZGUubmFtZTsKCiAgICBpZihub2RlLm1hbmdsZWROYW1lICYmIG5vZGUubWFuZ2xlZE5hbWUgIT0gbm9kZS5uYW1lKSB0aGlzLm1hbmdsZWROYW1lID0gbm9kZS5tYW5nbGVkTmFtZTsKCiAgICBsZXQgdHlwZSA9IG5vZGUudHlwZT8ucXVhbFR5cGU7CiAgICAvL2NvbnNvbGUubG9nKCdWYXJEZWNsJywgeyB0eXBlIH0pOwoKICAgIHRoaXMudHlwZSA9IHR5cGUua2luZCA/IFR5cGVGYWN0b3J5KHR5cGUsIGFzdCkgOiBuZXcgVHlwZSh0eXBlLCBhc3QpOwoKICAgIC8vY29uc29sZS5sb2coJ1ZhckRlY2wnLCB0aGlzKTsKICB9CgogIHRvSlNPTigpIHsKICAgIGNvbnN0IHsgbmFtZSwgdHlwZSB9ID0gdGhpczsKICAgIHJldHVybiBzdXBlci50b0pTT04oeyBuYW1lLCB0eXBlIH0pOwogIH0KfQoKZXhwb3J0IGNsYXNzIENsYXNzRGVjbCBleHRlbmRzIFJlY29yZERlY2wgewogIGNvbnN0cnVjdG9yKG5vZGUsIGFzdCkgewogICAgc3VwZXIobm9kZSwgYXN0KTsKCiAgICAvL2NvbnNvbGUubG9nKCdDbGFzc0RlY2wuY29uc3RydWN0b3InLCB7IG5vZGUsIGFzdCB9KTsKICB9Cn0KCmV4cG9ydCBjbGFzcyBCdWlsdGluVHlwZSBleHRlbmRzIFR5cGUgewogIGNvbnN0cnVjdG9yKG5vZGUsIGFzdCkgewogICAgc3VwZXIobm9kZS50eXBlLCBhc3QpOwogIH0KfQoKLypleHBvcnQgY2xhc3MgUG9pbnRlclR5cGUgZXh0ZW5kcyBOb2RlIHsKICBjb25zdHJ1Y3Rvcihub2RlLCBhc3QpIHsKICAgIHN1cGVyKG5vZGUsIGFzdCk7CiAgICBhc3NlcnQobm9kZS5pbm5lci5sZW5ndGgsIDEpOwoKICAgIHRoaXMudHlwZSA9IG5ldyBUeXBlKG5vZGUudHlwZSwgYXN0KTsKICAgIHRoaXMucG9pbnRlZSA9IFR5cGVGYWN0b3J5KG5vZGUuaW5uZXJbMF0sIGFzdCk7CiAgfQoKICB0b0pTT04oKSB7CiAgICBjb25zdCB7IHBvaW50ZWUsIHR5cGUgfSA9IHRoaXM7CiAgICByZXR1cm4gc3VwZXIudG9KU09OKHsgcG9pbnRlZSwgdHlwZSB9KTsKICB9Cn0qLwoKZXhwb3J0IGNsYXNzIENvbnN0YW50QXJyYXlUeXBlIGV4dGVuZHMgTm9kZSB7CiAgY29uc3RydWN0b3Iobm9kZSwgYXN0KSB7CiAgICBzdXBlcihub2RlLCBhc3QpOwogICAgbGV0IGVsZW1lbnRUeXBlID0gbm9kZS5pbm5lclswXTsKICAgIGFzc2VydChub2RlLmlubmVyLmxlbmd0aCwgMSk7CiAgICBpZihlbGVtZW50VHlwZS5kZWNsKSBlbGVtZW50VHlwZSA9IGVsZW1lbnRUeXBlLmRlY2w7CiAgICB0aGlzLnR5cGUgPSBuZXcgVHlwZShub2RlLnR5cGUsIGFzdCk7CiAgICB0aGlzLmVsZW1lbnRUeXBlID0gVHlwZUZhY3RvcnkoZWxlbWVudFR5cGUsIGFzdCk7CiAgfQoKICB0b0pTT04oKSB7CiAgICBjb25zdCB7IHR5cGUsIGVsZW1lbnRUeXBlIH0gPSB0aGlzOwogICAgcmV0dXJuIHN1cGVyLnRvSlNPTih7IHR5cGUsIGVsZW1lbnRUeXBlIH0pOwogIH0KfQoKZXhwb3J0IGNsYXNzIFJhbmdlIHsKICAjYmVnaW4gPSB1bmRlZmluZWQ7CiAgI2VuZCA9IHVuZGVmaW5lZDsKCiAgY29uc3RydWN0b3IoYmVnaW4sIGVuZCkgewogICAgaWYoYmVnaW4gIT09IHVuZGVmaW5lZCkgdGhpcy5iZWdpbiA9IGJlZ2luOwogICAgaWYoZW5kICE9PSB1bmRlZmluZWQpIHRoaXMuZW5kID0gZW5kOwogIH0KCiAgLyogcHJldHRpZXItaWdub3JlICovIGdldCBiZWdpbigpIHsgcmV0dXJuIHRoaXMuI2JlZ2luOyB9CiAgLyogcHJldHRpZXItaWdub3JlICovIHNldCBiZWdpbih2KSB7IHRoaXMuI2JlZ2luID0gTG9jYXRpb24uZnJvbSh2KTsgfQoKICAvKiBwcmV0dGllci1pZ25vcmUgKi8gZ2V0IGVuZCgpIHsgcmV0dXJuIHRoaXMuI2VuZDsgfQogIC8qIHByZXR0aWVyLWlnbm9yZSAqLyBzZXQgZW5kKHYpIHsgdGhpcy4jZW5kID0gTG9jYXRpb24uZnJvbSh2KTsgfQoKICB0b1N0cmluZyhvcHRzID0geyBwcmludEZpbGU6IHRydWUgfSkgewogICAgb3B0cy5vbmx5T2Zmc2V0ID0gdHJ1ZTsKICAgIHJldHVybiB0aGlzLiNiZWdpbi50b1N0cmluZyhvcHRzKSArICctJyArIHRoaXMuI2VuZC50b1N0cmluZyh7IC4uLm9wdHMsIHByaW50RmlsZTogZmFsc2UgfSk7CiAgfQoKICBbU3ltYm9sLmluc3BlY3RdKGRlcHRoLCBvcHRzKSB7CiAgICBjb25zdCB7IGJlZ2luLCBlbmQgfSA9IHRoaXM7CiAgICByZXR1cm4gaW5zcGVjdCgKICAgICAgewogICAgICAgIGZpbGU6IGJlZ2luLmZpbGUgPz8gZW5kLmZpbGUsCiAgICAgICAgYmVnaW46IG5ldyBMb2NhdGlvbih7CiAgICAgICAgICAuLi5iZWdpbi50b09iamVjdCgpLAogICAgICAgICAgZmlsZTogdW5kZWZpbmVkLAogICAgICAgICAgbGluZTogdW5kZWZpbmVkLAogICAgICAgICAgY29sOiB1bmRlZmluZWQsCiAgICAgICAgfSksCiAgICAgICAgZW5kOiBuZXcgTG9jYXRpb24oeyAuLi5lbmQudG9PYmplY3QoKSwgZmlsZTogdW5kZWZpbmVkLCBsaW5lOiB1bmRlZmluZWQsIGNvbDogdW5kZWZpbmVkIH0pLAogICAgICAgIFtTeW1ib2wudG9TdHJpbmdUYWddOiAnUmFuZ2UnLAogICAgICB9LAogICAgICB7IC4uLm9wdHMsIGNvbXBhY3Q6IGZhbHNlLCBjdXN0b21JbnNwZWN0OiB0cnVlLCBvbmx5T2Zmc2V0OiB0cnVlIH0sCiAgICApOwogIH0KCiAgZ2V0IGxlbmd0aCgpIHsKICAgIHJldHVybiB0aGlzLiNlbmQgLSB0aGlzLiNiZWdpbjsKICB9CgogIHRvQXJyYXkoKSB7CiAgICByZXR1cm4gW3RoaXMuI2JlZ2luLCB0aGlzLiNlbmRdOwogIH0KCiAgdG9PYmplY3QoKSB7CiAgICBjb25zdCB7IGJlZ2luLCBlbmQgfSA9IHRoaXM7CiAgICByZXR1cm4geyBiZWdpbjogYmVnaW4udG9PYmplY3QoKSwgZW5kOiBlbmQudG9PYmplY3QoKSB9OwogIH0KCiAgKltTeW1ib2wuaXRlcmF0b3JdKCkgewogICAgeWllbGQgK3RoaXMuI2JlZ2luOwogICAgeWllbGQgK3RoaXMuI2VuZDsKICB9Cn0KClJhbmdlLnByb3RvdHlwZVtTeW1ib2wudG9TdHJpbmdUYWddID0gJ1JhbmdlJzsKCmV4cG9ydCBjbGFzcyBMb2NhdGlvbiB7CiAgI2xpbmUgPSB1bmRlZmluZWQ7CiAgI2NvbHVtbiA9IHVuZGVmaW5lZDsKICAjb2Zmc2V0ID0gdW5kZWZpbmVkOwogIGZpbGUgPSB1bmRlZmluZWQ7CgogIHN0YXRpYyBhdChmaWxlLCBvZmZzZXQpIHsKICAgIGxldCBkYXRhID0gUmVhZEZpbGUoZmlsZSwgJ3V0Zi04Jykuc2xpY2UoMCwgb2Zmc2V0KTsKICAgIGxldCBsYXN0TGluZSA9IGRhdGEuc2xpY2UoZGF0YS5sYXN0SW5kZXhPZignXG4nKSArIDEpOwoKICAgIHJldHVybiBuZXcgdGhpcyh7CiAgICAgIGxpbmU6IGNvdW50U3Vic3RyaW5nKGRhdGEsICdcbicpICsgMSwKICAgICAgY29sOiBsYXN0TGluZS5sZW5ndGggKyAxLAogICAgICBmaWxlLAogICAgICBvZmZzZXQsCiAgICB9KTsKICB9CgogIHN0YXRpYyBmcm9tKGxvYykgewogICAgaWYodHlwZW9mIGxvYyA9PSAnb2JqZWN0JyAmJiBsb2MgIT0gbnVsbCAmJiBsb2MgaW5zdGFuY2VvZiBMb2NhdGlvbikgcmV0dXJuIGxvYzsKICAgIHRyeSB7CiAgICAgIHJldHVybiBuZXcgTG9jYXRpb24obG9jKTsKICAgIH0gY2F0Y2goZSkgewogICAgICBjb25zb2xlLmxvZygnRVJST1InLCBlLm1lc3NhZ2UsIGxvYyk7CiAgICAgIHRocm93IGU7CiAgICB9CiAgfQoKICBjb25zdHJ1Y3Rvcihsb2MpIHsKICAgIGNvbnN0IHsgbGluZSwgY29sLCBmaWxlLCBvZmZzZXQgfSA9IGxvYzsKCiAgICBpZignbGluZScgaW4gbG9jKSB0aGlzLiNsaW5lID0gbG9jLmxpbmU7CiAgICBpZignY29sJyBpbiBsb2MpIHRoaXMuI2NvbHVtbiA9IGxvYy5jb2w7CiAgICBpZignZmlsZScgaW4gbG9jKSB0aGlzLmZpbGUgPSBsb2MuZmlsZTsKICAgIGlmKCdvZmZzZXQnIGluIGxvYykgdGhpcy4jb2Zmc2V0ID0gbG9jLm9mZnNldDsKICB9CgogIHVwZGF0ZShvdGhlcikgewogICAgZm9yKGxldCBwcm9wIG9mIFsnZmlsZScsICdvZmZzZXQnLCAnbGluZScsICdjb2x1bW4nXSkgewogICAgICBpZihvdGhlcltwcm9wXSkgdGhpc1twcm9wXSA9IG90aGVyW3Byb3BdOwogICAgfQogIH0KCiAgLyogcHJldHRpZXItaWdub3JlICovIGdldCBsaW5lKCkgeyByZXR1cm4gdGhpcy4jbGluZTsgfQogIC8qIHByZXR0aWVyLWlnbm9yZSAqLyBzZXQgbGluZSh2KSB7IGlmKHYgIT0gdGhpcy4jbGluZSkgdGhpcy4jY29sdW1uID0gdW5kZWZpbmVkOyB0aGlzLiNsaW5lID0gdjsgfQoKICAvKiBwcmV0dGllci1pZ25vcmUgKi8gZ2V0IGNvbHVtbigpIHsgcmV0dXJuIHRoaXMuI2NvbHVtbjsgfQogIC8qIHByZXR0aWVyLWlnbm9yZSAqLyBzZXQgY29sdW1uKHYpIHsgdGhpcy4jY29sdW1uID0gdjsgfQoKICAvKiBwcmV0dGllci1pZ25vcmUgKi8gZ2V0IG9mZnNldCgpIHsgcmV0dXJuIHRoaXMuI29mZnNldDsgfQogIC8qIHByZXR0aWVyLWlnbm9yZSAqLyBzZXQgb2Zmc2V0KHYpIHsgaWYodGhpcy4jb2Zmc2V0IC0gdiA8IHRoaXMuI2NvbHVtbikgdGhpcy4jY29sdW1uIC09IHRoaXMuI29mZnNldCAtIHY7IGVsc2UgeyB0aGlzLiNjb2x1bW4gPSB1bmRlZmluZWQ7IHRoaXMuI2xpbmUgPSB1bmRlZmluZWQ7IH0gdGhpcy4jb2Zmc2V0ID0gdjsgfQoKICBbU3ltYm9sLmZvcignbm9kZWpzLnV0aWwuaW5zcGVjdC5jdXN0b20nKV0oZGVwdGgsIG9wdHMgPSB7fSkgewogICAgY29uc3QgdGV4dCA9IG9wdHMuY29sb3JzID8gKHQsIC4uLmMpID0+ICdceDFiWycgKyBjLmpvaW4oJzsnKSArICdtJyArIHQgKyAnXHgxYlttJyA6IHQgPT4gdDsKICAgIHJldHVybiB0ZXh0KCdMb2NhdGlvbicsIDM4LCA1LCAxMTEpICsgJyAnICsgdGhpcy50b1N0cmluZyhvcHRzKTsKICB9CgogIHRvU3RyaW5nKG9wdHMgPSB7IHByaW50RmlsZTogdHJ1ZSwgb25seU9mZnNldDogZmFsc2UgfSkgewogICAgbGV0IGZpbGUgPSB0aGlzLmZpbGUsCiAgICAgIGNvbCA9IHRoaXMuI2NvbHVtbiwKICAgICAgbGluZSA9IHRoaXMuI2xpbmU7CiAgICBjb25zdCB7IHByaW50RmlsZSA9IHRydWUsIG9ubHlPZmZzZXQgPSBmYWxzZSB9ID0gb3B0czsKCiAgICBpZihsaW5lICE9PSB1bmRlZmluZWQgJiYgY29sICE9PSB1bmRlZmluZWQgJiYgIW9ubHlPZmZzZXQpIHJldHVybiBbZmlsZSA/PyAnPGJ1aWx0aW4+JywgbGluZSwgY29sXS5zbGljZShwcmludEZpbGUgPyAwIDogMSkuam9pbignOicpOwogICAgcmV0dXJuIGAke3ByaW50RmlsZSAmJiBmaWxlID8gZmlsZSArICdAJyA6ICcnfSR7dGhpcy4jb2Zmc2V0fWA7CiAgfQoKICBbU3ltYm9sLnRvUHJpbWl0aXZlXShoaW50KSB7CiAgICBzd2l0Y2ggKGhpbnQpIHsKICAgICAgY2FzZSAnbnVtYmVyJzoKICAgICAgICByZXR1cm4gdGhpcy5vZmZzZXQ7CiAgICAgIGNhc2UgJ3N0cmluZyc6CiAgICAgIGRlZmF1bHQ6CiAgICAgICAgcmV0dXJuIHRoaXMudG9TdHJpbmcoKTsKICAgIH0KICB9CgogIHRvT2JqZWN0KCkgewogICAgbGV0IHJldCA9IHt9OwogICAgaWYodGhpcy5maWxlKSByZXQuZmlsZSA9IHRoaXMuZmlsZTsKICAgIGlmKHRoaXMuI2NvbHVtbikgcmV0LmNvbCA9IHRoaXMuI2NvbHVtbjsKICAgIGlmKHRoaXMuI2xpbmUpIHJldC5saW5lID0gdGhpcy4jbGluZTsKICAgIC8qaWYodHlwZW9mIHRoaXMuI29mZnNldCA9PSAnbnVtYmVyJykqLyByZXQub2Zmc2V0ID0gdGhpcy4jb2Zmc2V0OwoKICAgIHJldHVybiByZXQ7CiAgfQoKICBsb2NhbGVDb21wYXJlKG90aGVyKSB7CiAgICBsZXQgc3RyID0gdGhpcyArICcnOwogICAgcmV0dXJuIHN0ci5sb2NhbGVDb21wYXJlKG90aGVyICsgJycpOwogIH0KfQoKZXhwb3J0IGZ1bmN0aW9uIFR5cGVGYWN0b3J5KG5vZGUsIGFzdCwgY2FjaGUgPSB0cnVlKSB7CiAgbGV0IG9iajsKCiAgbGV0IG5zID0gTmFtZXNwYWNlT2Yobm9kZSwgYXN0KSArICcnOwogIC8vY29uc29sZS5sb2coJ1R5cGVGYWN0b3J5OicsIHsgbmFtZSxub2RlIH0pOwoKICBhc3NlcnQoCiAgICBub2RlPy5raW5kLAogICAgYE5vdCBhbiBBU1Qgbm9kZTogJHtpbnNwZWN0KG5vZGUsIHsKICAgICAgY29sb3JzOiBmYWxzZSwKICAgICAgY29tcGFjdDogMCwKICAgICAgZGVwdGg6IEluZmluaXR5LAogICAgfSl9YCwKICApOwoKICBpZihjYWNoZSAmJiAob2JqID0gVHlwZS5hc3Qybm9kZS5nZXQobm9kZSkpKSByZXR1cm4gb2JqOwoKICBzd2l0Y2ggKG5vZGUua2luZCkgewogICAgY2FzZSAnRW51bURlY2wnOgogICAgICBvYmogPSBuZXcgRW51bURlY2wobm9kZSwgYXN0KTsKICAgICAgYnJlYWs7CiAgICBjYXNlICdSZWNvcmREZWNsJzoKICAgICAgb2JqID0gbmV3IFJlY29yZERlY2wobm9kZSwgYXN0KTsKICAgICAgYnJlYWs7CiAgICBjYXNlICdGaWVsZERlY2wnOgogICAgICBvYmogPSBuZXcgRmllbGREZWNsKG5vZGUsIGFzdCk7CiAgICAgIGJyZWFrOwogICAgY2FzZSAnVHlwZWRlZkRlY2wnOgogICAgICBvYmogPSBuZXcgVHlwZWRlZkRlY2wobm9kZSwgYXN0LCBucyk7CiAgICAgIGJyZWFrOwogICAgY2FzZSAnQ1hYQ29uc3RydWN0b3JEZWNsJzoKICAgIGNhc2UgJ0NYWE1ldGhvZERlY2wnOgogICAgY2FzZSAnQ1hYRGVzdHJ1Y3RvckRlY2wnOgogICAgY2FzZSAnRnVuY3Rpb25EZWNsJzoKICAgICAgb2JqID0gbmV3IEZ1bmN0aW9uRGVjbChub2RlLCBhc3QpOwogICAgICBicmVhazsKICAgIGNhc2UgJ0J1aWx0aW5UeXBlJzoKICAgICAgb2JqID0gbmV3IEJ1aWx0aW5UeXBlKG5vZGUsIGFzdCk7CiAgICAgIGJyZWFrOwogICAgY2FzZSAnUG9pbnRlclR5cGUnOgogICAgICBvYmogPSBuZXcgUG9pbnRlclR5cGUobm9kZSwgYXN0KTsKICAgICAgYnJlYWs7CiAgICBjYXNlICdDb25zdGFudEFycmF5VHlwZSc6CiAgICAgIG9iaiA9IG5ldyBDb25zdGFudEFycmF5VHlwZShub2RlLCBhc3QpOwogICAgICBicmVhazsKICAgIGNhc2UgJ0NYWFJlY29yZERlY2wnOgogICAgICBvYmogPSBuZXcgQ2xhc3NEZWNsKG5vZGUsIGFzdCk7CiAgICAgIGJyZWFrOwogICAgY2FzZSAnVmFyRGVjbCc6CiAgICAgIG9iaiA9IG5ldyBWYXJEZWNsKG5vZGUsIGFzdCk7CiAgICAgIGJyZWFrOwogICAgY2FzZSB1bmRlZmluZWQ6CiAgICAgIHRocm93IG5ldyBFcnJvcihgTm90IGFuIEFTVCBub2RlOiAke2luc3BlY3Qobm9kZSwgeyBjb2xvcnM6IGZhbHNlLCBjb21wYWN0OiAwIH0pfWApOwogICAgICBicmVhazsKCiAgICBkZWZhdWx0OgogICAgICBjb25zb2xlLmxvZygnbm9kZTonLCBub2RlKTsKICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBzdWNoIGtpbmQgb2YgQVNUIG5vZGU6ICR7bm9kZS5raW5kfWApOwogICAgICAvL29iaiA9IG5ldyBUeXBlKG5vZGUsIGFzdCk7CiAgICAgIGJyZWFrOwogIH0KICByZXR1cm4gb2JqOwp9CgpleHBvcnQgYXN5bmMgZnVuY3Rpb24gU3Bhd25Db21waWxlcihjb21waWxlciwgaW5wdXQsIG91dGZpbGUsIGFyZ3MgPSBbXSkgewogIC8vY29uc29sZS5sb2coYFNwYXduQ29tcGlsZXJgLCBuZXcgRXJyb3IoKS5zdGFjay5zcGxpdCgvXG4vZykuc2xpY2UoMCwgMikpOwoKICBsZXQgYmFzZSA9IHBhdGguYmFzZW5hbWUoaW5wdXQsIHBhdGguZXh0bmFtZShpbnB1dCkpOwoKICBhcmdzLnB1c2goaW5wdXQpOwoKICBpZihhcmdzLmluZGV4T2YoJy1hc3QtZHVtcD1qc29uJykgIT0gLTEpIHsKICAgIGFyZ3MudW5zaGlmdChjb21waWxlciA/PyAnY2xhbmcnKTsKICAgIGFyZ3MgPSBbJ3NoJywgJy1jJywgJ2V4ZWMgJyArIGFyZ3MubWFwKHAgPT4gKHAuaW5kZXhPZignICcpICE9IC0xID8gYCcke3B9J2AgOiBwKSkuam9pbignICcpICsgKG91dGZpbGUgPyBgIDE+JHtvdXRmaWxlfWAgOiAnJyldOwogIH0gZWxzZSB7CiAgICBpZihvdXRmaWxlKSB7CiAgICAgIGFyZ3MudW5zaGlmdChvdXRmaWxlKTsKICAgICAgYXJncy51bnNoaWZ0KCctbycpOwogICAgfQogICAgYXJncy51bnNoaWZ0KGNvbXBpbGVyID8/ICdjbGFuZycpOwogIH0KCiAgLy9jb25zb2xlLmxvZygnU3Bhd25Db21waWxlcicsIGFyZ3MubWFwKHAgPT4gKHAuaW5kZXhPZignICcpICE9IC0xID8gYCcke3B9J2AgOiBwKSkuam9pbignICcpICsgKG91dGZpbGUgPyBgIDE+JHtvdXRmaWxlfWAgOiAnJykpOwoKICBsZXQgY2hpbGQgPSBTcGF3bihhcmdzLnNoaWZ0KCksIGFyZ3MsIHsKICAgIGJsb2NrOiBmYWxzZSwKICAgIHN0ZGlvOiBbJ2luaGVyaXQnLCBvdXRmaWxlID8gJ2luaGVyaXQnIDogJ3BpcGUnLCAncGlwZSddLAogIH0pOwoKICBsZXQganNvbiA9ICcnLAogICAgZXJyb3JzID0gJycsCiAgICBvdXRwdXQgPSAnJzsKICBsZXQgZG9uZSA9IGZhbHNlOwoKICBpZihjaGlsZC5zdGRvdXQpIGZvcihsZXQgY2h1bmsgb2YgZnMucmVhZGVyU3luYyhjaGlsZC5zdGRvdXQpKSBvdXRwdXQgKz0gdG9TdHJpbmcoY2h1bmspOwoKICBmb3IobGV0IGNodW5rIG9mIGZzLnJlYWRlclN5bmMoY2hpbGQuc3RkZXJyKSkgZXJyb3JzICs9IHRvU3RyaW5nKGNodW5rKTsKCiAgbGV0IHBpZCA9IGF3YWl0IGNoaWxkLndhaXQoKTsKCiAgbGV0IHsgZXhpdGNvZGUsIHRlcm1zaWcsIGV4aXRlZCwgc2lnbmFsZWQsIHN0b3BwZWQsIGNvbnRpbnVlZCB9ID0gY2hpbGQ7CgogIC8vY29uc29sZS5sb2coJ1NwYXduQ29tcGlsZXInLCBjb25zb2xlLmNvbmZpZyh7IGNvbXBhY3Q6IHRydWUgfSksIHsgcGlkLCBleGl0ZWQsIGV4aXRjb2RlIH0pOwoKICBkb25lID0gdHJ1ZTsKICBsZXQgZXJyb3JMaW5lcyA9IGVycm9ycy5zcGxpdCgvXG4vZykuZmlsdGVyKGxpbmUgPT4gbGluZS50cmltKCkgIT0gJycpOwogIGVycm9yTGluZXMgPSBlcnJvckxpbmVzLmZpbHRlcihsaW5lID0+IC9lcnJvcjovLnRlc3QobGluZSkpOwogIGNvbnN0IG51bUVycm9ycyA9IFsuLi4oL14oWzAtOV0rKVxzL2cuZXhlYyhlcnJvckxpbmVzLmZpbmQobGluZSA9PiAvZXJyb3JzXHNnZW5lcmF0ZWQvLnRlc3QobGluZSkpIHx8ICcwJykgfHwgW10pXVswXSB8fCBlcnJvckxpbmVzLmxlbmd0aDsKICBpZihudW1FcnJvcnMpIHsKICAgIGNvbnNvbGUubG9nKCdlcnJvcnM6JywgZXJyb3JzKTsKICAgIHRocm93IG5ldyBFcnJvcihlcnJvckxpbmVzLmpvaW4oJ1xuJykpOwogIH0KCiAgZnVuY3Rpb24gUGlwZVJlYWRlcihmZCwgY2FsbGJhY2spIHsKICAgIGxldCByZXQ7CiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICBvcy5zZXRSZWFkSGFuZGxlcihmZCwgKCkgPT4KICAgICAgICBSZWFkUGlwZShmZCwgZGF0YSA9PiB7CiAgICAgICAgICBpZihkYXRhKSByZXQgPSBjYWxsYmFjayhkYXRhKTsKICAgICAgICAgIGVsc2UgcmVzb2x2ZShyZXQpOwogICAgICAgIH0pLAogICAgICApOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBSZWFkUGlwZShmZCwgY2FsbGJhY2spIHsKICAgIGxldCBidWYgPSBuZXcgQXJyYXlCdWZmZXIoMTAyNCk7CiAgICBsZXQgciA9IG9zLnJlYWQoZmQsIGJ1ZiwgMCwgYnVmLmJ5dGVMZW5ndGgpOwogICAgbGV0IGRhdGE7CiAgICBpZihyID4gMCkgewogICAgICBkYXRhID0gZnMuYnVmZmVyVG9TdHJpbmcoYnVmLnNsaWNlKDAsIHIpKTsKICAgIH0gZWxzZSB7CiAgICAgIG9zLnNldFJlYWRIYW5kbGVyKGZkLCBudWxsKTsKICAgICAgZGF0YSA9IG51bGw7CiAgICB9CiAgICBjYWxsYmFjayhkYXRhKTsKICB9CiAgZnVuY3Rpb24gUmVhZE91dHB1dChmZCkgewogICAgbGV0IGJ1ZiA9IG5ldyBBcnJheUJ1ZmZlcigxMDI0KTsKICAgIGxldCByID0gb3MucmVhZChmZCwgYnVmLCAwLCBidWYuYnl0ZUxlbmd0aCk7CiAgICBpZihyID4gMCkgewogICAgICBvdXRwdXQgKz0gZnMuYnVmZmVyVG9TdHJpbmcoYnVmLnNsaWNlKDAsIHIpKTsKICAgIH0gZWxzZSB7CiAgICAgIG9zLnNldFJlYWRIYW5kbGVyKGZkLCBudWxsKTsKICAgIH0KICB9CiAgbGV0IHJldCA9IHsgb3V0cHV0LCBleGl0Y29kZSwgZXJyb3JzOiBlcnJvckxpbmVzIH07CiAgLy8gY29uc29sZS5sb2coJ1NwYXduQ29tcGlsZXIgcmV0dXJuJywgcmV0KTsKCiAgcmV0dXJuIHJldDsKfQoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFNvdXJjZURlcGVuZGVuY2llcyguLi5hcmdzKSB7CiAgaWYoYXJncy5sZW5ndGggPCAzKSBhcmdzLnVuc2hpZnQocGFyYW1zLmNvbXBpbGVyKTsKCiAgbGV0IFtjb21waWxlciwgc291cmNlLCBmbGFncyA9IFtdXSA9IGFyZ3M7CgogIGxldCByID0gYXdhaXQgU3Bhd25Db21waWxlcihjb21waWxlciwgc291cmNlLCBudWxsLCBbJy1NTScsICctSS4nLCAuLi5mbGFnc10pOwogIGxldCB7IG91dHB1dCwgcmVzdWx0LCBlcnJvcnMgfSA9IChnbG9iYWxUaGlzLnJlc3BvbnNlID0gcik7CiAgb3V0cHV0ID0gb3V0cHV0LnJlcGxhY2UoL1xzKlxcXG5ccyovZywgJyAnKTsKICBsZXQgW29iamVjdCwgc291cmNlc10gPSBvdXRwdXQuc3BsaXQoLzpccysvKTsKCiAgc291cmNlcyA9IChzb3VyY2VzID8/ICcnKS50cmltKCkuc3BsaXQoLyAvZyk7CiAgbGV0IFtjb21waWxhdGlvbl91bml0LCAuLi5pbmNsdWRlc10gPSBzb3VyY2VzOwoKICAvL2NvbnNvbGUubG9nKCdvdXRwdXRbMV06JywgeyBjb21waWxhdGlvbl91bml0LCBpbmNsdWRlcyB9KTsKCiAgcmV0dXJuIHNvdXJjZXM7Cn0KCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBBc3REdW1wKGNvbXBpbGVyLCBzb3VyY2UsIGFyZ3MsIGZvcmNlKSB7CiAgY29tcGlsZXIgPz89ICdjbGFuZyc7CiAgLy8gY29uc29sZS5sb2coJ0FzdER1bXAnLCB7IGNvbXBpbGVyLCBzb3VyY2UsIGFyZ3MsIGZvcmNlIH0pOwogIGxldCBvdXRwdXQgPSBwYXRoLmJhc2VuYW1lKHNvdXJjZSwgcGF0aC5leHRuYW1lKHNvdXJjZSkpICsgJy5hc3QuanNvbic7CiAgbGV0IGJqc29uID0gcGF0aC5iYXNlbmFtZShvdXRwdXQsICcuanNvbicpICsgJy5ianNvbic7CiAgY29uc3QgcGF0aHMgPSBbb3V0cHV0LCBianNvbl07CiAgbGV0IHI7CiAgbGV0IHNvdXJjZXMgPSBhd2FpdCBTb3VyY2VEZXBlbmRlbmNpZXMoY29tcGlsZXIsIHNvdXJjZSwgYXJncyk7CiAgbGV0IG5ld2VyOwoKICBmb3IobGV0IHAgb2YgcGF0aHMpIHsKICAgIGlmKCFmcy5leGlzdHNTeW5jKHApKSBjb250aW51ZTsKCiAgICBjb25zdCBleGlzdHNBbmROb3RFbXB0eSA9IGZzLnNpemVTeW5jKHApID4gMDsKCiAgICBpZihleGlzdHNBbmROb3RFbXB0eSkgbmV3ZXIgPSBOZXdlcihwLCAuLi5zb3VyY2VzKTsKCiAgICBpZihuZXdlcikgb3V0cHV0ID0gcDsKICB9CgogIC8vY29uc29sZS5sb2coJ0FzdER1bXAnLCBjb25zb2xlLmNvbmZpZyh7Y29tcGFjdDogdHJ1ZSB9KSwgeyBianNvbiwgb3V0cHV0LCBuZXdlciwgZm9yY2UsIHBhdGhzIH0pOwoKICBpZighZm9yY2UgJiYgbmV3ZXIpIHsKICAgIGNvbnNvbGUubG9nKGBMb2FkaW5nIGNhY2hlZCAnJHtvdXRwdXR9Jy4uLmApOwogIH0gZWxzZSB7CiAgICBjb25zb2xlLmxvZyhgQ29tcGlsaW5nICcke3NvdXJjZX0nIHRvICcke291dHB1dH0nLi4uYCk7CgogICAgdHJ5IHsKICAgICAgaWYoZnMuZXhpc3RzU3luYyhvdXRwdXQpKSBmcy51bmxpbmtTeW5jKG91dHB1dCk7CiAgICB9IGNhdGNoKGUpIHt9CgogICAgY29uc29sZS5sb2coYENvbXBpbGluZy4uLmAsIGNvbnNvbGUuY29uZmlnKHsgY29tcGFjdDogSW5maW5pdHksIGRlcHRoOiAwIH0pLCB7IHNvdXJjZSwgY29tcGlsZXIgfSk7CgogICAgY29uc3QgY2hpbGQgPSBhd2FpdCBTcGF3bkNvbXBpbGVyKGNvbXBpbGVyLCBzb3VyY2UsIHBhdGhzWzBdLCBbJy1YY2xhbmcnLCAnLWFzdC1kdW1wPWpzb24nLCAnLWZzeW50YXgtb25seScsICctSS4nLCAuLi5hcmdzXSk7CgogICAgbGV0IHsgZXhpdGNvZGUsIGVycm9ycywgLi4ucmVzdWx0IH0gPSBjaGlsZDsKCiAgICAvL2NvbnNvbGUubG9nKGBDb21waWxpbmcgJyR7c291cmNlfScuLi5gLCBjb25zb2xlLmNvbmZpZyh7Y29tcGFjdDogdHJ1ZSB9KSwgeyBvdXRwdXQsIGV4aXRjb2RlLCAuLi5yZXN1bHQgfSk7CiAgfQogIHIgPSB7IGZpbGU6IG91dHB1dCB9OwoKICAvL2NvbnNvbGUubG9nKCdBc3REdW1wJywgY29uc29sZS5jb25maWcoe2NvbXBhY3Q6IHRydWUgfSksIHsgLi4uciB9KTsKCiAgciA9IGxhenlQcm9wZXJ0aWVzKHIsIHsKICAgIHNpemUoKSB7CiAgICAgIHJldHVybiBmcy5zdGF0KG91dHB1dCk/LnNpemU7CiAgICB9LAogICAganNvbigpIHsKICAgICAgY29uc3QgYmluYXJ5ID0gL1wuYmpzb24kL2kudGVzdCh0aGlzLmZpbGUpOwoKICAgICAgcmV0dXJuIGJpbmFyeSA/IFJlYWRCSlNPTih0aGlzLmZpbGUsIG51bGwpIDogSlNPTi5wYXJzZShmcy5yZWFkRmlsZVN5bmModGhpcy5maWxlLCAndXRmLTgnKSk7CiAgICB9LAogICAgZGF0YSgpIHsKICAgICAgbGV0IGRhdGEgPSB0aGlzLmpzb247CiAgICAgIGxldCBmaWxlOwogICAgICBsZXQgbWF4RGVwdGggPSAwOwoKICAgICAgZm9yKGxldCBub2RlIG9mIGRhdGEuaW5uZXIpIHsKICAgICAgICBsZXQgcmFuZ2U7CgogICAgICAgIGNvbnN0IFNldEZpbGUgPSBsb2MgPT4gewogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgaWYobG9jKSB7CiAgICAgICAgICAgICAgaWYobG9jLmZpbGUpIGZpbGUgPSBsb2MuZmlsZTsKICAgICAgICAgICAgICBlbHNlIGxvYy5maWxlID0gZmlsZTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBjYXRjaChlKSB7fQogICAgICAgIH07CiAgICAgICAgU2V0RmlsZShub2RlLmxvYyk7CiAgICAgICAgU2V0RmlsZShub2RlLnJhbmdlPy5iZWdpbik7CiAgICAgICAgU2V0RmlsZShub2RlLnJhbmdlPy5lbmQpOwogICAgICB9CiAgICAgIGlmKCEvXC5ianNvbiQvaS50ZXN0KHRoaXMuZmlsZSkpIHsKICAgICAgICBjb25zb2xlLmxvZyhgV3JpdGluZyAnJHtianNvbn0nLi4uYCk7CiAgICAgICAgV3JpdGVCSlNPTihianNvbiwgZGF0YSk7CiAgICAgICAgY29uc29sZS5sb2coYERlbGV0aW5nICcke3RoaXMuZmlsZX0nLi4uYCk7CiAgICAgICAgZnMudW5saW5rU3luYyh0aGlzLmZpbGUpOwogICAgICAgIHRoaXMuZmlsZSA9IGJqc29uOwogICAgICB9CiAgICAgIHJldHVybiBkYXRhOwogICAgfSwKICAgIGZpbGVzKCkgewogICAgICByZXR1cm4gdW5pcXVlKHRoaXMuZGF0YS5pbm5lci5tYXAobiA9PiBuLmxvYy5maWxlKS5maWx0ZXIoZmlsZSA9PiBmaWxlICE9IHVuZGVmaW5lZCkpOwogICAgfSwKICB9KTsKCiAgciA9IGRlZmluZShyLCB7CiAgICBtYXRjaEZpbGVzOiBudWxsLAogICAgbm9tYXRjaEZpbGVzOiAvXlwvdXNyLywKICAgIGZpbHRlcihwcmVkLCBwcmVkMiA9ICh1c2VkLCBpbXBsaWNpdCkgPT4gdXNlZCAmJiAhaW1wbGljaXQpIHsKICAgICAgcmV0dXJuIHRoaXMuZGF0YS5pbm5lci5maWx0ZXIoCiAgICAgICAgbm9kZSA9PgogICAgICAgICAgKChub2RlLmxvYy5maWxlICE9PSB1bmRlZmluZWQgJiYgKCh0aGlzLm1hdGNoRmlsZXMgJiYgdGhpcy5tYXRjaEZpbGVzLnRlc3Qobm9kZS5sb2MuZmlsZSA/PyAnJykpIHx8ICF0aGlzLm5vbWF0Y2hGaWxlcy50ZXN0KG5vZGUubG9jLmZpbGUgPz8gJycpKSkgfHwKICAgICAgICAgICAgKHByZWQyID8gcHJlZDIobm9kZS5pc1VzZWQsIG5vZGUuaXNJbXBsaWNpdCkgOiBmYWxzZSkpICYmCiAgICAgICAgICBwcmVkKG5vZGUpLAogICAgICApOwogICAgfSwKICB9KTsKICByID0gbGF6eVByb3BlcnRpZXMociwgewogICAgdHlwZXMoKSB7CiAgICAgIHJldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2YoCiAgICAgICAgdGhpcy5maWx0ZXIoCiAgICAgICAgICBuID0+IC8oPzpSZWNvcmR8VHlwZWRlZnxFbnVtKURlY2wvLnRlc3Qobi5raW5kKSwKICAgICAgICAgICgpID0+IHRydWUsCiAgICAgICAgKSwKICAgICAgICBMaXN0LnByb3RvdHlwZSwKICAgICAgKTsKICAgIH0sCiAgICBmdW5jdGlvbnMoKSB7CiAgICAgIGxldCBsaXN0ID0gdGhpcy5maWx0ZXIoCiAgICAgICAgbiA9PiAvKD86RnVuY3Rpb24pRGVjbC8udGVzdChuLmtpbmQpLAogICAgICAgICgpID0+IHRydWUsCiAgICAgICk7CgogICAgICBpZihsaXN0Lmxlbmd0aCA9PSAwKSBsaXN0ID0gWy4uLkRlZXBTZWxlY3QodGhpcy5kYXRhLCBuID0+IG4ua2luZC5zdGFydHNXaXRoKCdGdW5jdGlvbkRlY2wnKSldOwoKICAgICAgcmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZihsaXN0LCBMaXN0LnByb3RvdHlwZSk7CiAgICB9LAogICAgbmFtZXNwYWNlcygpIHsKICAgICAgcmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZihbLi4uRGVlcFNlbGVjdCh0aGlzLmRhdGEsIG4gPT4gJ05hbWVzcGFjZURlY2wnID09IG4ua2luZCldLCBMaXN0LnByb3RvdHlwZSk7CiAgICB9LAogICAgY2xhc3NlcygpIHsKICAgICAgbGV0IHByZWRpY2F0ZSA9IG4gPT4gbi5raW5kID09ICdDWFhSZWNvcmREZWNsJyAmJiAhbi5pc0ltcGxpY2l0OwogICAgICAvKihQcmVkaWNhdGUucHJvcGVydHkoJ2tpbmQnLCBQcmVkaWNhdGUuZXF1YWwoJ0NYWFJlY29yZERlY2wnKSksCiAgICAgICAgUHJlZGljYXRlLm5vdChQcmVkaWNhdGUucHJvcGVydHkoJ2lzSW1wbGljaXQnLCBQcmVkaWNhdGUuZXF1YWwodHJ1ZSkpKSk7Ki8KICAgICAgLy9wcmVkaWNhdGUgPSBuID0+ICdDWFhSZWNvcmREZWNsJyA9PSBuLmtpbmQgJiYgIW4uaXNJbXBsaWNpdDsKICAgICAgcmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZihbLi4uRGVlcFNlbGVjdCh0aGlzLmRhdGEsIHByZWRpY2F0ZSldLCBMaXN0LnByb3RvdHlwZSk7CiAgICB9LAogICAgdmFyaWFibGVzKCkgewogICAgICByZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mKAogICAgICAgIHRoaXMuZmlsdGVyKG4gPT4gLyg/OlZhcilEZWNsLy50ZXN0KG4ua2luZCkpLAogICAgICAgIExpc3QucHJvdG90eXBlLAogICAgICApOwogICAgfSwKICAgIG5hbWVzKGRlcHRoID0gMSkgewogICAgICByZXR1cm4gdGhpcy5kYXRhLmlubmVyLmZpbHRlcihuID0+ICduYW1lJyBpbiBuKS5tYXAobiA9PiBuLm5hbWUpOwogICAgfSwKICB9KTsKICByZXR1cm4gcjsKfQoKZXhwb3J0IGZ1bmN0aW9uIE5hbWVGb3IoZGVjbCwgYXN0ID0gZ2xvYmFsVGhpc1snJCddPy5kYXRhKSB7CiAgY29uc3QgeyBpZCB9ID0gZGVjbDsKICBsZXQgcDsKCiAgaWYoaXNPYmplY3QoZGVjbCkgJiYgZGVjbC5hc3QpIGRlY2wgPSBkZWNsLmFzdDsKCiAgaWYoZGVjbC5raW5kICYmIC9DWFgvLnRlc3QoZGVjbC5raW5kKSkgcmV0dXJuIE5hbWVzcGFjZU9mKGRlY2wsIGFzdCkgKyAnJzsKCiAgaWYoKHAgPSBEZWVwRmluZChhc3QsICh2YWx1ZSwga2V5KSA9PiBrZXkgPT0gJ293bmVkVGFnRGVjbCcgJiYgdmFsdWUuaWQgPT0gaWQsIGRlZXAuUkVUVVJOX1BBVEgpKSkgewogICAgcCA9IHAuc2xpY2UoMCwgLTEpOwoKICAgIGxldCBub2RlID0gRGVlcEdldChhc3QsIHApOwogICAgbGV0IHBhcmVudCA9IERlZXBHZXQoYXN0LCBwLnNsaWNlKDAsIC0yKSk7CgogICAgaWYocGFyZW50LmtpbmQgPT0gJ1R5cGVkZWZEZWNsJyAmJiBwYXJlbnQubmFtZSkgcmV0dXJuIHBhcmVudC5uYW1lOwoKICAgIC8vY29uc29sZS5sb2coJ3A6JywgcCwgJ25vZGU6Jywgbm9kZSwgJ3BhcmVudDonLCBwYXJlbnQpOwoKICAgIHJldHVybiBub2RlPy50eXBlPy5kZXN1Z2FyZWRRdWFsVHlwZTsKICB9Cn0KCmV4cG9ydCBmdW5jdGlvbiBOb2RlVHlwZShuKSB7CiAgcmV0dXJuIG4udHlwZQogICAgPyAodCA9PiB7CiAgICAgICAgbGV0IHsgdHlwZUFsaWFzRGVjbElkLCAuLi50eXBlIH0gPSB0OwogICAgICAgIGlmKHR5cGVvZiB0eXBlQWxpYXNEZWNsSWQgPT0gJ3N0cmluZycpIHR5cGUudHlwZUFsaWFzRGVjbCA9IGlkTm9kZXMuZ2V0KHR5cGVBbGlhc0RlY2xJZCk7CgogICAgICAgIGlmKFR5cGUuZGVjbGFyYXRpb25zICYmIFR5cGUuZGVjbGFyYXRpb25zLmhhcyh0LmRlc3VnYXJlZFF1YWxUeXBlKSkgewogICAgICAgICAgdHlwZSA9IFR5cGUuZGVjbGFyYXRpb25zLmdldCh0LmRlc3VnYXJlZFF1YWxUeXBlKTsKICAgICAgICB9CgogICAgICAgIGlmKGlzT2JqZWN0KHR5cGUpICYmIGlzT2JqZWN0KHR5cGUudHlwZSkpIHR5cGUgPSB0eXBlLnR5cGU7CiAgICAgICAgcmV0dXJuIG5ldyBUeXBlKHR5cGUpOwogICAgICB9KShuLnR5cGUpCiAgICA6IE5vZGVUeXBlKERlZXBGaW5kKGFzdCwgbiA9PiBpc09iamVjdChuKSAmJiBuLnR5cGUpKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIE5vZGVOYW1lKG4sIG5hbWUpIHsKICBpZih0eXBlb2YgbmFtZSAhPSAnc3RyaW5nJykgbmFtZSA9ICcnOwogIGlmKG5hbWUgPT0gJycgJiYgbi5uYW1lKSBuYW1lID0gbi5uYW1lOwogIGlmKHR5cGVvZiBuID09ICdvYmplY3QnICYmIG4gIT0gbnVsbCAmJiBuLnRhZ1VzZWQpIG5hbWUgPSBuLnRhZ1VzZWQgKyAnICcgKyBuYW1lOwogIHJldHVybiBuYW1lOwp9CgpleHBvcnQgZnVuY3Rpb24qIFJhd0xvY2F0aW9uKHBhdGgpIHsKICBmb3IobGV0IG5vZGUgb2YgSGllcihwYXRoKSkgewogICAgaWYobm9kZS5sb2MpIHsKICAgICAgeWllbGQgbm9kZS5sb2M7CiAgICB9IGVsc2UgaWYobm9kZS5yYW5nZSkgewogICAgICB5aWVsZCBub2RlLnJhbmdlLmJlZ2luOwogICAgICB5aWVsZCBub2RlLnJhbmdlLmVuZDsKICAgIH0KICB9Cn0KCmV4cG9ydCBmdW5jdGlvbiogUmF3UmFuZ2UocGF0aCkgewogIGZvcihsZXQgbm9kZSBvZiBIaWVyKHBhdGgpKSBpZihub2RlLnJhbmdlKSB5aWVsZCBub2RlLnJhbmdlOwp9CgpleHBvcnQgZnVuY3Rpb24gQ29tcGxldGVMb2NhdGlvbihwYXRoKSB7CiAgbGV0IGEgPSBbXTsKICBmb3IobGV0IHJhdyBvZiBSYXdMb2NhdGlvbihwYXRoKSkgewogICAgYS5wdXNoKHJhdyk7CiAgICBpZihyYXcuZmlsZSkgYnJlYWs7CiAgfQogIGlmKGFbMF0ub2Zmc2V0KSBhID0gYS5maWx0ZXIobCA9PiAhKGwub2Zmc2V0ID4gYVswXS5vZmZzZXQpKTsKICBsZXQgbG9jID0ge307CiAgZm9yKGxldCByYXcgb2YgYS5yZXZlcnNlKCkpIE9iamVjdC5hc3NpZ24obG9jLCByYXcpOwogIHJldHVybiBuZXcgTG9jYXRpb24obG9jKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIENvbXBsZXRlUmFuZ2UocGF0aCkgewogIGxldCBhID0gW107CiAgZm9yKGxldCByYXcgb2YgUmF3UmFuZ2UocGF0aCkpIHsKICAgIGEucHVzaChyYXcpOwogIH0KICBpZihhWzBdLmJlZ2luLm9mZnNldCkgYSA9IGEuZmlsdGVyKGwgPT4gIShsLmJlZ2luLm9mZnNldCA+IGFbMF0uYmVnaW4ub2Zmc2V0KSk7CiAgbGV0IHJhbmdlID0geyBiZWdpbjoge30sIGVuZDoge30gfTsKICBmb3IobGV0IHsgYmVnaW4sIGVuZCB9IG9mIGEucmV2ZXJzZSgpKSB7CiAgICBPYmplY3QuYXNzaWduKHJhbmdlLmJlZ2luLCBiZWdpbik7CiAgICBPYmplY3QuYXNzaWduKHJhbmdlLmVuZCwgZW5kKTsKICAgIC8vY29uc29sZS5sb2coJ0NvbXBsZXRlUmFuZ2UnLHJhbmdlKQogIH0KICByZXR1cm4gbmV3IFJhbmdlKHJhbmdlLmJlZ2luLCByYW5nZS5lbmQpOwp9CgpleHBvcnQgZnVuY3Rpb24gR2V0TG9jKG5vZGUpIHsKICBsZXQgbG9jLCByZXQ7CiAgaWYoJ2xvYycgaW4gbm9kZSkgbG9jID0gbm9kZS5sb2M7CiAgZWxzZSBpZigncmFuZ2UnIGluIG5vZGUpIGxvYyA9IG5vZGUucmFuZ2U7CiAgZWxzZSByZXR1cm4gbnVsbDsKICBpZignYmVnaW4nIGluIGxvYykgbG9jID0gbG9jLmJlZ2luOwogIGlmKCdleHBhbnNpb25Mb2MnIGluIGxvYykgbG9jID0gbG9jLmV4cGFuc2lvbkxvYzsKCiAgLy8gaWYoISgnb2Zmc2V0JyBpbiBsb2MpKSByZXR1cm4gbnVsbDsKCiAgcmV0ID0gbmV3IExvY2F0aW9uKGxvYyk7CgogIHJldHVybiByZXQ7Cn0KCi8qZXhwb3J0IGZ1bmN0aW9uIEdldFR5cGUobm9kZSwgYXN0KSB7CiAgbGV0IHR5cGUsIGVsYWJvcmF0ZWQ7CgogIC8vICBjb25zb2xlLmxvZygnR2V0VHlwZScsIG5vZGUpOwoKICBpZigoZWxhYm9yYXRlZCA9IG5vZGUuaW5uZXI/LmZpbmQobiA9PiBuLmtpbmQuZW5kc1dpdGgoJ1R5cGUnKSkpKSB7CiAgICBpZigodHlwZSA9IChlbGFib3JhdGVkLmlubmVyID8/IFtdKS5maW5kKG4gPT4gbi5kZWNsKSkpIHR5cGUgPSB0eXBlLmRlY2w7CiAgICBlbHNlIHR5cGUgPSBlbGFib3JhdGVkLm93bmVkVGFnRGVjbDsKICAgIGlmKHR5cGUpIHsKICAgICAgLy9jb25zb2xlLmxvZygnR2V0VHlwZScsIHsgdHlwZSwgaWQ6IHR5cGUuaWQgfSk7CiAgICAgIGxldCBkZWNsVHlwZSA9IGFzdC5pbm5lci5maW5kKG4gPT4gbi5pZCA9PSB0eXBlLmlkKTsKICAgICAgaWYoIWRlY2xUeXBlKSB0aHJvdyBuZXcgRXJyb3IoYFR5cGUgJHt0eXBlLmlkfSBub3QgZm91bmRgKTsKICAgICAgdHlwZSA9IGRlY2xUeXBlOwogICAgfQogIH0gZWxzZSBpZihub2RlLm93bmVkVGFnRGVjbCkgewogICAgdHlwZSA9IG5vZGUub3duZWRUYWdEZWNsOwogIH0gZWxzZSBpZihub2RlLmlubmVyICYmIG5vZGUuaW5uZXIubGVuZ3RoID09IDEgJiYgbm9kZS5pbm5lclswXS5raW5kLmVuZHNXaXRoKCdUeXBlJykpCiAgICB0eXBlID0gbm9kZS5pbm5lclswXTsKCiAgdHlwZSA/Pz0gbm9kZS50eXBlOwogIHJldHVybiB0eXBlOwp9Ki8KCmV4cG9ydCBmdW5jdGlvbiBHZXRUeXBlTm9kZShub2RlLCBhc3QgPSBnbG9iYWxUaGlzWyckJ10uZGF0YSkgewogIGZvcihsZXQgbiA9IFtub2RlXTsgblswXTsgbiA9IG5bMF0uaW5uZXIpIHsKICAgIGxldCBpOwoKICAgIGlmKChpID0gbi5maW5kKG5vZGUgPT4gL1R5cGUvLnRlc3Qobm9kZS5raW5kKSkpKSBpZiAoaT8uZGVjbD8uaWQpIHJldHVybiBhc3QuaW5uZXIuZmluZChub2RlID0+IG5vZGUuaWQgPT0gaS5kZWNsLmlkKTsKICB9Cn0KCmV4cG9ydCBmdW5jdGlvbiBHZXRUeXBlU3RyKG5vZGUpIHsKICBsZXQgdHlwZTsKICBpZihub2RlLnR5cGUpIHR5cGUgPSBub2RlLnR5cGU7CiAgZWxzZSBpZignaW5uZXInIGluIG5vZGUgJiYgbm9kZS5pbm5lci5zb21lKGlubmVyID0+ICduYW1lJyBpbiBpbm5lciB8fCAndHlwZScgaW4gaW5uZXIpKSB7CiAgICB0eXBlID0gbm9kZS5pbm5lci5tYXAoaW5uZXIgPT4gW2lubmVyLm5hbWUsIEdldFR5cGVTdHIoaW5uZXIpXSk7CiAgICByZXR1cm4gJ3sgJyArIHR5cGUubWFwKChbbiwgdF0pID0+IGAke3R9ICR7bn07YCkuam9pbignICcpICsgJyB9JzsKICB9CiAgaWYodHlwZW9mIHR5cGUgIT0gJ29iamVjdCcpIHJldHVybiB0eXBlOwoKICBpZih0eXBlLnF1YWxUeXBlKSB0eXBlID0gdHlwZS5xdWFsVHlwZTsKICByZXR1cm4gdHlwZTsKfQoKZXhwb3J0IGNsYXNzIE5vZGVFcnJvciBleHRlbmRzIEVycm9yIHsKICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBub2RlKSB7CiAgICBzdXBlcihtZXNzYWdlKTsKCiAgICB0aGlzLm5vZGUgPSBub2RlOwogIH0KfQoKTm9kZUVycm9yLnByb3RvdHlwZVtTeW1ib2wudG9TdHJpbmdUYWddID0gJ05vZGVFcnJvcic7CgpleHBvcnQgZnVuY3Rpb24gTm9kZVByaW50ZXIoYXN0KSB7CiAgbGV0IG91dCA9ICcnOwogIGxldCBkZXB0aCA9IDA7CiAgbGV0IHByaW50ZXI7CgogIGZ1bmN0aW9uIHB1dChzdHIpIHsKICAgIG91dCArPSAoc3RyID8/ICcnKS5yZXBsYWNlQWxsKCdcbicsICdcbicgKyAnICAnLnJlcGVhdChkZXB0aCkpOwogIH0KCiAgZnVuY3Rpb24gdHJpbSgpIHsKICAgIG91dCA9IG91dC50cmltRW5kKCk7CiAgfQoKICBwcmludGVyID0gZnVuY3Rpb24obm9kZSkgewogICAgcHJpbnRlci5ub2RlUHJpbnRlci5hc3QgPz89IHByaW50ZXIuYXN0OwoKICAgIC8vICBjb25zb2xlLmxvZygncHJpbnRlcigpJywgaW5zcGVjdCh7IG5vZGUgfSwgeyBkZXB0aDogMSB9KSk7CiAgICBjb25zb2xlLmxvZyhwcmludGVyLnByaW50KG5vZGUpKTsKCiAgICByZXR1cm4gcHJpbnRlcjsKICB9OwogIHByaW50ZXIuYXN0ID0gYXN0OwoKICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhwcmludGVyLCB7CiAgICBvdXRwdXQ6IHsKICAgICAgZ2V0KCkgewogICAgICAgIHJldHVybiBvdXQ7CiAgICAgIH0sCiAgICB9LAogICAgY2xlYXI6IHsKICAgICAgdmFsdWUoKSB7CiAgICAgICAgb3V0ID0gJyc7CiAgICAgIH0sCiAgICB9LAogICAgcHV0OiB7IHZhbHVlOiBwdXQgfSwKCiAgICBwcmludDogewogICAgICB2YWx1ZShub2RlKSB7CiAgICAgICAgbGV0IGZuID0gdGhpcy5ub2RlUHJpbnRlcltub2RlLmtpbmRdOwogICAgICAgIGxldCBvbGRsZW4gPSBvdXQubGVuZ3RoOwogICAgICAgIGlmKCFmbikgdGhyb3cgKHRoaXMuZXJyb3IgPSBuZXcgTm9kZUVycm9yKGBObyBzdWNoIHByaW50ZXIgZm9yICR7bm9kZS5raW5kfWAsIG5vZGUpKTsKICAgICAgICB0aGlzLm5vZGUgPSBub2RlOwoKICAgICAgICBsZXQgc3VjY2VzcyA9IGZuLmNhbGwodGhpcy5ub2RlUHJpbnRlciwgbm9kZSwgdGhpcy5hc3QpOwoKICAgICAgICBpZihvdXQubGVuZ3RoID09IG9sZGxlbikgewogICAgICAgICAgY29uc29sZS5sb2coYHByaW50ZXIgZXJyb3IgYXQgJHtsb2N9YCwgbm9kZSk7CiAgICAgICAgICB0aHJvdyAodGhpcy5lcnJvciA9IG5ldyBOb2RlRXJyb3IoYE5vZGUgcHJpbnRlciBmb3IgJHtub2RlLmtpbmR9ICgke3RoaXMubG9jfSkgZmFpbGVkXG5gLCBub2RlKSk7CiAgICAgICAgICB0aGlzLm5vZGVQcmludGVyLmVycm9yTm9kZSA9IG5vZGU7CgogICAgICAgICAgbGV0IHsgbG9jIH0gPSBub2RlOwoKICAgICAgICAgIGlmKGxvYz8ubGluZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIGNvbnN0IHsgbGluZSwgY29sdW1uIH0gPSBsb2M7CiAgICAgICAgICAgIHRoaXMubG9jID0gewogICAgICAgICAgICAgIGxpbmUsCiAgICAgICAgICAgICAgY29sdW1uLAogICAgICAgICAgICAgIHRvU3RyaW5nKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIFtsaW5lLCBjb2x1bW5dLmZpbHRlcihpID0+IGkpLmpvaW4oJzonKTsKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9OwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAvLyBlbHNlIGNvbnNvbGUubG9nKCdvdXQ6Jywgb3V0KTsKICAgICAgICByZXR1cm4gb3V0OwogICAgICB9LAogICAgfSwKCiAgICBub2RlUHJpbnRlcjogewogICAgICB2YWx1ZTogbmV3IChjbGFzcyBOb2RlUHJpbnRlciB7CiAgICAgICAgQWJpVGFnQXR0cihhYmlfdGFnX2F0dHIpIHsKICAgICAgICAgIHB1dCgnX19hdHRyaWJ1dGVfXygoX19hYmlfdGFnX18pKScpOwogICAgICAgIH0KICAgICAgICBBY2Nlc3NTcGVjRGVjbChhY2Nlc3Nfc3BlY19kZWNsKSB7CiAgICAgICAgICBjb25zdCB7IGFjY2VzcyB9ID0gYWNjZXNzX3NwZWNfZGVjbDsKICAgICAgICAgIC8vY29uc29sZS5sb2coIkFjY2Vzc1NwZWNEZWNsIixhY2Nlc3Nfc3BlY19kZWNsKQogICAgICAgICAgcHV0KGFjY2VzcyArICc6Jyk7CiAgICAgICAgfQogICAgICAgIEFsaWduZWRBdHRyKGFsaWduZWRfYXR0cikgewogICAgICAgICAgcHV0KCdfX2F0dHJpYnV0ZV9fKChhbGlnbmVkKSknKTsKICAgICAgICB9CiAgICAgICAgQWx3YXlzSW5saW5lQXR0cihhbHdheXNfaW5saW5lX2F0dHIpIHsKICAgICAgICAgIHB1dCgnX19hdHRyaWJ1dGVfXygoYWx3YXlzX2lubGluZSkpJyk7CiAgICAgICAgfQogICAgICAgIEFycmF5U3Vic2NyaXB0RXhwcihhcnJheV9zdWJzY3JpcHRfZXhwcikgewogICAgICAgICAgY29uc3QgeyB2YWx1ZUNhdGVnb3J5IH0gPSBhcnJheV9zdWJzY3JpcHRfZXhwcjsKICAgICAgICAgIGNvbnN0IFthcnJheSwgc3Vic2NyaXB0XSA9IGFycmF5X3N1YnNjcmlwdF9leHByLmlubmVyOwogICAgICAgICAgcHJpbnRlci5wcmludChhcnJheSk7CiAgICAgICAgICBwdXQoJ1snKTsKICAgICAgICAgIHByaW50ZXIucHJpbnQoc3Vic2NyaXB0KTsKICAgICAgICAgIHB1dCgnXScpOwogICAgICAgIH0KICAgICAgICBBc21MYWJlbEF0dHIoYXNtX2xhYmVsX2F0dHIpIHsKICAgICAgICAgIHB1dCgnX19hc21fXycpOwogICAgICAgIH0KICAgICAgICBCaW5hcnlPcGVyYXRvcihiaW5hcnlfb3BlcmF0b3IpIHsKICAgICAgICAgIGNvbnN0IHsgdmFsdWVDYXRlZ29yeSwgb3Bjb2RlIH0gPSBiaW5hcnlfb3BlcmF0b3I7CiAgICAgICAgICBsZXQgW2xlZnQsIHJpZ2h0XSA9IGJpbmFyeV9vcGVyYXRvci5pbm5lcjsKCiAgICAgICAgICBwcmludGVyLnByaW50KGxlZnQpOwogICAgICAgICAgcHV0KGAgJHtvcGNvZGV9IGApOwogICAgICAgICAgcHJpbnRlci5wcmludChyaWdodCk7CiAgICAgICAgfQogICAgICAgIEJsb2NrQ29tbWFuZENvbW1lbnQoYmxvY2tfY29tbWFuZF9jb21tZW50KSB7CiAgICAgICAgICBjb25zdCB7IG5hbWUgfSA9IGJsb2NrX2NvbW1hbmRfY29tbWVudDsKCiAgICAgICAgICBwdXQoYFxcJHtuYW1lfWApOwogICAgICAgICAgZm9yKGxldCBpbm5lciBvZiBibG9ja19jb21tYW5kX2NvbW1lbnQuaW5uZXIpIHByaW50ZXIucHJpbnQoaW5uZXIpOwoKICAgICAgICAgIC8vICAgIHRyaW0oKTsKICAgICAgICB9CiAgICAgICAgQnVpbHRpbkF0dHIoYnVpbHRpbl9hdHRyKSB7CiAgICAgICAgICBjb25zdCB7IGltcGxpY2l0IH0gPSBidWlsdGluX2F0dHI7CiAgICAgICAgICAvL2NvbnNvbGUubG9nKCdCdWlsdGluQXR0cicsIGJ1aWx0aW5fYXR0cik7CiAgICAgICAgICBwdXQoYC8qKipCdWlsdGluQXR0cioqKi9gKTsKICAgICAgICB9CiAgICAgICAgQnJlYWtTdG10KGJyZWFrX3N0bXQpIHsKICAgICAgICAgIHB1dCgnYnJlYWsnKTsKICAgICAgICB9CiAgICAgICAgQ2FsbEV4cHIoY2FsbF9leHByKSB7CiAgICAgICAgICAvL2NvbnNvbGUubG9nKCdDYWxsRXhwcicsIGNhbGxfZXhwcik7CiAgICAgICAgICBsZXQgW2Z1bmMsIC4uLmFyZ3NdID0gY2FsbF9leHByLmlubmVyID8/IFtdOwoKICAgICAgICAgIHByaW50ZXIucHJpbnQoZnVuYyk7CgogICAgICAgICAgcHV0KCcoJyk7CiAgICAgICAgICBsZXQgaSA9IDA7CiAgICAgICAgICBmb3IobGV0IGlubmVyIG9mIGFyZ3MpIHsKICAgICAgICAgICAgaWYoaSsrID4gMCkgcHV0KCcsICcpOwogICAgICAgICAgICBwcmludGVyLnByaW50KGlubmVyKTsKICAgICAgICAgIH0KICAgICAgICAgIHB1dCgnKScpOwogICAgICAgIH0KICAgICAgICBSZWNvdmVyeUV4cHIocmVjb3ZlcnlfZXhwcikgewogICAgICAgICAgcmV0dXJuIHRoaXMuQ2FsbEV4cHIocmVjb3ZlcnlfZXhwcik7CiAgICAgICAgfQogICAgICAgIENhc2VTdG10KGNhc2Vfc3RtdCkgewogICAgICAgICAgcHV0KGBjYXNlIGApOwogICAgICAgICAgY29uc3QgW3ZhbHVlLCAuLi5yZXN0XSA9IGNhc2Vfc3RtdC5pbm5lcjsKCiAgICAgICAgICBwcmludGVyLnByaW50KHZhbHVlKTsKICAgICAgICAgIHB1dCgnOiAnKTsKICAgICAgICAgIGZvcihsZXQgbm9kZSBvZiByZXN0KSBwcmludGVyLnByaW50KG5vZGUpOwogICAgICAgIH0KICAgICAgICBDaGFyYWN0ZXJMaXRlcmFsKGNoYXJhY3Rlcl9saXRlcmFsKSB7CiAgICAgICAgICBjb25zdCB7IHZhbHVlIH0gPSBjaGFyYWN0ZXJfbGl0ZXJhbDsKICAgICAgICAgIHB1dChgJyR7U3RyaW5nLmZyb21DaGFyQ29kZSh2YWx1ZSl9J2ApOwogICAgICAgIH0KICAgICAgICBDb21wb3VuZEFzc2lnbk9wZXJhdG9yKGNvbXBvdW5kX2Fzc2lnbl9vcGVyYXRvcikgewogICAgICAgICAgY29uc3QgeyB2YWx1ZUNhdGVnb3J5LCBvcGNvZGUgfSA9IGNvbXBvdW5kX2Fzc2lnbl9vcGVyYXRvcjsKICAgICAgICAgIGxldCBbbGVmdCwgcmlnaHRdID0gY29tcG91bmRfYXNzaWduX29wZXJhdG9yLmlubmVyOwogICAgICAgICAgcHJpbnRlci5wcmludChsZWZ0KTsKICAgICAgICAgIHB1dChgICR7b3Bjb2RlfSBgKTsKICAgICAgICAgIHByaW50ZXIucHJpbnQocmlnaHQpOwogICAgICAgIH0KICAgICAgICBDb21wb3VuZFN0bXQoY29tcG91bmRfc3RtdCkgewogICAgICAgICAgZGVwdGgrKzsKICAgICAgICAgIHB1dCgneycpOwogICAgICAgICAgbGV0IGkgPSAwOwogICAgICAgICAgbGV0IG9mZnNldCA9IG91dC5sZW5ndGg7CiAgICAgICAgICBpZihjb21wb3VuZF9zdG10Py5pbm5lcj8ubGVuZ3RoKSBwdXQoJ1xuJyk7CgogICAgICAgICAgZm9yKGxldCBpbm5lciBvZiBjb21wb3VuZF9zdG10LmlubmVyID8/IFtdKSB7CiAgICAgICAgICAgIGlmKGkrKyA+IDApIHB1dCgnfTsgXHRcbicuaW5kZXhPZihvdXRbb3V0Lmxlbmd0aCAtIDFdKSAhPSAtMSA/ICdcbicgOiAnO1xuJyk7CiAgICAgICAgICAgIHByaW50ZXIucHJpbnQoaW5uZXIpOwogICAgICAgICAgfQogICAgICAgICAgLy9jb25zb2xlLmxvZygnQ29tcG91bmRTdG10JywgeyBvdXQgfSk7CiAgICAgICAgICBpZihvdXQubGVuZ3RoID4gb2Zmc2V0ICYmIG91dFtvdXQubGVuZ3RoIC0gMV0gIT0gJzsnKSBwdXQoJzsnKTsKICAgICAgICAgIGRlcHRoLS07CiAgICAgICAgICAvL2lmKG91dC5sZW5ndGggPiBvZmZzZXQpCiAgICAgICAgICBpZihjb21wb3VuZF9zdG10Py5pbm5lcj8ubGVuZ3RoKSBwdXQoJ1xuJyk7CiAgICAgICAgICBwdXQoJ31cbicpOwogICAgICAgIH0KICAgICAgICBDb25kaXRpb25hbE9wZXJhdG9yKGNvbmRpdGlvbmFsX29wZXJhdG9yKSB7CiAgICAgICAgICBjb25zdCBbY29uZCwgaWZfdHJ1ZSwgaWZfZmFsc2VdID0gY29uZGl0aW9uYWxfb3BlcmF0b3IuaW5uZXI7CgogICAgICAgICAgcHJpbnRlci5wcmludChjb25kKTsKICAgICAgICAgIHB1dCgnID8gJyk7CiAgICAgICAgICBwcmludGVyLnByaW50KGlmX3RydWUpOwogICAgICAgICAgcHV0KCcgOiAnKTsKICAgICAgICAgIHByaW50ZXIucHJpbnQoaWZfZmFsc2UpOwogICAgICAgIH0KICAgICAgICBDb25zdGFudEV4cHIoY29uc3RhbnRfZXhwcikgewogICAgICAgICAgY29uc3QgeyB2YWx1ZUNhdGVnb3J5IH0gPSBjb25zdGFudF9leHByOwoKICAgICAgICAgIGZvcihsZXQgaW5uZXIgb2YgY29uc3RhbnRfZXhwci5pbm5lcikgcHJpbnRlci5wcmludChpbm5lcik7CiAgICAgICAgfQogICAgICAgIENvbnN0QXR0cihjb25zdF9hdHRyKSB7CiAgICAgICAgICBwdXQoJ19fYXR0cmlidXRlX18oKGNvbnN0KScpOwogICAgICAgIH0KICAgICAgICBDb250aW51ZVN0bXQoY29udGludWVfc3RtdCkgewogICAgICAgICAgcHV0KCdicmVhaycpOwogICAgICAgIH0KICAgICAgICBDU3R5bGVDYXN0RXhwcihjc3R5bGVfY2FzdF9leHByKSB7CiAgICAgICAgICBsZXQgdHlwZSA9IG5ldyBUeXBlKGNzdHlsZV9jYXN0X2V4cHIudHlwZSwgdGhpcy5hc3QpOwogICAgICAgICAgY29uc3QgeyB2YWx1ZUNhdGVnb3J5LCBjYXN0S2luZCB9ID0gY3N0eWxlX2Nhc3RfZXhwcjsKICAgICAgICAgIHB1dChgKCR7dHlwZX0pYCk7CiAgICAgICAgICBmb3IobGV0IGlubmVyIG9mIGNzdHlsZV9jYXN0X2V4cHIuaW5uZXIpIHByaW50ZXIucHJpbnQoaW5uZXIpOwogICAgICAgIH0KICAgICAgICBEZWNsUmVmRXhwcihkZWNsX3JlZl9leHByKSB7CiAgICAgICAgICBjb25zdCB7IHR5cGUsIHZhbHVlQ2F0ZWdvcnksIHJlZmVyZW5jZWREZWNsIH0gPSBkZWNsX3JlZl9leHByOwogICAgICAgICAgcHV0KHJlZmVyZW5jZWREZWNsLm5hbWUgPz8gJzxEZWNsUmVmRXhwcj4nKTsKCiAgICAgICAgICAvLyBwcmludGVyLnByaW50KHJlZmVyZW5jZWREZWNsKTsKICAgICAgICB9CiAgICAgICAgRGVjbFN0bXQoZGVjbF9zdG10KSB7CiAgICAgICAgICBsZXQgaSA9IDA7CiAgICAgICAgICBsZXQgdHlwZSwgYmFzZVR5cGU7CiAgICAgICAgICBmb3IobGV0IGlubmVyIG9mIGRlY2xfc3RtdC5pbm5lcikgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIGlmKCF0eXBlICYmIGlubmVyLnR5cGUpIHsKICAgICAgICAgICAgICAgIHR5cGUgPSBuZXcgVHlwZShpbm5lci50eXBlLCB0aGlzLmFzdCk7CiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCd0eXBlOicsIHR5cGUpOwogICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygndHlwZS50eXBlQWxpYXM6JywgdHlwZS50eXBlQWxpYXMpOwogICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygndHlwZS50cmltU3Vic2NyaXB0cygpOicsIHR5cGUudHJpbVN1YnNjcmlwdHMoKSk7CiAgICAgICAgICAgICAgICBiYXNlVHlwZSA9IHR5cGUudHJpbVN1YnNjcmlwdHMoKSA/PyB0eXBlLnF1YWxUeXBlOwogICAgICAgICAgICAgICAgcHV0KGAke2Jhc2VUeXBlfSBgKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gY2F0Y2goZXJyKSB7fQogICAgICAgICAgICBpZihpKysgPiAwKSBwdXQoJywgJyk7CiAgICAgICAgICAgIHByaW50ZXIucHJpbnQoaW5uZXIsIGJhc2VUeXBlKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgRGVmYXVsdFN0bXQoZGVmYXVsdF9zdG10KSB7CiAgICAgICAgICBwdXQoJ2RlZmF1bHQ6Jyk7CiAgICAgICAgfQogICAgICAgIERlcHJlY2F0ZWRBdHRyKGRlcHJlY2F0ZWRfYXR0cikgewogICAgICAgICAgcHV0KCdfX2F0dHJpYnV0ZV9fKChkZXByZWNhdGVkKSknKTsKICAgICAgICB9CiAgICAgICAgRG9TdG10KGRvX3N0bXQpIHsKICAgICAgICAgIGxldCBbYm9keSwgY29uZF0gPSBkb19zdG10LmlubmVyOwogICAgICAgICAgcHV0KGBkbyBgKTsKICAgICAgICAgIHByaW50ZXIucHJpbnQoYm9keSk7CiAgICAgICAgICBwdXQoYCB3aGlsZShgKTsKICAgICAgICAgIHByaW50ZXIucHJpbnQoY29uZCk7CiAgICAgICAgICBwdXQoYClgKTsKICAgICAgICB9CiAgICAgICAgRW1wdHlEZWNsKGVtcHR5X2RlY2wpIHsKICAgICAgICAgIHB1dCgnXG4nKTsKICAgICAgICAgIC8vIGlmKCc7fScuaW5kZXhPZihvdXRbb3V0Lmxlbmd0aCAtIDFdID8/ICdcbicpID09IC0xKSBwdXQoJzsnKTsKICAgICAgICB9CiAgICAgICAgRW51bUNvbnN0YW50RGVjbChlbnVtX2NvbnN0YW50X2RlY2wpIHsKICAgICAgICAgIGNvbnN0IHsgbmFtZSwgaW5uZXIgfSA9IGVudW1fY29uc3RhbnRfZGVjbDsKICAgICAgICAgIGxldCB2YWx1ZSA9IGlubmVyWzBdOwogICAgICAgICAgcHV0KG5hbWUpOwogICAgICAgICAgaWYodmFsdWUpIHsKICAgICAgICAgICAgcHV0KCcgPSAnKTsKICAgICAgICAgICAgcHJpbnRlci5wcmludCh2YWx1ZSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIEVudW1EZWNsKGVudW1fZGVjbCkgewogICAgICAgICAgY29uc3QgeyBuYW1lIH0gPSBlbnVtX2RlY2w7CiAgICAgICAgICAvL2NvbnNvbGUubG9nKCdSZWNvcmREZWNsJywgcmVjb3JkX2RlY2wpOwogICAgICAgICAgcHV0KCdlbnVtJyk7CiAgICAgICAgICBpZihuYW1lKSB7CiAgICAgICAgICAgIHB1dCgnICcpOwogICAgICAgICAgICBwdXQobmFtZSk7CiAgICAgICAgICB9CiAgICAgICAgICBwdXQoJyAnKTsKICAgICAgICAgIHB1dCgne1xuJyk7CiAgICAgICAgICBsZXQgaSA9IDA7CiAgICAgICAgICBmb3IobGV0IGZpZWxkIG9mIGVudW1fZGVjbC5pbm5lciA/PyBbXSkgewogICAgICAgICAgICBwcmludGVyLnByaW50KGZpZWxkLCB0aGlzLmFzdCk7CiAgICAgICAgICB9CiAgICAgICAgICBwdXQoJ307Jyk7CiAgICAgICAgfQogICAgICAgIEZpZWxkRGVjbChmaWVsZF9kZWNsKSB7CiAgICAgICAgICBsZXQgeyBpc1JlZmVyZW5jZWQsIG5hbWUgfSA9IGZpZWxkX2RlY2w7CiAgICAgICAgICBsZXQgdHlwZSA9IG5ldyBUeXBlKGZpZWxkX2RlY2wudHlwZSwgdGhpcy5hc3QpOwogICAgICAgICAgcHV0KHR5cGUgKyAnJyk7CiAgICAgICAgICBwdXQoJyAnKTsKICAgICAgICAgIHB1dChuYW1lKTsKICAgICAgICAgIHB1dCgnOycpOwogICAgICAgIH0KICAgICAgICBGbG9hdGluZ0xpdGVyYWwoZmxvYXRpbmdfbGl0ZXJhbCkgewogICAgICAgICAgcHV0KGZsb2F0aW5nX2xpdGVyYWwudmFsdWUpOwogICAgICAgIH0KICAgICAgICBGb3JtYXRBdHRyKGZvcm1hdF9hdHRyKSB7CiAgICAgICAgICBwdXQoJ19fYXR0cmlidXRlX18oKGZvcm1hdCkpJyk7CiAgICAgICAgfQogICAgICAgIEZvclN0bXQoZm9yX3N0bXQpIHsKICAgICAgICAgIGxldCBpbm5lciA9IFsuLi5mb3Jfc3RtdC5pbm5lcl07CiAgICAgICAgICBsZXQgYm9keSA9IGlubmVyLnBvcCgpOwogICAgICAgICAgbGV0IG51bUluaXQgPSBpbm5lci5maW5kSW5kZXgobiA9PiBuLmtpbmQgPT0gdW5kZWZpbmVkKTsKICAgICAgICAgIGxldCBpbml0ID0gaW5uZXIuc3BsaWNlKDAsIG51bUluaXQpOwogICAgICAgICAgaWYoaW5uZXIubGVuZ3RoICYmIGlubmVyW2lubmVyLmxlbmd0aCAtIDFdLmtpbmQgPT0gdW5kZWZpbmVkKSBpbm5lci5wb3AoKTsKICAgICAgICAgIGxldCBpbmNyID0gaW5uZXIucG9wKCk7CiAgICAgICAgICBsZXQgY29uZCA9IGlubmVyLnBvcCgpOwogICAgICAgICAgLy9jb25zb2xlLmxvZygnRm9yU3RtdCcsIGNvbnNvbGUuY29uZmlnKHtkZXB0aDogNCwgY29tcGFjdDogZmFsc2UsIG1heEFycmF5TGVuZ3RoOiA1LCBoaWRlS2V5czogWydyYW5nZScsICdsb2MnXSB9KSwgeyBib2R5LCBpbml0LCBjb25kLCBpbmNyIH0pOwogICAgICAgICAgcHV0KCdmb3IoJyk7CiAgICAgICAgICBsZXQgaSA9IDA7CiAgICAgICAgICBmb3IobGV0IG4gb2YgaW5pdCkgewogICAgICAgICAgICBpZihpKysgPiAwKSBwdXQoJywgJyk7CiAgICAgICAgICAgIHByaW50ZXIucHJpbnQobik7CiAgICAgICAgICB9CiAgICAgICAgICBwdXQoJzsnKTsKICAgICAgICAgIGlmKGNvbmQua2luZCkgewogICAgICAgICAgICBwdXQoJyAnKTsKICAgICAgICAgICAgcHJpbnRlci5wcmludChjb25kKTsKICAgICAgICAgIH0KICAgICAgICAgIHB1dCgnOycpOwogICAgICAgICAgaWYoaW5jci5raW5kKSB7CiAgICAgICAgICAgIHB1dCgnICcpOwogICAgICAgICAgICBwcmludGVyLnByaW50KGluY3IpOwogICAgICAgICAgfQogICAgICAgICAgcHV0KCcpICcpOwogICAgICAgICAgcHJpbnRlci5wcmludChib2R5KTsKICAgICAgICB9CiAgICAgICAgRnVsbENvbW1lbnQoZnVsbF9jb21tZW50KSB7CiAgICAgICAgICBwdXQoJy8qJyk7CgogICAgICAgICAgZm9yKGxldCBpbm5lciBvZiBmdWxsX2NvbW1lbnQuaW5uZXIpIHsKICAgICAgICAgICAgcHJpbnRlci5wcmludChpbm5lcik7CiAgICAgICAgICAgIC8vICBwdXQoJ1xuJyk7CiAgICAgICAgICB9CiAgICAgICAgICBwdXQoJyovJyk7CiAgICAgICAgICBwdXQoJ1xuJyk7CiAgICAgICAgfQogICAgICAgIEZ1bmN0aW9uRGVjbChmdW5jdGlvbl9kZWNsKSB7CiAgICAgICAgICBjb25zdCB7IHN0b3JhZ2VDbGFzcywgbWFuZ2xlZE5hbWUsIGlzSW1wbGljaXQsIGlzVXNlZCB9ID0gZnVuY3Rpb25fZGVjbDsKICAgICAgICAgIGxldCBpID0gMDsKICAgICAgICAgIGlmKHN0b3JhZ2VDbGFzcykgcHV0KHN0b3JhZ2VDbGFzcyArICcgJyk7CiAgICAgICAgICBsZXQgbm9kZSA9IG5ldyBGdW5jdGlvbkRlY2woZnVuY3Rpb25fZGVjbCwgdGhpcy5hc3QpOwogICAgICAgICAgLy9jb25zb2xlLmxvZygnRnVuY3Rpb25EZWNsJywgbm9kZS5yZXR1cm5UeXBlKTsKICAgICAgICAgIGxldCByZXR1cm5UeXBlID0gbm9kZS5yZXR1cm5UeXBlOwogICAgICAgICAgcHV0KHJldHVyblR5cGUgKyAnXG4nICsgZnVuY3Rpb25fZGVjbC5uYW1lICsgJygnKTsKICAgICAgICAgIGkgPSAwOwogICAgICAgICAgZm9yKGxldCBpbm5lciBvZiAoZnVuY3Rpb25fZGVjbC5pbm5lciA/PyBbXSkuZmlsdGVyKG4gPT4gbi5raW5kID09ICdQYXJtVmFyRGVjbCcpKSB7CiAgICAgICAgICAgIGlmKGkrKyA+IDApIHB1dCgnLCAnKTsKICAgICAgICAgICAgcHJpbnRlci5wcmludChpbm5lcik7CiAgICAgICAgICB9CiAgICAgICAgICBwdXQoJykgJyk7CiAgICAgICAgICBpID0gMDsKICAgICAgICAgIGZvcihsZXQgaW5uZXIgb2YgKGZ1bmN0aW9uX2RlY2wuaW5uZXIgPz8gW10pLmZpbHRlcihuID0+IG4ua2luZCAhPSAnUGFybVZhckRlY2wnICYmICEvQ29tbWVudC8udGVzdChuLmtpbmQpKSkgewogICAgICAgICAgICBpZihpKysgPiAwKSBwdXQoJyAnKTsKICAgICAgICAgICAgcHJpbnRlci5wcmludChpbm5lcik7CiAgICAgICAgICB9CiAgICAgICAgICAvLyBwdXQoJycpOwogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICAgIEdvdG9TdG10KGdvdG9fc3RtdCkgewogICAgICAgICAgY29uc3QgeyB0YXJnZXRMYWJlbERlY2xJZCB9ID0gZ290b19zdG10OwogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgbGV0IHRhcmdldCA9IERlZXBGaW5kKHRoaXMuYXN0ID8/IHRoaXMsIG4gPT4gdHlwZW9mIG4gPT0gJ29iamVjdCcgJiYgbiAmJiBuLmRlY2xJZCA9PSB0YXJnZXRMYWJlbERlY2xJZCk7CiAgICAgICAgICAgIGNvbnN0IHsgbmFtZSB9ID0gdGFyZ2V0OwoKICAgICAgICAgICAgcHV0KGBnb3RvICR7bmFtZX1gKTsKICAgICAgICAgIH0gY2F0Y2goZSkgewogICAgICAgICAgICBjb25zb2xlLmxvZygnR290b1N0bXQnLCB7IGdvdG9fc3RtdCB9KTsKICAgICAgICAgICAgZ2xvYmFsVGhpcy5nb3RvX3N0bXQgPSBnb3RvX3N0bXQ7CgogICAgICAgICAgICBzdGFydEludGVyYWN0aXZlKCk7CiAgICAgICAgICAgIHRocm93IGU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIEhUTUxFbmRUYWdDb21tZW50KGh0bWxfZW5kX3RhZ19jb21tZW50KSB7CiAgICAgICAgICBjb25zdCB7IG5hbWUgfSA9IGh0bWxfZW5kX3RhZ19jb21tZW50OwogICAgICAgICAgcHV0KGA8LyR7bmFtZX0+YCk7CiAgICAgICAgfQogICAgICAgIEhUTUxTdGFydFRhZ0NvbW1lbnQoaHRtbF9zdGFydF90YWdfY29tbWVudCkgewogICAgICAgICAgY29uc3QgeyBuYW1lLCBhdHRycyB9ID0gaHRtbF9zdGFydF90YWdfY29tbWVudDsKCiAgICAgICAgICBwdXQoYDwke25hbWV9YCk7CgogICAgICAgICAgZm9yKGxldCBbaywgdl0gb2YgYXR0cnMpIHsKICAgICAgICAgICAgcHV0KGAgJHtrfT0iJHt2fSJgKTsKICAgICAgICAgIH0KICAgICAgICAgIHB1dChgPmApOwogICAgICAgIH0KICAgICAgICBJZlN0bXQoaWZfc3RtdCkgewogICAgICAgICAgbGV0IFtjb25kLCBib2R5LCBhbHRdID0gaWZfc3RtdC5pbm5lcjsKICAgICAgICAgIHB1dChgaWYoYCk7CiAgICAgICAgICBwcmludGVyLnByaW50KGNvbmQpOwogICAgICAgICAgcHV0KGApIGApOwogICAgICAgICAgcHJpbnRlci5wcmludChib2R5KTsKICAgICAgICAgIGlmKGFsdCkgewogICAgICAgICAgICBwdXQoYCBlbHNlIGApOwogICAgICAgICAgICBwcmludGVyLnByaW50KGFsdCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIEltcGxpY2l0Q2FzdEV4cHIoaW1wbGljaXRfY2FzdF9leHByKSB7CiAgICAgICAgICBmb3IobGV0IGlubmVyIG9mIGltcGxpY2l0X2Nhc3RfZXhwci5pbm5lcikgcHJpbnRlci5wcmludChpbm5lcik7CiAgICAgICAgfQogICAgICAgIEluaXRMaXN0RXhwcihpbml0X2xpc3RfZXhwcikgewogICAgICAgICAgY29uc3QgeyB2YWx1ZUNhdGVnb3J5IH0gPSBpbml0X2xpc3RfZXhwcjsKCiAgICAgICAgICBwdXQoJ3sgJyk7CiAgICAgICAgICBsZXQgaSA9IDA7CiAgICAgICAgICBmb3IobGV0IGlubmVyIG9mIGluaXRfbGlzdF9leHByLmlubmVyKSB7CiAgICAgICAgICAgIGlmKGkrKyA+IDApIHB1dCgnLCAnKTsKCiAgICAgICAgICAgIHByaW50ZXIucHJpbnQoaW5uZXIpOwogICAgICAgICAgfQogICAgICAgICAgcHV0KCcgfScpOwogICAgICAgIH0KICAgICAgICBJbmxpbmVDb21tYW5kQ29tbWVudChpbmxpbmVfY29tbWFuZF9jb21tZW50KSB7CiAgICAgICAgICBwdXQoJyBJbmxpbmVDb21tYW5kQ29tbWVudCAnKTsKICAgICAgICB9CiAgICAgICAgSW50ZWdlckxpdGVyYWwoaW50ZWdlcl9saXRlcmFsKSB7CiAgICAgICAgICBwdXQoaW50ZWdlcl9saXRlcmFsLnZhbHVlKTsKICAgICAgICB9CiAgICAgICAgTGFiZWxTdG10KGxhYmVsX3N0bXQpIHsKICAgICAgICAgIHB1dChgJHtsYWJlbF9zdG10Lm5hbWV9OmApOwogICAgICAgIH0KICAgICAgICBNZW1iZXJFeHByKG1lbWJlcl9leHByKSB7CiAgICAgICAgICBjb25zdCB7IHZhbHVlQ2F0ZWdvcnksIG5hbWUsIGlzQXJyYXksIHJlZmVyZW5jZWRNZW1iZXJEZWNsIH0gPSBtZW1iZXJfZXhwcjsKICAgICAgICAgIC8qY29uc3QgeyByZWZlcmVuY2VkRGVjbCB9ID0gbWVtYmVyX2V4cHIuaW5uZXJbMF07CiAgICAgICAgcHV0KHJlZmVyZW5jZWREZWNsLm5hbWUpOyovCiAgICAgICAgICBmb3IobGV0IGlubmVyIG9mIG1lbWJlcl9leHByLmlubmVyKSB7CiAgICAgICAgICAgIGxldCB0eXBlID0gbmV3IFR5cGUoaW5uZXIudHlwZSwgdGhpcy5hc3QpOwoKICAgICAgICAgICAgcHJpbnRlci5wcmludChpbm5lcik7CiAgICAgICAgICAgIHB1dCh0eXBlLmlzUG9pbnRlcigpID8gJy0+JyA6ICcuJyk7CiAgICAgICAgICB9CiAgICAgICAgICBwdXQobmFtZSk7CiAgICAgICAgfQogICAgICAgIE5vbk51bGxBdHRyKG5vbl9udWxsX2F0dHIpIHsKICAgICAgICAgIHB1dCgnX19hdHRyaWJ1dGVfXygoX19ub25udWxsX18pKScpOwogICAgICAgIH0KICAgICAgICBOb1Rocm93QXR0cihub190aHJvd19hdHRyKSB7CiAgICAgICAgICBwdXQoJ19fYXR0cmlidXRlX18oKG5vdGhyb3cpKScpOwogICAgICAgIH0KICAgICAgICBOdWxsU3RtdChudWxsX3N0bXQpIHsKICAgICAgICAgIHB1dCgnOycpOwogICAgICAgIH0KCiAgICAgICAgUGFyYWdyYXBoQ29tbWVudChwYXJhZ3JhcGhfY29tbWVudCkgewogICAgICAgICAgZm9yKGxldCBpbm5lciBvZiBwYXJhZ3JhcGhfY29tbWVudC5pbm5lcikgewogICAgICAgICAgICBwcmludGVyLnByaW50KGlubmVyKTsKICAgICAgICAgICAgLy8gICAgICAgcHV0KCdcbicpOwogICAgICAgICAgfQogICAgICAgICAgcHV0KCdcbicpOwogICAgICAgIH0KICAgICAgICBQYXJhbUNvbW1hbmRDb21tZW50KHBhcmFtX2NvbW1hbmRfY29tbWVudCkgewogICAgICAgICAgY29uc3QgeyBwYXJhbSB9ID0gcGFyYW1fY29tbWFuZF9jb21tZW50OwogICAgICAgICAgcHV0KGBcXHBhcmFtICR7cGFyYW19YCk7CiAgICAgICAgICBmb3IobGV0IGlubmVyIG9mIHBhcmFtX2NvbW1hbmRfY29tbWVudC5pbm5lcikgcHJpbnRlci5wcmludChpbm5lcik7CiAgICAgICAgfQogICAgICAgIFBhcmVuRXhwcihwYXJlbl9leHByKSB7CiAgICAgICAgICBjb25zdCB7IHZhbHVlQ2F0ZWdvcnkgfSA9IHBhcmVuX2V4cHI7CiAgICAgICAgICBwdXQoJygnKTsKICAgICAgICAgIGZvcihsZXQgaW5uZXIgb2YgcGFyZW5fZXhwci5pbm5lcikgcHJpbnRlci5wcmludChpbm5lcik7CiAgICAgICAgICBwdXQoJyknKTsKICAgICAgICB9CiAgICAgICAgUGFyZW5MaXN0RXhwcihwYXJlbl9saXN0X2V4cHIpIHsKICAgICAgICAgIGNvbnN0IHsgdHlwZSwgdmFsdWVDYXRlZ29yeSB9ID0gcGFyZW5fbGlzdF9leHByOwoKICAgICAgICAgIHB1dChgKGApOwoKICAgICAgICAgIGlmKHBhcmVuX2xpc3RfZXhwci5pbm5lcikgZm9yKGxldCBpbm5lciBvZiBwYXJlbl9saXN0X2V4cHIuaW5uZXIpIHByaW50ZXIucHJpbnQoaW5uZXIpOwogICAgICAgICAgcHV0KGApYCk7CiAgICAgICAgfQogICAgICAgIFBhcm1WYXJEZWNsKHBhcm1fdmFyX2RlY2wpIHsKICAgICAgICAgIGxldCB7CiAgICAgICAgICAgIG5hbWUsCiAgICAgICAgICAgIHR5cGU6IHsgcXVhbFR5cGU6IHR5cGUgfSwKICAgICAgICAgIH0gPSBwYXJtX3Zhcl9kZWNsOwoKICAgICAgICAgIHB1dCgodHlwZSArICcnKS5yZXBsYWNlKC9ccytcKi9nLCAnKicpKTsKCiAgICAgICAgICBpZihuYW1lKSB7CiAgICAgICAgICAgIGlmKG91dFtvdXQubGVuZ3RoIC0gMV0gIT0gJyAnKSBwdXQoJyAnKTsKICAgICAgICAgICAgcHV0KG5hbWUpOwogICAgICAgICAgfQoKICAgICAgICAgIGlmKHBhcm1fdmFyX2RlY2wuaW5uZXIpIHsKICAgICAgICAgICAgcHV0KGAgPSBgKTsKICAgICAgICAgICAgZm9yKGxldCBpbm5lciBvZiBwYXJtX3Zhcl9kZWNsLmlubmVyKSBwcmludGVyLnByaW50KGlubmVyKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgUHVyZUF0dHIocHVyZV9hdHRyKSB7CiAgICAgICAgICBwdXQoJ19fYXR0cmlidXRlX18oKHB1cmUpKScpOwogICAgICAgIH0KICAgICAgICBSZWNvcmREZWNsKHJlY29yZF9kZWNsKSB7CiAgICAgICAgICBjb25zdCB7IHRhZ1VzZWQsIG5hbWUsIGNvbXBsZXRlRGVmaW5pdGlvbiwgcGFyZW50RGVjbENvbnRleHRJZCB9ID0gcmVjb3JkX2RlY2w7CiAgICAgICAgICAvL2NvbnNvbGUubG9nKCdSZWNvcmREZWNsJywgcmVjb3JkX2RlY2wpOwogICAgICAgICAgcHV0KHRhZ1VzZWQpOwogICAgICAgICAgaWYobmFtZSkgewogICAgICAgICAgICBwdXQoJyAnKTsKICAgICAgICAgICAgcHV0KG5hbWUpOwogICAgICAgICAgfQogICAgICAgICAgcHV0KCcgJyk7CgogICAgICAgICAgaWYocmVjb3JkX2RlY2wuaW5uZXIpIHsKICAgICAgICAgICAgcHV0KCd7XG4nKTsKICAgICAgICAgICAgZm9yKGxldCBmaWVsZCBvZiByZWNvcmRfZGVjbC5pbm5lciA/PyBbXSkgewogICAgICAgICAgICAgIHB1dCgnICAnKTsKICAgICAgICAgICAgICBwcmludGVyLnByaW50KGZpZWxkKTsKICAgICAgICAgICAgICBwdXQoJ1xuJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcHV0KCd9OycpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBSZXN0cmljdEF0dHIocmVzdHJpY3RfYXR0cikgewogICAgICAgICAgcHV0KCdfX3Jlc3RyaWN0Jyk7CiAgICAgICAgfQogICAgICAgIFJldHVyblN0bXQocmV0dXJuX3N0bXQpIHsKICAgICAgICAgIHB1dCgncmV0dXJuICcpOwogICAgICAgICAgaWYocmV0dXJuX3N0bXQuaW5uZXIpIGZvcihsZXQgaW5uZXIgb2YgcmV0dXJuX3N0bXQuaW5uZXIpIHByaW50ZXIucHJpbnQoaW5uZXIpOwogICAgICAgICAgcHV0KCc7Jyk7CiAgICAgICAgfQogICAgICAgIFJldHVybnNUd2ljZUF0dHIocmV0dXJuc190d2ljZV9hdHRyKSB7CiAgICAgICAgICBwdXQoJ19fYXR0cmlidXRlX18oKHJldHVybnNfdHdpY2UpKScpOwogICAgICAgIH0KICAgICAgICBTdHJpbmdMaXRlcmFsKHN0cmluZ19saXRlcmFsKSB7CiAgICAgICAgICBwdXQoc3RyaW5nX2xpdGVyYWwudmFsdWUpOwogICAgICAgIH0KICAgICAgICBTd2l0Y2hTdG10KHN3aXRjaF9zdG10KSB7CiAgICAgICAgICBsZXQgW2NvbmQsIGJvZHldID0gc3dpdGNoX3N0bXQuaW5uZXI7CiAgICAgICAgICBwdXQoYHN3aXRjaChgKTsKICAgICAgICAgIHByaW50ZXIucHJpbnQoY29uZCk7CiAgICAgICAgICBwdXQoYCkgYCk7CiAgICAgICAgICBwcmludGVyLnByaW50KGJvZHkpOwogICAgICAgIH0KICAgICAgICBUZXh0Q29tbWVudCh0ZXh0X2NvbW1lbnQpIHsKICAgICAgICAgIGNvbnN0IHsgdGV4dCB9ID0gdGV4dF9jb21tZW50OwoKICAgICAgICAgIHB1dCh0ZXh0KTsKICAgICAgICB9CiAgICAgICAgVHJhbnNsYXRpb25Vbml0RGVjbCh0cmFuc2xhdGlvbl91bml0X2RlY2wpIHsKICAgICAgICAgIGZvcihsZXQgaW5uZXIgb2YgdHJhbnNsYXRpb25fdW5pdF9kZWNsLmlubmVyKSBwcmludGVyLnByaW50KGlubmVyKTsKICAgICAgICB9CiAgICAgICAgVHlwZWRlZkRlY2wodHlwZWRlZl9kZWNsKSB7CiAgICAgICAgICBjb25zdCB7IG5hbWUgfSA9IHR5cGVkZWZfZGVjbDsKCiAgICAgICAgICAvL2NvbnNvbGUubG9nKGBUeXBlZGVmRGVjbGAsIHR5cGVkZWZfZGVjbCk7CgogICAgICAgICAgbGV0IHR5cGUgPSBuZXcgVHlwZSh0eXBlZGVmX2RlY2wuaW5uZXJbMF0udHlwZSwgdGhpcy5hc3QpOwoKICAgICAgICAgIHB1dCgndHlwZWRlZiAnKTsKICAgICAgICAgIHB1dCh0eXBlICsgJycpOwogICAgICAgICAgcHV0KCcgJyk7CiAgICAgICAgICBwdXQobmFtZSk7CiAgICAgICAgICBwdXQoJztcbicpOwogICAgICAgIH0KICAgICAgICBVbmFyeUV4cHJPclR5cGVUcmFpdEV4cHIodW5hcnlfZXhwcl9vcl90eXBlX3RyYWl0X2V4cHIpIHsKICAgICAgICAgIGNvbnN0IHsgdmFsdWVDYXRlZ29yeSwgbmFtZSB9ID0gdW5hcnlfZXhwcl9vcl90eXBlX3RyYWl0X2V4cHI7CgogICAgICAgICAgcHV0KG5hbWUpOwogICAgICAgICAgaWYodW5hcnlfZXhwcl9vcl90eXBlX3RyYWl0X2V4cHIuaW5uZXIpIGZvcihsZXQgaW5uZXIgb2YgdW5hcnlfZXhwcl9vcl90eXBlX3RyYWl0X2V4cHIuaW5uZXIpIHByaW50ZXIucHJpbnQoaW5uZXIpOwogICAgICAgIH0KICAgICAgICBVbmFyeU9wZXJhdG9yKHVuYXJ5X29wZXJhdG9yKSB7CiAgICAgICAgICBjb25zdCB7IHZhbHVlQ2F0ZWdvcnksIGlzUG9zdGZpeCwgb3Bjb2RlLCBjYW5PdmVyZmxvdyB9ID0gdW5hcnlfb3BlcmF0b3I7CiAgICAgICAgICBpZighaXNQb3N0Zml4KSBwdXQob3Bjb2RlKTsKICAgICAgICAgIGZvcihsZXQgaW5uZXIgb2YgdW5hcnlfb3BlcmF0b3IuaW5uZXIpIHByaW50ZXIucHJpbnQoaW5uZXIpOwogICAgICAgICAgaWYoaXNQb3N0Zml4KSBwdXQob3Bjb2RlKTsKICAgICAgICB9CiAgICAgICAgVW5yZXNvbHZlZExvb2t1cEV4cHIodW5yZXNvbHZlZF9sb29rdXBfZXhwcikgewogICAgICAgICAgY29uc3QgeyB0eXBlLCB2YWx1ZUNhdGVnb3J5LCB1c2VzQURMLCBuYW1lLCBsb29rdXBzIH0gPSB1bnJlc29sdmVkX2xvb2t1cF9leHByOwogICAgICAgICAgcHV0KG5hbWUpOwogICAgICAgIH0KICAgICAgICBVbnJlc29sdmVkTWVtYmVyRXhwcih1bnJlc29sdmVkX21lbWJlcl9leHByKSB7CiAgICAgICAgICBjb25zdCB7IHR5cGUsIHZhbHVlQ2F0ZWdvcnkgfSA9IHVucmVzb2x2ZWRfbWVtYmVyX2V4cHI7CiAgICAgICAgfQogICAgICAgIFZhckRlY2wodmFyX2RlY2wsIGJhc2VfdHlwZSkgewogICAgICAgICAgbGV0IHR5cGUgPSBuZXcgVHlwZSh2YXJfZGVjbC50eXBlLCB0aGlzLmFzdCk7CiAgICAgICAgICBwdXQodmFyX2RlY2wubmFtZSk7CiAgICAgICAgICBsZXQgc3Vic2NyaXB0cyA9ICh0eXBlLnN1YnNjcmlwdHMgPz8gW10pLm1hcCgoW29mZnNldCwgc3Vic2NyaXB0XSkgPT4gYFske3N1YnNjcmlwdH1dYCkuam9pbignJyk7CiAgICAgICAgICBpZihzdWJzY3JpcHRzKSBwdXQoc3Vic2NyaXB0cyk7CiAgICAgICAgICBpZih2YXJfZGVjbC5pbm5lciAmJiB2YXJfZGVjbC5pbm5lci5sZW5ndGgpIHsKICAgICAgICAgICAgcHV0KCcgPSAnKTsKICAgICAgICAgICAgZm9yKGxldCBpbm5lciBvZiB2YXJfZGVjbC5pbm5lcikgcHJpbnRlci5wcmludChpbm5lcik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIFZlcmJhdGltQmxvY2tDb21tZW50KHZlcmJhdGltX2Jsb2NrX2NvbW1lbnQpIHsKICAgICAgICAgIGNvbnN0IHsgbmFtZSwgY2xvc2VOYW1lIH0gPSB2ZXJiYXRpbV9ibG9ja19jb21tZW50OwogICAgICAgICAgLy9jb25zb2xlLmxvZygnVmVyYmF0aW1CbG9ja0NvbW1lbnQnLCB2ZXJiYXRpbV9ibG9ja19jb21tZW50KTsKICAgICAgICAgIHB1dChgXFwke25hbWV9YCk7CiAgICAgICAgICBmb3IobGV0IGlubmVyIG9mIHZlcmJhdGltX2Jsb2NrX2NvbW1lbnQuaW5uZXIpIHsKICAgICAgICAgICAgcHJpbnRlci5wcmludChpbm5lcik7CiAgICAgICAgICB9CiAgICAgICAgICBwdXQoYFxcJHtjbG9zZU5hbWV9YCk7CiAgICAgICAgfQogICAgICAgIFZlcmJhdGltQmxvY2tMaW5lQ29tbWVudCh2ZXJiYXRpbV9ibG9ja19saW5lX2NvbW1lbnQpIHsKICAgICAgICAgIGNvbnN0IHsgdGV4dCB9ID0gdmVyYmF0aW1fYmxvY2tfbGluZV9jb21tZW50OwogICAgICAgICAgcHV0KHRleHQpOwogICAgICAgIH0KCiAgICAgICAgV2FyblVudXNlZFJlc3VsdEF0dHIod2Fybl91bnVzZWRfcmVzdWx0X2F0dHIpIHsKICAgICAgICAgIHB1dCgnX19hdHRyaWJ1dGVfXygod2Fybl91bnVzZWRfcmVzdWx0KSknKTsKICAgICAgICB9CiAgICAgICAgV2Vha0F0dHIod2Vha19hdHRyKSB7CiAgICAgICAgICBwdXQoJ19fYXR0cmlidXRlX18oKHdlYWspKScpOwogICAgICAgIH0KICAgICAgICBXaGlsZVN0bXQod2hpbGVfc3RtdCkgewogICAgICAgICAgbGV0IFtjb25kLCBib2R5XSA9IHdoaWxlX3N0bXQuaW5uZXI7CiAgICAgICAgICBwdXQoYHdoaWxlKGApOwogICAgICAgICAgcHJpbnRlci5wcmludChjb25kKTsKICAgICAgICAgIHB1dChgKSBgKTsKICAgICAgICAgIHByaW50ZXIucHJpbnQoYm9keSk7CiAgICAgICAgfQoKICAgICAgICBPdmVycmlkZUF0dHIob3ZlcnJpZGVfYXR0cikgewogICAgICAgICAgcHV0KCdvdmVycmlkZScpOwogICAgICAgIH0KCiAgICAgICAgQWRkckxhYmVsRXhwcihhZGRyX2xhYmVsX2V4cHIpIHt9CiAgICAgICAgQWxpYXNBdHRyKGFsaWFzX2F0dHIpIHt9CiAgICAgICAgQWxpZ25WYWx1ZUF0dHIoYWxpZ25fdmFsdWVfYXR0cikgewogICAgICAgICAgcHV0KGBfX2F0dHJpYnV0ZV9fKChhbGlnbl92YWx1ZShgKTsKICAgICAgICAgIHByaW50ZXIucHJpbnQoYWxpZ25fdmFsdWVfYXR0ci5pbm5lclswXSk7CgogICAgICAgICAgcHV0KGApKSlgKTsKICAgICAgICB9CiAgICAgICAgQWxsb2NTaXplQXR0cihhbGxvY19zaXplX2F0dHIpIHt9CiAgICAgICAgQXJyYXlJbml0SW5kZXhFeHByKGFycmF5X2luaXRfaW5kZXhfZXhwcikge30KICAgICAgICBBcnJheUluaXRMb29wRXhwcihhcnJheV9pbml0X2xvb3BfZXhwcikge30KICAgICAgICBBdG9taWNFeHByKGF0b21pY19leHByKSB7fQogICAgICAgIEF0b21pY1R5cGUoYXRvbWljX3R5cGUpIHt9CiAgICAgICAgQXV0b1R5cGUoYXV0b190eXBlKSB7fQogICAgICAgIEJ1aWx0aW5UZW1wbGF0ZURlY2woYnVpbHRpbl90ZW1wbGF0ZV9kZWNsKSB7fQogICAgICAgIEJ1aWx0aW5UeXBlKGJ1aWx0aW5fdHlwZSkge30KICAgICAgICBDYWxsYmFja0F0dHIoY2FsbGJhY2tfYXR0cikge30KICAgICAgICBDbGFzc1RlbXBsYXRlRGVjbChjbGFzc190ZW1wbGF0ZV9kZWNsKSB7fQogICAgICAgIENsYXNzVGVtcGxhdGVQYXJ0aWFsU3BlY2lhbGl6YXRpb25EZWNsKGNsYXNzX3RlbXBsYXRlX3BhcnRpYWxfc3BlY2lhbGl6YXRpb25fZGVjbCkge30KICAgICAgICBDbGFzc1RlbXBsYXRlU3BlY2lhbGl6YXRpb25EZWNsKGNsYXNzX3RlbXBsYXRlX3NwZWNpYWxpemF0aW9uX2RlY2wpIHt9CiAgICAgICAgQ29tcGxleFR5cGUoY29tcGxleF90eXBlKSB7fQogICAgICAgIENvbXBvdW5kTGl0ZXJhbEV4cHIoY29tcG91bmRfbGl0ZXJhbF9leHByKSB7CiAgICAgICAgICBjb25zdCB7IHR5cGUgfSA9IGNvbXBvdW5kX2xpdGVyYWxfZXhwcjsKCiAgICAgICAgICBpZih0eXBlLnF1YWxUeXBlKSBwdXQoYCgke3R5cGUucXVhbFR5cGV9KWApOwoKICAgICAgICAgIHByaW50ZXIucHJpbnQoY29tcG91bmRfbGl0ZXJhbF9leHByLmlubmVyWzBdKTsKICAgICAgICB9CiAgICAgICAgQ29uc3RhbnRBcnJheVR5cGUoY29uc3RhbnRfYXJyYXlfdHlwZSkge30KICAgICAgICBDb25zdHJ1Y3RvclVzaW5nU2hhZG93RGVjbChjb25zdHJ1Y3Rvcl91c2luZ19zaGFkb3dfZGVjbCkge30KICAgICAgICBDb252ZXJ0VmVjdG9yRXhwcihjb252ZXJ0X3ZlY3Rvcl9leHByKSB7fQogICAgICAgIERlY2F5ZWRUeXBlKGRlY2F5ZWRfdHlwZSkge30KICAgICAgICBEZWNsdHlwZVR5cGUoZGVjbHR5cGVfdHlwZSkge30KICAgICAgICBEZXBlbmRlbnROYW1lVHlwZShkZXBlbmRlbnRfbmFtZV90eXBlKSB7fQogICAgICAgIERlcGVuZGVudFNjb3BlRGVjbFJlZkV4cHIoZGVwZW5kZW50X3Njb3BlX2RlY2xfcmVmX2V4cHIpIHsKICAgICAgICAgIGNvbnN0IHsgdHlwZSwgdmFsdWVDYXRlZ29yeSB9ID0gZGVwZW5kZW50X3Njb3BlX2RlY2xfcmVmX2V4cHI7CiAgICAgICAgfQogICAgICAgIERlcGVuZGVudFNpemVkQXJyYXlUeXBlKGRlcGVuZGVudF9zaXplZF9hcnJheV90eXBlKSB7fQogICAgICAgIERlcGVuZGVudFRlbXBsYXRlU3BlY2lhbGl6YXRpb25UeXBlKGRlcGVuZGVudF90ZW1wbGF0ZV9zcGVjaWFsaXphdGlvbl90eXBlKSB7fQogICAgICAgIEVsYWJvcmF0ZWRUeXBlKGVsYWJvcmF0ZWRfdHlwZSkge30KICAgICAgICBFbnVtVHlwZShlbnVtX3R5cGUpIHt9CiAgICAgICAgRXhwcldpdGhDbGVhbnVwcyhleHByX3dpdGhfY2xlYW51cHMpIHsKICAgICAgICAgIGZvcihsZXQgaW5uZXIgb2YgZXhwcl93aXRoX2NsZWFudXBzLmlubmVyKSBwcmludGVyLnByaW50KGlubmVyKTsKICAgICAgICB9CiAgICAgICAgRmluYWxBdHRyKGZpbmFsX2F0dHIpIHt9CiAgICAgICAgRm9ybWF0QXJnQXR0cihmb3JtYXRfYXJnX2F0dHIpIHt9CiAgICAgICAgRnJpZW5kRGVjbChmcmllbmRfZGVjbCkge30KICAgICAgICBGdW5jdGlvbk5vUHJvdG9UeXBlKGZ1bmN0aW9uX25vX3Byb3RvX3R5cGUpIHt9CiAgICAgICAgRnVuY3Rpb25Qcm90b1R5cGUoZnVuY3Rpb25fcHJvdG9fdHlwZSkge30KICAgICAgICBGdW5jdGlvblRlbXBsYXRlRGVjbChmdW5jdGlvbl90ZW1wbGF0ZV9kZWNsKSB7fQogICAgICAgIEdDQ0FzbVN0bXQoZ2NjX2FzbV9zdG10KSB7CiAgICAgICAgICBwdXQoJ19fYXNtX18gJyk7CiAgICAgICAgICBmb3IobGV0IGlubmVyIG9mIGdjY19hc21fc3RtdC5pbm5lcikgcHJpbnRlci5wcmludChpbm5lcik7CiAgICAgICAgfQogICAgICAgIEdOVUlubGluZUF0dHIoZ251X2lubGluZV9hdHRyKSB7fQogICAgICAgIEdOVU51bGxFeHByKGdudV9udWxsX2V4cHIpIHsKICAgICAgICAgIHB1dChgTlVMTGApOwogICAgICAgIH0KICAgICAgICBJbXBsaWNpdFZhbHVlSW5pdEV4cHIoaW1wbGljaXRfdmFsdWVfaW5pdF9leHByKSB7fQogICAgICAgIEluY29tcGxldGVBcnJheVR5cGUoaW5jb21wbGV0ZV9hcnJheV90eXBlKSB7fQogICAgICAgIEluZGlyZWN0RmllbGREZWNsKGluZGlyZWN0X2ZpZWxkX2RlY2wpIHt9CiAgICAgICAgSW5kaXJlY3RHb3RvU3RtdChpbmRpcmVjdF9nb3RvX3N0bXQpIHt9CiAgICAgICAgSW5qZWN0ZWRDbGFzc05hbWVUeXBlKGluamVjdGVkX2NsYXNzX25hbWVfdHlwZSkge30KICAgICAgICBMYW1iZGFFeHByKGxhbWJkYV9leHByKSB7fQogICAgICAgIExpbmthZ2VTcGVjRGVjbChsaW5rYWdlX3NwZWNfZGVjbCkgewogICAgICAgICAgY29uc3QgeyBsYW5ndWFnZSB9ID0gbGlua2FnZV9zcGVjX2RlY2w7CiAgICAgICAgICBwdXQobGFuZ3VhZ2UgPyBgZXh0ZXJuICIke2xhbmd1YWdlfSIgYCA6IGBleHRlcm4gYCk7CiAgICAgICAgICBmb3IobGV0IGlubmVyIG9mIGxpbmthZ2Vfc3BlY19kZWNsLmlubmVyKSBwcmludGVyLnByaW50KGlubmVyKTsKICAgICAgICB9CiAgICAgICAgTFZhbHVlUmVmZXJlbmNlVHlwZShsX3ZhbHVlX3JlZmVyZW5jZV90eXBlKSB7fQogICAgICAgIE1hdGVyaWFsaXplVGVtcG9yYXJ5RXhwcihtYXRlcmlhbGl6ZV90ZW1wb3JhcnlfZXhwcikgewogICAgICAgICAgZm9yKGxldCBpbm5lciBvZiBtYXRlcmlhbGl6ZV90ZW1wb3JhcnlfZXhwci5pbm5lcikgcHJpbnRlci5wcmludChpbm5lcik7CiAgICAgICAgfQogICAgICAgIE1heEZpZWxkQWxpZ25tZW50QXR0cihtYXhfZmllbGRfYWxpZ25tZW50X2F0dHIpIHt9CiAgICAgICAgTWF5QWxpYXNBdHRyKG1heV9hbGlhc19hdHRyKSB7fQogICAgICAgIE1lbWJlclBvaW50ZXJUeXBlKG1lbWJlcl9wb2ludGVyX3R5cGUpIHt9CiAgICAgICAgTWluVmVjdG9yV2lkdGhBdHRyKG1pbl92ZWN0b3Jfd2lkdGhfYXR0cikge30KICAgICAgICBNb2RlQXR0cihtb2RlX2F0dHIpIHt9CiAgICAgICAgTmFtZXNwYWNlRGVjbChuYW1lc3BhY2VfZGVjbCkge30KICAgICAgICBOb0RlYnVnQXR0cihub19kZWJ1Z19hdHRyKSB7fQogICAgICAgIE5vSW5saW5lQXR0cihub19pbmxpbmVfYXR0cikge30KICAgICAgICBOb25UeXBlVGVtcGxhdGVQYXJtRGVjbChub25fdHlwZV90ZW1wbGF0ZV9wYXJtX2RlY2wpIHt9CiAgICAgICAgT2Zmc2V0T2ZFeHByKG9mZnNldF9vZl9leHByKSB7fQogICAgICAgIE9wYXF1ZVZhbHVlRXhwcihvcGFxdWVfdmFsdWVfZXhwcikgewogICAgICAgICAgLy9jb25zb2xlLmxvZygnT3BhcXVlVmFsdWVFeHByJyxvcGFxdWVfdmFsdWVfZXhwcik7CiAgICAgICAgICBwdXQoYC8qKipGSVhNRTogT3BhcXVlVmFsdWVFeHByKioqL2ApOwogICAgICAgIH0KICAgICAgICBPd25lckF0dHIob3duZXJfYXR0cikge30KICAgICAgICBQYWNrZWRBdHRyKHBhY2tlZF9hdHRyKSB7fQogICAgICAgIFBhY2tFeHBhbnNpb25FeHByKHBhY2tfZXhwYW5zaW9uX2V4cHIpIHt9CiAgICAgICAgUGFja0V4cGFuc2lvblR5cGUocGFja19leHBhbnNpb25fdHlwZSkge30KICAgICAgICBQYXJlblR5cGUocGFyZW5fdHlwZSkge30KICAgICAgICBQb2ludGVyQXR0cihwb2ludGVyX2F0dHIpIHt9CiAgICAgICAgUG9pbnRlclR5cGUocG9pbnRlcl90eXBlKSB7fQogICAgICAgIFByZWRlZmluZWRFeHByKHByZWRlZmluZWRfZXhwcikgewogICAgICAgICAgY29uc3QgeyBuYW1lIH0gPSBwcmVkZWZpbmVkX2V4cHI7CgogICAgICAgICAgcHV0KG5hbWUpOwogICAgICAgIH0KICAgICAgICBRdWFsVHlwZShxdWFsX3R5cGUpIHt9CiAgICAgICAgUmVjb3JkVHlwZShyZWNvcmRfdHlwZSkge30KICAgICAgICBSZXR1cm5zTm9uTnVsbEF0dHIocmV0dXJuc19ub25fbnVsbF9hdHRyKSB7fQogICAgICAgIFJWYWx1ZVJlZmVyZW5jZVR5cGUocl92YWx1ZV9yZWZlcmVuY2VfdHlwZSkge30KICAgICAgICBTZW50aW5lbEF0dHIoc2VudGluZWxfYXR0cikge30KICAgICAgICBTaHVmZmxlVmVjdG9yRXhwcihzaHVmZmxlX3ZlY3Rvcl9leHByKSB7fQogICAgICAgIFNpemVPZlBhY2tFeHByKHNpemVfb2ZfcGFja19leHByKSB7fQogICAgICAgIFN0YXRpY0Fzc2VydERlY2woc3RhdGljX2Fzc2VydF9kZWNsKSB7fQogICAgICAgIFN0bXRFeHByKHN0bXRfZXhwcikgewogICAgICAgICAgcHJpbnRlci5wcmludChzdG10X2V4cHIuaW5uZXJbMF0pOwogICAgICAgIH0KICAgICAgICBTdWJzdE5vblR5cGVUZW1wbGF0ZVBhcm1FeHByKHN1YnN0X25vbl90eXBlX3RlbXBsYXRlX3Bhcm1fZXhwcikge30KICAgICAgICBTdWJzdFRlbXBsYXRlVHlwZVBhcm1UeXBlKHN1YnN0X3RlbXBsYXRlX3R5cGVfcGFybV90eXBlKSB7fQogICAgICAgIFRhcmdldEF0dHIodGFyZ2V0X2F0dHIpIHt9CiAgICAgICAgVGVtcGxhdGVBcmd1bWVudCh0ZW1wbGF0ZV9hcmd1bWVudCkge30KICAgICAgICBUZW1wbGF0ZVNwZWNpYWxpemF0aW9uVHlwZSh0ZW1wbGF0ZV9zcGVjaWFsaXphdGlvbl90eXBlKSB7fQogICAgICAgIFRlbXBsYXRlVGVtcGxhdGVQYXJtRGVjbCh0ZW1wbGF0ZV90ZW1wbGF0ZV9wYXJtX2RlY2wpIHt9CiAgICAgICAgVGVtcGxhdGVUeXBlUGFybURlY2wodGVtcGxhdGVfdHlwZV9wYXJtX2RlY2wpIHt9CiAgICAgICAgVGVtcGxhdGVUeXBlUGFybVR5cGUodGVtcGxhdGVfdHlwZV9wYXJtX3R5cGUpIHt9CiAgICAgICAgVFBhcmFtQ29tbWFuZENvbW1lbnQodF9wYXJhbV9jb21tYW5kX2NvbW1lbnQpIHt9CiAgICAgICAgVHlwZUFsaWFzRGVjbCh0eXBlX2FsaWFzX2RlY2wpIHt9CiAgICAgICAgVHlwZUFsaWFzVGVtcGxhdGVEZWNsKHR5cGVfYWxpYXNfdGVtcGxhdGVfZGVjbCkge30KICAgICAgICBUeXBlZGVmVHlwZSh0eXBlZGVmX3R5cGUpIHt9CiAgICAgICAgVHlwZU9mRXhwclR5cGUodHlwZV9vZl9leHByX3R5cGUpIHt9CiAgICAgICAgVHlwZVRyYWl0RXhwcih0eXBlX3RyYWl0X2V4cHIpIHt9CiAgICAgICAgVW5hcnlUcmFuc2Zvcm1UeXBlKHVuYXJ5X3RyYW5zZm9ybV90eXBlKSB7fQogICAgICAgIFVucmVzb2x2ZWRVc2luZ1ZhbHVlRGVjbCh1bnJlc29sdmVkX3VzaW5nX3ZhbHVlX2RlY2wpIHt9CiAgICAgICAgVW51c2VkQXR0cih1bnVzZWRfYXR0cikge30KICAgICAgICBVc2luZ0RlY2wodXNpbmdfZGVjbCkge30KICAgICAgICBVc2luZ0RpcmVjdGl2ZURlY2wodXNpbmdfZGlyZWN0aXZlX2RlY2wpIHt9CiAgICAgICAgVXNpbmdTaGFkb3dEZWNsKHVzaW5nX3NoYWRvd19kZWNsKSB7fQogICAgICAgIFZBQXJnRXhwcih2YV9hcmdfZXhwcikge30KICAgICAgICBWYXJUZW1wbGF0ZURlY2wodmFyX3RlbXBsYXRlX2RlY2wpIHt9CiAgICAgICAgVmVjdG9yVHlwZSh2ZWN0b3JfdHlwZSkge30KICAgICAgICBWZXJiYXRpbUxpbmVDb21tZW50KHZlcmJhdGltX2xpbmVfY29tbWVudCkge30KICAgICAgICBWaXNpYmlsaXR5QXR0cih2aXNpYmlsaXR5X2F0dHIpIHt9CiAgICAgICAgV2Vha1JlZkF0dHIod2Vha19yZWZfYXR0cikge30KCiAgICAgICAgQ1hYUmVjb3JkRGVjbChjeHhfcmVjb3JkX2RlY2wpIHsKICAgICAgICAgIGNvbnN0IHsgbmFtZSwgdGFnVXNlZCB9ID0gY3h4X3JlY29yZF9kZWNsOwogICAgICAgICAgZGVwdGgrKzsKCiAgICAgICAgICBwdXQoYCR7dGFnVXNlZH0gJHtuYW1lfSB7XG5gKTsKCiAgICAgICAgICBpZihjeHhfcmVjb3JkX2RlY2wuaW5uZXIpIHsKICAgICAgICAgICAgbGV0IGkgPSAtMTsKICAgICAgICAgICAgZm9yKGxldCBpbm5lciBvZiBjeHhfcmVjb3JkX2RlY2wuaW5uZXIpIHsKICAgICAgICAgICAgICBpKys7CiAgICAgICAgICAgICAgaWYoaW5uZXIua2luZCAmJiAoaW5uZXIua2luZC5lbmRzV2l0aCgnQ29tbWVudCcpIHx8IGlubmVyLmtpbmQgPT0gJ0NYWFJlY29yZERlY2wnKSkgY29udGludWU7CiAgICAgICAgICAgICAgLy8gIGNvbnNvbGUubG9nKGBDWFhSZWNvcmREZWNsIGlubmVyWyR7aX1dYCwgaW5uZXIpOwogICAgICAgICAgICAgIHByaW50ZXIucHJpbnQoaW5uZXIpOwogICAgICAgICAgICAgIHB1dChgXG5gKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgZGVwdGgtLTsKICAgICAgICAgIHB1dChgXG59YCk7CiAgICAgICAgfQogICAgICAgIENYWENvbnN0cnVjdG9yRGVjbChjeHhfY29uc3RydWN0b3JfZGVjbCkgewogICAgICAgICAgY29uc3QgeyBuYW1lLCB0eXBlIH0gPSBjeHhfY29uc3RydWN0b3JfZGVjbDsKICAgICAgICAgIGxldCBpID0gMCwKICAgICAgICAgICAgcGFyYW0sCiAgICAgICAgICAgIGluaXRpYWxpemVyOwogICAgICAgICAgbGV0IGwgPSBjeHhfY29uc3RydWN0b3JfZGVjbD8uaW5uZXIgPyBbLi4uY3h4X2NvbnN0cnVjdG9yX2RlY2wuaW5uZXJdLmZpbHRlcihuID0+IG4ua2luZCAmJiAhbi5raW5kLmVuZHNXaXRoKCdDb21tZW50JykpIDogW107CiAgICAgICAgICBwdXQoYCR7bmFtZX0oYCk7CiAgICAgICAgICB3aGlsZShsLmxlbmd0aCAmJiBsWzBdLmtpbmQgPT0gJ1Bhcm1WYXJEZWNsJyAmJiAocGFyYW0gPSBsLnNoaWZ0KCkpKSB7CiAgICAgICAgICAgIC8qaWYocGFyYW0ubmFtZSkqLyB7CiAgICAgICAgICAgICAgaWYoaSA+IDApIHB1dCgnLCAnKTsKICAgICAgICAgICAgICBwcmludGVyLnByaW50KHBhcmFtKTsKICAgICAgICAgICAgICBpKys7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIHB1dChgKWApOwogICAgICAgICAgZGVwdGgrKzsKICAgICAgICAgIGlmKGwubGVuZ3RoICYmIGxbMF0ua2luZCA9PSAnQ1hYQ3RvckluaXRpYWxpemVyJykgewogICAgICAgICAgICBwdXQoYFxuOiBgKTsKICAgICAgICAgICAgaSA9IDA7CiAgICAgICAgICAgIHdoaWxlKGwubGVuZ3RoICYmIGxbMF0ua2luZCA9PSAnQ1hYQ3RvckluaXRpYWxpemVyJyAmJiAoaW5pdGlhbGl6ZXIgPSBsLnNoaWZ0KCkpKSB7CiAgICAgICAgICAgICAgaWYoaSsrID4gMCkgcHV0KCdcbiwgJyk7CiAgICAgICAgICAgICAgbGV0IGltcGxpY2l0X2Nhc3QgPSBpbml0aWFsaXplci5pbm5lclswXTsKICAgICAgICAgICAgICBpZihpbXBsaWNpdF9jYXN0Py5pbm5lcikgewogICAgICAgICAgICAgICAgbGV0IG1lbWJlcl9leHByID0gaW1wbGljaXRfY2FzdC5pbm5lclswXTsKCiAgICAgICAgICAgICAgICBwdXQobWVtYmVyX2V4cHIubmFtZSArIGAoYCk7CiAgICAgICAgICAgICAgICBpZihtZW1iZXJfZXhwcj8uaW5uZXIpIHByaW50ZXIucHJpbnQobWVtYmVyX2V4cHIuaW5uZXJbMF0pOwoKICAgICAgICAgICAgICAgIHB1dChgKWApOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgZGVwdGgtLTsKICAgICAgICAgIGlmKGwubGVuZ3RoKSB7CiAgICAgICAgICAgIHB1dChgXG5gKTsKICAgICAgICAgICAgZm9yKGxldCBub2RlIG9mIGwpIHByaW50ZXIucHJpbnQobm9kZSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBwdXQoYDtgKTsKICAgICAgICAgIH0KICAgICAgICAgIHB1dChgXG5gKTsKICAgICAgICB9CgogICAgICAgIENYWEN0b3JJbml0aWFsaXplcihjeHhfY3Rvcl9pbml0aWFsaXplcikgewogICAgICAgICAgY29uc3QgewogICAgICAgICAgICBhbnlJbml0OiB7IG5hbWUgfSwKICAgICAgICAgIH0gPSBjeHhfY3Rvcl9pbml0aWFsaXplcjsKCiAgICAgICAgICBwdXQobmFtZSk7CiAgICAgICAgICBwdXQoYChgKTsKICAgICAgICAgIGlmKGN4eF9jdG9yX2luaXRpYWxpemVyLmlubmVyKQogICAgICAgICAgICBmb3IobGV0IGlubmVyIG9mIGN4eF9jdG9yX2luaXRpYWxpemVyLmlubmVyKSB7CiAgICAgICAgICAgICAgaWYoaW5uZXIua2luZC5lbmRzV2l0aCgnQ29tbWVudCcpKSBjb250aW51ZTsKICAgICAgICAgICAgICBwcmludGVyLnByaW50KGlubmVyID8/ICcnKTsKICAgICAgICAgICAgfQogICAgICAgICAgcHV0KGApYCk7CiAgICAgICAgfQogICAgICAgIENYWERlcGVuZGVudFNjb3BlTWVtYmVyRXhwcihjeHhfZGVwZW5kZW50X3Njb3BlX21lbWJlcl9leHByKSB7CiAgICAgICAgICBjb25zdCB7IHR5cGUsIHZhbHVlQ2F0ZWdvcnksIGlzQXJyb3csIG1lbWJlciB9ID0gY3h4X2RlcGVuZGVudF9zY29wZV9tZW1iZXJfZXhwcjsKCiAgICAgICAgICAvLyBpZihjeHhfZGVwZW5kZW50X3Njb3BlX21lbWJlcl9leHByLmlubmVyKQogICAgICAgICAgZm9yKGxldCBpbm5lciBvZiBjeHhfZGVwZW5kZW50X3Njb3BlX21lbWJlcl9leHByLmlubmVyKSB7CiAgICAgICAgICAgIGlmKGlubmVyLmtpbmQuZW5kc1dpdGgoJ0NvbW1lbnQnKSkgY29udGludWU7CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdDWFhEZXBlbmRlbnRTY29wZU1lbWJlckV4cHInLCBpbm5lcik7CiAgICAgICAgICAgIHByaW50ZXIucHJpbnQoaW5uZXIpOwogICAgICAgICAgfQoKICAgICAgICAgIHB1dChgLiR7bWVtYmVyfWApOwogICAgICAgIH0KICAgICAgICBDWFhUaGlzRXhwcihjeHhfdGhpc19leHByKSB7CiAgICAgICAgICBjb25zdCB7IHZhbHVlQ2F0ZWdvcnksIGlzSW1wbGljaXQgfSA9IGN4eF90aGlzX2V4cHI7CgogICAgICAgICAgcHV0KCd0aGlzJyk7CiAgICAgICAgfQogICAgICAgIENYWERlc3RydWN0b3JEZWNsKGN4eF9kZXN0cnVjdG9yX2RlY2wpIHsKICAgICAgICAgIGNvbnN0IHsgaXNJbXBsaWNpdCwgbmFtZSwgbWFuZ2xlZE5hbWUsIHR5cGUsIGlubGluZSwgZXhwbGljaXRseURlZmF1bHRlZCB9ID0gY3h4X2Rlc3RydWN0b3JfZGVjbDsKCiAgICAgICAgICBsZXQgbCA9IGN4eF9kZXN0cnVjdG9yX2RlY2wuaW5uZXIgPyBbLi4uY3h4X2Rlc3RydWN0b3JfZGVjbC5pbm5lcl0uZmlsdGVyKG4gPT4gbi5raW5kICYmICFuLmtpbmQuZW5kc1dpdGgoJ0NvbW1lbnQnKSkgOiBbXTsKICAgICAgICAgIHB1dChgJHtuYW1lfShgKTsKCiAgICAgICAgICBwdXQoYClgKTsKCiAgICAgICAgICBpZihsLmxlbmd0aCkgewogICAgICAgICAgICBwdXQoYFxuYCk7CiAgICAgICAgICAgIGZvcihsZXQgbm9kZSBvZiBsKSBwcmludGVyLnByaW50KG5vZGUpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcHV0KGA7YCk7CiAgICAgICAgICB9CiAgICAgICAgICBwdXQoYFxuYCk7CiAgICAgICAgfQogICAgICAgIENYWE1ldGhvZERlY2woY3h4X21ldGhvZF9kZWNsKSB7CiAgICAgICAgICBjb25zdCB7CiAgICAgICAgICAgIG5hbWUsCiAgICAgICAgICAgIHR5cGU6IHsgcXVhbFR5cGU6IGZ1bmN0aW9uVHlwZSB9LAogICAgICAgICAgICBzdG9yYWdlQ2xhc3MsCiAgICAgICAgICB9ID0gY3h4X21ldGhvZF9kZWNsOwogICAgICAgICAgY29uc3QgcmV0dXJuVHlwZSA9IGZ1bmN0aW9uVHlwZS5zbGljZSgwLCBmdW5jdGlvblR5cGUuaW5kZXhPZignKCcpKTsKCiAgICAgICAgICAvLyAgY29uc29sZS5sb2coJ0NYWE1ldGhvZERlY2wnLCBjb25zb2xlLmNvbmZpZyh7IGRlcHRoOiAxMCB9KSwgY3h4X21ldGhvZF9kZWNsKTsKICAgICAgICAgIGxldCBpID0gMCwKICAgICAgICAgICAgcGFyYW0sCiAgICAgICAgICAgIGluaXRpYWxpemVyOwogICAgICAgICAgbGV0IGlubmVyID0gY3h4X21ldGhvZF9kZWNsLmlubmVyID8gWy4uLmN4eF9tZXRob2RfZGVjbC5pbm5lcl0uZmlsdGVyKG4gPT4gbi5raW5kICYmICFuLmtpbmQuZW5kc1dpdGgoJ0NvbW1lbnQnKSkgOiBbXTsKICAgICAgICAgIGlmKHN0b3JhZ2VDbGFzcykgcHV0KGAke3N0b3JhZ2VDbGFzc30gYCk7CiAgICAgICAgICBwdXQoYCR7cmV0dXJuVHlwZX1cbmApOwogICAgICAgICAgcHV0KGAke25hbWV9KGApOwogICAgICAgICAgd2hpbGUoaW5uZXIubGVuZ3RoICYmIGlubmVyWzBdLmtpbmQgPT0gJ1Bhcm1WYXJEZWNsJyAmJiAocGFyYW0gPSBpbm5lci5zaGlmdCgpKSkgewogICAgICAgICAgICBpZihpKysgPiAwKSBwdXQoJywgJyk7CiAgICAgICAgICAgIHByaW50ZXIucHJpbnQocGFyYW0pOwogICAgICAgICAgfQogICAgICAgICAgcHV0KGApYCk7CiAgICAgICAgICAvL2NvbnNvbGUubG9nKCdDWFhNZXRob2REZWNsJywgeyBpbm5lciB9KTsKICAgICAgICAgIGlmKGlubmVyLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgcHV0KGAgYCk7CiAgICAgICAgICAgIGRlcHRoKys7CiAgICAgICAgICAgIGZvcihsZXQgbm9kZSBvZiBpbm5lcikgcHJpbnRlci5wcmludChub2RlKTsKICAgICAgICAgICAgZGVwdGgtLTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHB1dChgO2ApOwogICAgICAgICAgfQogICAgICAgICAgcHV0KGBcbmApOwogICAgICAgIH0KCiAgICAgICAgQ1hYU3RhdGljQ2FzdEV4cHIoY3h4X3N0YXRpY19jYXN0X2V4cHIpIHsKICAgICAgICAgIGNvbnN0IHsKICAgICAgICAgICAgdHlwZTogeyBxdWFsVHlwZTogdHlwZU5hbWUgfSwKICAgICAgICAgICAgdmFsdWVDYXRlZ29yeSwKICAgICAgICAgICAgY2FzdEtpbmQsCiAgICAgICAgICB9ID0gY3h4X3N0YXRpY19jYXN0X2V4cHI7CgogICAgICAgICAgaWYoY2FzdEtpbmQgPT0gJ05vT3AnKSB7CiAgICAgICAgICAgIHB1dChgMGApOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgICAvL2NvbnNvbGUubG9nKCdDWFhTdGF0aWNDYXN0RXhwcicsIGN4eF9zdGF0aWNfY2FzdF9leHByKTsKICAgICAgICAgIHB1dChgc3RhdGljX2Nhc3Q8YCk7CiAgICAgICAgICBwdXQodHlwZU5hbWUpOwogICAgICAgICAgcHV0KGA+KGApOwoKICAgICAgICAgIGlmKGN4eF9zdGF0aWNfY2FzdF9leHByLmlubmVyKQogICAgICAgICAgICBmb3IobGV0IGlubmVyIG9mIGN4eF9zdGF0aWNfY2FzdF9leHByLmlubmVyKSB7CiAgICAgICAgICAgICAgaWYoaW5uZXIua2luZCA9PSAnRGVjbFJlZkV4cHInICYmIGlubmVyLnJlZmVyZW5jZWREZWNsLm5hbWUgPT0gJycpIGNvbnRpbnVlOwogICAgICAgICAgICAgIHByaW50ZXIucHJpbnQoaW5uZXIpOwogICAgICAgICAgICB9CiAgICAgICAgICBwdXQoYClgKTsKICAgICAgICB9CgogICAgICAgIENYWFVucmVzb2x2ZWRDb25zdHJ1Y3RFeHByKGN4eF91bnJlc29sdmVkX2NvbnN0cnVjdF9leHByKSB7CiAgICAgICAgICBjb25zdCB7IHR5cGUsIHZhbHVlQ2F0ZWdvcnkgfSA9IGN4eF91bnJlc29sdmVkX2NvbnN0cnVjdF9leHByOwogICAgICAgICAgaWYoY3h4X3VucmVzb2x2ZWRfY29uc3RydWN0X2V4cHIuaW5uZXIpCiAgICAgICAgICAgIGZvcihsZXQgaW5uZXIgb2YgY3h4X3VucmVzb2x2ZWRfY29uc3RydWN0X2V4cHIuaW5uZXIpIHsKICAgICAgICAgICAgICBpZihpbm5lci5raW5kLmVuZHNXaXRoKCdDb21tZW50JykpIGNvbnRpbnVlOwogICAgICAgICAgICAgIHByaW50ZXIucHJpbnQoaW5uZXIpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIENYWE5ld0V4cHIoY3h4X25ld19leHByKSB7CiAgICAgICAgICBjb25zdCB7CiAgICAgICAgICAgIHR5cGU6IHsgcXVhbFR5cGU6IHR5cGUgfSwKICAgICAgICAgICAgdmFsdWVDYXRlZ29yeSwKICAgICAgICAgICAgaXNBcnJheSwKICAgICAgICAgIH0gPSBjeHhfbmV3X2V4cHI7CiAgICAgICAgICAvL2NvbnNvbGUubG9nKCdDWFhOZXdFeHByJywgY3h4X25ld19leHByKTsKICAgICAgICAgIHR5cGUgPSB0eXBlLnRyaW0oKTsKICAgICAgICAgIGlmKGlzQXJyYXkpIHsKICAgICAgICAgICAgcHV0KCduZXcgJyArIHR5cGUgKyAnWycpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcHV0KCduZXcgJyArIHR5cGUgKyAnKCcpOwogICAgICAgICAgfQogICAgICAgICAgcHJpbnRlci5wcmludChjeHhfbmV3X2V4cHIuaW5uZXJbMF0pOwoKICAgICAgICAgIGlmKGlzQXJyYXkpIHB1dChgXWApOwogICAgICAgICAgZWxzZSBwdXQoYClgKTsKICAgICAgICB9CiAgICAgICAgQ1hYRGVsZXRlRXhwcihjeHhfZGVsZXRlX2V4cHIpIHsKICAgICAgICAgIGNvbnN0IHsKICAgICAgICAgICAgdHlwZTogeyBxdWFsVHlwZTogdHlwZSB9LAogICAgICAgICAgICB2YWx1ZUNhdGVnb3J5LAogICAgICAgICAgICBpc0FycmF5LAogICAgICAgICAgICBpc0FycmF5QXNXcml0dGVuLAogICAgICAgICAgfSA9IGN4eF9kZWxldGVfZXhwcjsKICAgICAgICAgIHB1dChgZGVsZXRlIGApOwoKICAgICAgICAgIHByaW50ZXIucHJpbnQoY3h4X2RlbGV0ZV9leHByLmlubmVyWzBdKTsKICAgICAgICB9CiAgICAgICAgQ1hYQm9vbExpdGVyYWxFeHByKGN4eF9ib29sX2xpdGVyYWxfZXhwcikgewogICAgICAgICAgY29uc3QgeyB0eXBlLCB2YWx1ZUNhdGVnb3J5LCB2YWx1ZSB9ID0gY3h4X2Jvb2xfbGl0ZXJhbF9leHByOwoKICAgICAgICAgIHB1dCh2YWx1ZSA/ICd0cnVlJyA6ICdmYWxzZScpOwogICAgICAgIH0KICAgICAgICBDWFgxMU5vUmV0dXJuQXR0cihjeHgxMV9ub19yZXR1cm5fYXR0cikge30KICAgICAgICBDWFhCaW5kVGVtcG9yYXJ5RXhwcihjeHhfYmluZF90ZW1wb3JhcnlfZXhwcikge30KICAgICAgICBDWFhDYXRjaFN0bXQoY3h4X2NhdGNoX3N0bXQpIHt9CiAgICAgICAgQ1hYQ29uc3RydWN0RXhwcihjeHhfY29uc3RydWN0X2V4cHIpIHsKICAgICAgICAgIGNvbnN0IHsgdHlwZSB9ID0gY3h4X2NvbnN0cnVjdF9leHByOwoKICAgICAgICAgIGZvcihsZXQgaW5uZXIgb2YgY3h4X2NvbnN0cnVjdF9leHByLmlubmVyKSBwcmludGVyLnByaW50KGlubmVyKTsKICAgICAgICB9CiAgICAgICAgQ1hYQ29udmVyc2lvbkRlY2woY3h4X2NvbnZlcnNpb25fZGVjbCkge30KICAgICAgICBDWFhEZWZhdWx0QXJnRXhwcihjeHhfZGVmYXVsdF9hcmdfZXhwcikge30KICAgICAgICBDWFhEZWZhdWx0SW5pdEV4cHIoY3h4X2RlZmF1bHRfaW5pdF9leHByKSB7fQogICAgICAgIENYWEZvclJhbmdlU3RtdChjeHhfZm9yX3JhbmdlX3N0bXQpIHt9CiAgICAgICAgQ1hYRnVuY3Rpb25hbENhc3RFeHByKGN4eF9mdW5jdGlvbmFsX2Nhc3RfZXhwcikge30KICAgICAgICBDWFhNZW1iZXJDYWxsRXhwcihjeHhfbWVtYmVyX2NhbGxfZXhwcikge30KCiAgICAgICAgQ1hYTm9leGNlcHRFeHByKGN4eF9ub2V4Y2VwdF9leHByKSB7fQogICAgICAgIENYWE51bGxQdHJMaXRlcmFsRXhwcihjeHhfbnVsbF9wdHJfbGl0ZXJhbF9leHByKSB7fQogICAgICAgIENYWE9wZXJhdG9yQ2FsbEV4cHIoY3h4X29wZXJhdG9yX2NhbGxfZXhwcikge30KICAgICAgICBDWFhSZWludGVycHJldENhc3RFeHByKGN4eF9yZWludGVycHJldF9jYXN0X2V4cHIpIHt9CiAgICAgICAgQ1hYU2NhbGFyVmFsdWVJbml0RXhwcihjeHhfc2NhbGFyX3ZhbHVlX2luaXRfZXhwcikge30KICAgICAgICBDWFhUZW1wb3JhcnlPYmplY3RFeHByKGN4eF90ZW1wb3Jhcnlfb2JqZWN0X2V4cHIpIHsKICAgICAgICAgIGNvbnN0IHsgdHlwZSB9ID0gY3h4X3RlbXBvcmFyeV9vYmplY3RfZXhwcjsKCiAgICAgICAgICBwdXQodHlwZS5xdWFsVHlwZSk7CiAgICAgICAgICBwdXQoYChgKTsKICAgICAgICAgIGZvcihsZXQgaW5uZXIgb2YgY3h4X3RlbXBvcmFyeV9vYmplY3RfZXhwci5pbm5lcikgewogICAgICAgICAgICBwcmludGVyLnByaW50KGlubmVyKTsKICAgICAgICAgIH0KICAgICAgICAgIHB1dChgKWApOwogICAgICAgIH0KICAgICAgICBDWFhUcnlTdG10KGN4eF90cnlfc3RtdCkge30KICAgICAgfSkoKSwKICAgIH0sCiAgfSk7CgogIHJldHVybiBwcmludGVyOwp9CgpleHBvcnQgZnVuY3Rpb24gUHJpbnROb2RlKG5vZGUpIHsKICBsZXQgb3V0LAogICAgc2VwID0gJyAnOwoKICBzd2l0Y2ggKG5vZGUua2luZCkgewogICAgY2FzZSAnQ29uc3RhbnRFeHByJzoKICAgICAgb3V0ID0gbm9kZS5pbm5lci5tYXAoUHJpbnROb2RlKTsKICAgICAgYnJlYWs7CiAgICBjYXNlICdJbnRlZ2VyTGl0ZXJhbCc6CiAgICAgIG91dCA9IG5vZGUudmFsdWU7CiAgICAgIGJyZWFrOwogICAgY2FzZSAnQmluYXJ5T3BlcmF0b3InOgogICAgICBvdXQgPSBub2RlLmlubmVyLm1hcChQcmludE5vZGUpOwogICAgICBzZXAgPSBgICR7bm9kZS5vcGNvZGV9IGA7CiAgICAgIGJyZWFrOwogIH0KCiAgaWYoQXJyYXkuaXNBcnJheShvdXQpKSBvdXQgPSBvdXQuam9pbihzZXApOwogIHJldHVybiBvdXQ7Cn0KCmV4cG9ydCBmdW5jdGlvbiBQcmludEFzdChub2RlLCBhc3QpIHsKICBpZignYXN0JyBpbiBub2RlKSBub2RlID0gbm9kZS5hc3Q7CiAgYXN0ID8/PSBnbG9iYWxUaGlzWyckJ10uZGF0YTsKICBsZXQgcHJpbnRlciA9IE5vZGVQcmludGVyKGFzdCk7CiAgZ2xvYmFsVGhpcy5wcmludGVyID0gcHJpbnRlcjsKICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhwcmludGVyLCB7CiAgICBwYXRoOiB7CiAgICAgIGdldCgpIHsKICAgICAgICByZXR1cm4gRGVlcFBhdGhPZihhc3QsIHRoaXMubm9kZSk7CiAgICAgIH0sCiAgICB9LAogIH0pOwoKICBpZihBcnJheS5pc0FycmF5KG5vZGUpKSB7CiAgICBmb3IobGV0IGVsZW0gb2Ygbm9kZSkgewogICAgICBpZihwcmludGVyLm91dHB1dCkgcHJpbnRlci5wdXQoJ1xuJyk7CiAgICAgIHByaW50ZXIoZWxlbSwgYXN0KTsKICAgIH0KICB9IGVsc2UgewogICAgcHJpbnRlcihub2RlLCBhc3QpOwogIH0KCiAgcmV0dXJuIHByaW50ZXIub3V0cHV0Owp9CgpleHBvcnQgZnVuY3Rpb24gaXNOb2RlKG9iaikgewogIHJldHVybiBpc09iamVjdChvYmopICYmIHR5cGVvZiBvYmoua2luZCA9PSAnc3RyaW5nJzsKfQoKZXhwb3J0IGZ1bmN0aW9uIEdldFR5cGUobmFtZV9vcl9pZCwgYXN0ID0gZ2xvYmFsVGhpc1snJCddPy5kYXRhKSB7CiAgbGV0IHJlc3VsdCwgaWR4OwoKICBpZih0eXBlb2YgbmFtZV9vcl9pZCA9PSAnb2JqZWN0JyAmJiBuYW1lX29yX2lkKSB7CiAgICByZXN1bHQgPSBuYW1lX29yX2lkOwogIH0gZWxzZSB7CiAgICBjb25zdCB0eXBlcyA9IGFzdC5pbm5lci5maWx0ZXIobiA9PiAvKD86UmVjb3JkRGVjbHxUeXBlZGVmRGVjbHxFbnVtRGVjbCkvLnRlc3Qobi5raW5kKSk7CgogICAgaWYodHlwZW9mIG5hbWVfb3JfaWQgPT0gJ3N0cmluZycpIHsKICAgICAgbGV0IHRhZ1VzZWQsCiAgICAgICAgd2FudEtpbmQgPSAvXi4qLzsKCiAgICAgIGlmKC9eKD86c3RydWN0fHVuaW9ufGVudW0pXHMvLnRlc3QobmFtZV9vcl9pZCkpIHsKICAgICAgICB0YWdVc2VkID0gbmFtZV9vcl9pZC5yZXBsYWNlKC9ccy4qL2csICcnKTsKICAgICAgICBuYW1lX29yX2lkID0gbmFtZV9vcl9pZC5zdWJzdHJpbmcodGFnVXNlZC5sZW5ndGggKyAxKTsKICAgICAgfQoKICAgICAgc3dpdGNoICh0YWdVc2VkKSB7CiAgICAgICAgY2FzZSAnc3RydWN0JzoKICAgICAgICBjYXNlICd1bmlvbic6CiAgICAgICAgICB3YW50S2luZCA9IC9eUmVjb3JkRGVjbC87CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdlbnVtJzoKICAgICAgICAgIHdhbnRLaW5kID0gL15FbnVtRGVjbC87CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgICBsZXQgcmVzdWx0cyA9IHR5cGVzLmZpbHRlcihuYW1lX29yX2lkLnN0YXJ0c1dpdGgoJzB4JykgPyBub2RlID0+IG5vZGUuaWQgPT0gbmFtZV9vcl9pZCAmJiB3YW50S2luZC50ZXN0KG5vZGUua2luZCkgOiBub2RlID0+IG5vZGUubmFtZSA9PSBuYW1lX29yX2lkICYmIHdhbnRLaW5kLnRlc3Qobm9kZS5raW5kKSk7CiAgICAgIGlmKHJlc3VsdHMubGVuZ3RoIDw9IDEgfHwgKGlkeCA9IHJlc3VsdHMuZmluZEluZGV4KHIgPT4gci5jb21wbGV0ZURlZmluaXRpb24pKSA9PSAtMSkgaWR4ID0gMDsKICAgICAgcmVzdWx0ID0gcmVzdWx0c1tpZHhdOwoKICAgICAgaWYoIXJlc3VsdCAmJiBUeXBlLmRlY2xhcmF0aW9ucy5oYXMobmFtZV9vcl9pZCkpIHJlc3VsdCA9IFR5cGUuZGVjbGFyYXRpb25zLmdldChuYW1lX29yX2lkKTsKICAgIH0gZWxzZSB7CiAgICAgIHJlc3VsdCA9IHR5cGVzW25hbWVfb3JfaWRdOwogICAgfQogIH0KCiAgcmV0dXJuIHJlc3VsdDsKfQoKZXhwb3J0IGZ1bmN0aW9uIEdldENsYXNzKG5hbWVfb3JfaWQsIGFzdCA9IGdsb2JhbFRoaXNbJyQnXS5kYXRhKSB7CiAgbGV0IHJlc3VsdCA9CiAgICBpc1N0cmluZyhuYW1lX29yX2lkKSAmJiAvOjovLnRlc3QobmFtZV9vcl9pZCkKICAgICAgPyBHZXRCeU5hbWUobmFtZV9vcl9pZCwgYXN0LCBuID0+IC9SZWNvcmREZWNsLy50ZXN0KG4ua2luZCkgJiYgbi5jb21wbGV0ZURlZmluaXRpb24pCiAgICAgIDogRGVlcEZpbmQoYXN0LCBuYW1lT3JJZFByZWQobmFtZV9vcl9pZCwgYW5kKHByb3BlcnR5KCdraW5kJywgcmVnZXhwKC9SZWNvcmREZWNsLykpLCBwcm9wZXJ0eSgnY29tcGxldGVEZWZpbml0aW9uJykpKSwgZGVlcC5SRVRVUk5fVkFMVUUpOwoKICBpZihyZXN1bHQpIHsKICAgIGxldCB0eXBlID0gVHlwZUZhY3RvcnkocmVzdWx0LCBhc3QpOwogICAgaWYodHlwZSkgcmVzdWx0ID0gdHlwZTsKCiAgICByZXR1cm4gZGVmaW5lKAogICAgICByZXN1bHQsCiAgICAgIHByb3BlcnRpZXMoCiAgICAgICAgewogICAgICAgICAgYmFzZXMoKSB7CiAgICAgICAgICAgIGNvbnN0IGEgPSBbLi4uR2V0QmFzZXModGhpcywgYXN0KV07CiAgICAgICAgICAgIGlmKGEubGVuZ3RoID4gMCkgcmV0dXJuIGE7CiAgICAgICAgICB9LAogICAgICAgIH0sCiAgICAgICAgeyBlbnVtZXJhYmxlOiBmYWxzZSwgbWVtb2l6ZTogdHJ1ZSB9LAogICAgICApLAogICAgKTsKICB9Cn0KCmV4cG9ydCBmdW5jdGlvbiogR2V0QmFzZXMobm9kZSwgYXN0ID0gZ2xvYmFsVGhpc1snJCddLmRhdGEpIHsKICBpZihub2RlPy5hc3QpIG5vZGUgPSBub2RlLmFzdDsKICBpZihub2RlPy5raW5kICE9ICdDWFhSZWNvcmREZWNsJykgdGhyb3cgbmV3IFR5cGVFcnJvcihgYXJndW1lbnQgMSBtdXN0IGJlIENsYXNzRGVjbCAvIENYWFJlY29yZERlY2xgKTsKICBpZihub2RlPy5iYXNlcykgZm9yKGxldCBiYXNlIG9mIG5vZGUuYmFzZXMpIHlpZWxkIEdldENsYXNzKGJhc2UudHlwZS5xdWFsVHlwZSwgYXN0KTsKfQoKZXhwb3J0IGZ1bmN0aW9uIEdldEJ5TmFtZShhcmcsIGFzdCA9IGdsb2JhbFRoaXNbJyQnXS5kYXRhLCBwcmVkaWNhdGUgPSAoKSA9PiB0cnVlKSB7CiAgY29uc3QgbnMgPSBpc1N0cmluZyhhcmcpID8gYXJnLnNwbGl0KCc6OicpIDogYXJnOwogIGxldCBub2RlID0gYXN0OwoKICB3aGlsZShucy5sZW5ndGggPj0gMSkgewogICAgY29uc3QgYXJnID0gbnMuc2hpZnQoKTsKCiAgICBmb3IobGV0IHYgb2YgRGVlcFNlbGVjdChub2RlLCBuID0+IGlzT2JqZWN0KG4pICYmIG4ubmFtZSA9PSBhcmcgJiYgcHJlZGljYXRlKG4pKSkgewogICAgICBpZihucy5sZW5ndGggPT0gMCkgcmV0dXJuIHY7CgogICAgICBsZXQgcjsKICAgICAgaWYoKHIgPSBHZXRCeU5hbWUoWy4uLm5zXSwgdikpKSByZXR1cm4gcjsKICAgIH0KICB9Cn0KCmV4cG9ydCBmdW5jdGlvbiBHZXROYW1lc3BhY2UoYXJnLCByb290ID0gZ2xvYmFsVGhpc1snJCddLmRhdGEsIHByZWRpY2F0ZSA9ICgpID0+IHRydWUpIHsKICBjb25zdCBhID0gQXJyYXkuaXNBcnJheShhcmcpID8gYXJnIDogYXJnLnNwbGl0KCc6OicpOwoKICBsZXQgW25hbWVdID0gYTsKCiAgZm9yKGxldCBbbm9kZSwgcGF0aF0gb2YgRGVlcFNlbGVjdChyb290LCBuID0+ICh0eXBlb2YgbiA9PSAnb2JqZWN0JyA/IChuLm5hbWUgPT0gbmFtZSA/IGRlZXAuWUlFTERfTk9fUkVDVVJTRSA6IG4ubmFtZSA/IGRlZXAuTk9fUkVDVVJTRSA6IGRlZXAuUkVDVVJTRSkgOiAwKSwgZGVlcC5SRVRVUk5fVkFMVUVfUEFUSCkpIHsKICAgIGlmKGEubGVuZ3RoIDw9IDEpIHsKICAgICAgaWYoIXByZWRpY2F0ZShub2RlLCBwYXRoKSkgY29udGludWU7CiAgICAgIHJldHVybiBub2RlOwogICAgfQoKICAgIGxldCByZXN1bHQgPSBHZXROYW1lc3BhY2UoYS5zbGljZSgxKSwgbm9kZSwgcHJlZGljYXRlKTsKCiAgICBpZihyZXN1bHQpIHJldHVybiByZXN1bHQ7CiAgfQp9CgpleHBvcnQgZnVuY3Rpb24gTmFtZXNwYWNlT2Yobm9kZSwgYXN0ID0gZ2xvYmFsVGhpc1snJCddLmRhdGEpIHsKICBpZihpc09iamVjdChub2RlKSAmJiBub2RlLmFzdCkgbm9kZSA9IG5vZGUuYXN0OwoKICBsZXQgcCA9IERlZXBQYXRoT2YoYXN0LCBub2RlKSwKICAgIHIgPSBbXSwKICAgIGkgPSAwOwoKICB3aGlsZShwPy5sZW5ndGggPiAwKSB7CiAgICBsZXQgbiA9IERlZXBHZXQoYXN0LCBwKTsKCiAgICBpZihpID09IDAgfHwgbi5raW5kID09ICdOYW1lc3BhY2VEZWNsJyB8fCBuLm5hbWUpIHIucHVzaChuLm5hbWUpOwogICAgcCA9IHAuc2xpY2UoMCwgLTIpOwogICAgKytpOwogIH0KCiAgcmV0dXJuIGRlZmluZSgKICAgIHIucmV2ZXJzZSgpLAogICAgbm9uZW51bWVyYWJsZSh7CiAgICAgIHRvU3RyaW5nKCkgewogICAgICAgIHJldHVybiB0aGlzLmpvaW4oJzo6Jyk7CiAgICAgIH0sCiAgICB9KSwKICApOwp9CgpleHBvcnQgZnVuY3Rpb24gR2V0RmllbGRzKG5vZGUpIHsKICBsZXQgZmllbGRzID0gWy4uLkRlZXBTZWxlY3Qobm9kZSwgKHYsIGspID0+IC8gYXQgLy50ZXN0KHYpICYmIGsgPT0gJ3F1YWxUeXBlJywgZGVlcC5SRVRVUk5fVkFMVUVfUEFUSCldLm1hcCgoW3YsIHBdKSA9PiBbdi5zcGxpdCgvKD86XHMqWygpXXwgYXQgKS9nKVsyXSwgcC5zbGljZSgwLCAtMildKTsKCiAgcmV0dXJuIGZpZWxkcy5tYXAoKFtsb2MsIHB0cl0pID0+CiAgICBsb2MKICAgICAgLnNwbGl0KC86L2cpCiAgICAgIC5tYXAoaSA9PiAoIWlzTmFOKCtpKSA/ICtpIDogaSkpCiAgICAgIC5jb25jYXQoW0RlZXBHZXQobm9kZSwgcHRyKS5uYW1lXSksCiAgKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIEdldFBhcmFtcyhub2RlKSB7CiAgcmV0dXJuIChub2RlPy5pbm5lciA/PyBbXSkuZmlsdGVyKGNoaWxkID0+IGNoaWxkLmtpbmQuc3RhcnRzV2l0aCgnUGFybScpKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIFBhdGhSZW1vdmVMb2MocGF0aCkgewogIGxldCBpZHggPSBwYXRoLmZpbmRJbmRleChwID0+IHAgPT0gJ2xvYycgfHwgcCA9PSAncmFuZ2UnKTsKICBpZihpZHggIT0gLTEpIHBhdGggPSBwYXRoLnNsaWNlKDAsIGlkeCk7CiAgcmV0dXJuIHBhdGg7Cn0KCi8vZXhwb3J0IGRlZmF1bHQgQXN0RHVtcDsKAAAAAAAAAACoVAEAAAAAAAAAAAAAAAAAAAAAAHVXAQAAAAAAAAAAAAAAAAAAAAAAdVcBAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAMkIAAAAAAAAyQgAAAAAAAAAAAAAAADwvw"
				]
			]
		},
		{
			"file": "ast-shell.js",
			"settings":
			{
				"buffer_size": 46678,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					2808,
					1,
					"insert",
					{
						"characters": "scriptArgs"
					},
					"CgAAAMSWAAAAAAAAxZYAAAAAAAAAAAAAxZYAAAAAAADGlgAAAAAAAAAAAADGlgAAAAAAAMeWAAAAAAAAAAAAAMeWAAAAAAAAyJYAAAAAAAAAAAAAyJYAAAAAAADJlgAAAAAAAAAAAADJlgAAAAAAAMqWAAAAAAAAAAAAAMqWAAAAAAAAy5YAAAAAAAAAAAAAy5YAAAAAAADMlgAAAAAAAAAAAADMlgAAAAAAAM2WAAAAAAAAAAAAAM2WAAAAAAAAzpYAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAMSWAAAAAAAAxJYAAAAAAAAAAAAAAADwvw"
				],
				[
					2809,
					4,
					"right_delete",
					null,
					"BAAAAM6WAAAAAAAAzpYAAAAAAAABAAAAYc6WAAAAAAAAzpYAAAAAAAABAAAAcs6WAAAAAAAAzpYAAAAAAAABAAAAZ86WAAAAAAAAzpYAAAAAAAABAAAAcw",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAM6WAAAAAAAAzpYAAAAAAAAAAAAAAADwvw"
				],
				[
					2819,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADFsgAAaW1wb3J0IHsgRGVlcEZpbmQsIERlZXBTZWxlY3QsIERlZXBQYXRoT2YsIERlZXBHZXQsIEFzdER1bXAsIENvbXBsZXRlTG9jYXRpb24sIENvbXBsZXRlUmFuZ2UsIEVudW1EZWNsLCBGaW5kVHlwZSwgRnVuY3Rpb25EZWNsLCBHZXRGaWVsZHMsIEdldExvYywgR2V0UGFyYW1zLCBHZXRDbGFzcywgR2V0QmFzZXMsIEdldEJ5TmFtZSwgR2V0VHlwZSwgR2V0VHlwZU5vZGUsIEdldFR5cGVTdHIsIEhpZXIsIGlzTm9kZSwgTGlzdCwgTG9jYXRpb24sIE5vZGUsIE5vZGVOYW1lLCBOb2RlUHJpbnRlciwgTm9kZVR5cGUsIFBhdGhPZiwgUGF0aFJlbW92ZUxvYywgUHJpbnRBc3QsIFJhbmdlLCBSYXdMb2NhdGlvbiwgUmF3UmFuZ2UsIFJlY29yZERlY2wsIFNJWkVPRl9QT0lOVEVSLCBTb3VyY2VEZXBlbmRlbmNpZXMsIFNwYXduQ29tcGlsZXIsIFR5cGUsIFR5cGVkZWZEZWNsLCBUeXBlRmFjdG9yeSwgVmFyRGVjbCwgbmFtZU9ySWRQcmVkLCBOYW1lc3BhY2VPZiwgR2V0TmFtZXNwYWNlLCBQb2ludGVyVHlwZSwgUmVmZXJlbmNlVHlwZSwgRmllbGREZWNsLCBOYW1lRm9yLCB9IGZyb20gJy4vY2xhbmctYXN0LmpzJzsKaW1wb3J0IHsgRGlySXRlcmF0b3IsIFJlY3Vyc2l2ZURpckl0ZXJhdG9yIH0gZnJvbSAnLi9kaXItaGVscGVycy5qcyc7CmltcG9ydCB7IExvYWRIaXN0b3J5LCBSZWFkRmlsZSwgUmVhZEpTT04sIFdyaXRlRmlsZSwgV3JpdGVKU09OIH0gZnJvbSAnLi9pby1oZWxwZXJzLmpzJzsKaW1wb3J0ICogYXMgZGVlcCBmcm9tICcuL2xpYi9kZWVwLmpzJzsKaW1wb3J0ICogYXMgRUNNQVNjcmlwdCBmcm9tICcuL2xpYi9lY21hc2NyaXB0LmpzJzsKaW1wb3J0ICogYXMgZnMgZnJvbSAnLi9saWIvZmlsZXN5c3RlbS5qcyc7CmltcG9ydCB7IGRlZmluZSwgcHJvcGVydGllcywgbm9uZW51bWVyYWJsZSwgZGVmaW5lR2V0dGVyLCBnZXRPcHQsIGlzT2JqZWN0LCBsYXp5UHJvcGVydHksIG1lbW9pemUsIHB1c2hVbmlxdWUsIHRvQXJyYXlCdWZmZXIsIHRvU3RyaW5nLCB3ZWFrTWFwcGVyIH0gZnJvbSAnLi9saWIvbWlzYy5qcyc7CmltcG9ydCB7IGV4dGVuZEFycmF5IH0gZnJvbSAnZXh0ZW5kQXJyYXknOwppbXBvcnQgKiBhcyBwYXRoIGZyb20gJy4vbGliL3BhdGguanMnOwppbXBvcnQgeyBQb2ludGVyIH0gZnJvbSAnLi9saWIvcG9pbnRlci5qcyc7CmltcG9ydCBUcmVlIGZyb20gJy4vbGliL3RyZWUuanMnOwppbXBvcnQgeyBzcGxpdCwgZGVjYW1lbGl6ZSwgY2FtZWxpemUsIGNsYXNzTmFtZSwgbWFwV3JhcHBlciB9IGZyb20gJ3V0aWwnOwppbXBvcnQgeyBTaGVsbCwgU3Bhd24gfSBmcm9tICcuL29zLWhlbHBlcnMuanMnOwppbXBvcnQgKiBhcyBUZXJtaW5hbCBmcm9tICd0ZXJtaW5hbCc7CmltcG9ydCB7IENvbnNvbGUgfSBmcm9tICdjb25zb2xlJzsKaW1wb3J0IHsgUkVQTCB9IGZyb20gJ3JlcGwnOwppbXBvcnQgeyBpbnNwZWN0IH0gZnJvbSAnaW5zcGVjdCc7Ci8vaW1wb3J0IFBvcnRhYmxlU3Bhd24gZnJvbSAnLi9saWIvc3Bhd24uanMnOwoKZXh0ZW5kQXJyYXkoQXJyYXkucHJvdG90eXBlKTsKCmdsb2JhbFRoaXMuZnMgPSBmczsKCmxldCBwYXJhbXM7CmxldCBmaWxlczsKbGV0IHNwYXduLCBiYXNlLCBjbWRoaXN0LCBjb25maWc7CmxldCBkZWZzLCBpbmNsdWRlcywgbGlicywgc291cmNlczsKbGV0IGxpYmRpcnMgPSBbCiAgJy9saWInLAogICcvbGliL2kzODYtbGludXgtZ251JywKICAnL2xpYi94ODZfNjQtbGludXgtZ251JywKICAnL2xpYjMyJywKICAnL2xpYngzMicsCiAgJy91c3IvbGliJywKICAnL3Vzci9saWIvaTM4Ni1saW51eC1nbnUnLAogICcvdXNyL2xpYi9pMzg2LWxpbnV4LWdudS9pNjg2L3NzZTInLAogICcvdXNyL2xpYi9pMzg2LWxpbnV4LWdudS9zc2UyJywKICAnL3Vzci9saWIveDg2XzY0LWxpbnV4LWdudScsCiAgJy91c3IvbGliL3g4Nl82NC1saW51eC1nbnUvbGliZmFrZXJvb3QnLAogICcvdXNyL2xpYjMyJywKICAnL3Vzci9saWJ4MzInLAogICcvdXNyL2xvY2FsL2xpYicsCiAgJy91c3IvbG9jYWwvbGliL2kzODYtbGludXgtZ251JywKICAnL3Vzci9sb2NhbC9saWIveDg2XzY0LWxpbnV4LWdudScsCl07CmxldCBsaWJkaXJzMzIgPSBsaWJkaXJzLmZpbHRlcihkID0+IC8oMzIkfGlbMC05XTg2KS8udGVzdChkKSk7CmxldCBsaWJkaXJzNjQgPSBsaWJkaXJzLmZpbHRlcihkID0+ICEvKDMyJHxpWzAtOV04NikvLnRlc3QoZCkpOwoKY29uc3QgdHJhY2VQcm94eSA9IChvYmosIGhhbmRsZXIpID0+IHsKICBsZXQgcHJveHk7CiAgaGFuZGxlciA9IC8qaGFuZGxlciB8fCAqLyBmdW5jdGlvbihuYW1lLCBhcmdzKSB7CiAgICBjb25zb2xlLmxvZyhgQ2FsbGluZyBtZXRob2QgJyR7bmFtZX0nOmAsIC4uLmFyZ3MpOwogIH07CiAgLy9jb25zb2xlLmxvZygnaGFuZGxlcicsIHsgaGFuZGxlciB9LCBoYW5kbGVyICsgJycpOwogIHByb3h5ID0gbmV3IFByb3h5KG9iaiwgewogICAgZ2V0KHRhcmdldCwga2V5LCByZWNlaXZlcikgewogICAgICBsZXQgbWVtYmVyID0gUmVmbGVjdC5nZXQob2JqLCBrZXksIHJlY2VpdmVyKTsKICAgICAgaWYoMCAmJiB0eXBlb2YgbWVtYmVyID09ICdmdW5jdGlvbicpIHsKICAgICAgICBsZXQgbWV0aG9kID0gbWVtYmVyOyAvLyBtZW1iZXIuYmluZChvYmopOwogICAgICAgIG1lbWJlciA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgLy8gICAgICAgICAgaGFuZGxlci5jYWxsKHJlY2VpdmVyLCBrZXksIGFyZ3VtZW50cyk7CiAgICAgICAgICByZXR1cm4gbWV0aG9kLmFwcGx5KG9iaiwgYXJndW1lbnRzKTsKICAgICAgICB9OwogICAgICAgIG1lbWJlciA9IG1ldGhvZC5iaW5kKG9iaik7CiAgICAgICAgY29uc29sZS5sb2coJ1V0aWwudHJhY2VQcm94eScsIGtleSwgKG1lbWJlciArICcnKS5yZXBsYWNlKC9cblxzKy9nLCAnICcpLnNwbGl0KGxpbmVTcGxpdClbMF0pOwogICAgICB9CiAgICAgIHJldHVybiBtZW1iZXI7CiAgICB9LAogIH0pOwogIHJldHVybiBwcm94eTsKfTsKCmNvbnN0IENvbmNhdEl0ZXJhdG9yID0gaXRlcmF0b3IgPT4gewogIGxldCByZXN1bHQsCiAgICBzID0gJyc7CgogIGlmKCEoJ25leHQnIGluIGl0ZXJhdG9yKSkgewogICAgaWYoU3ltYm9sLml0ZXJhdG9yIGluIGl0ZXJhdG9yKSBpdGVyYXRvciA9IGl0ZXJhdG9yW1N5bWJvbC5pdGVyYXRvcl0oKTsKICB9CgogIHdoaWxlKChyZXN1bHQgPSBpdGVyYXRvci5uZXh0KCkpICYmICFyZXN1bHQuZG9uZSkgewogICAgaWYocyAhPSAnJykgcyArPSAnXG4nOwogICAgcyArPSByZXN1bHQudmFsdWU7CiAgfQoKICByZXR1cm4gczsKfTsKCmNvbnN0IFN0cmluZ0dlbmVyYXRvciA9CiAgZ2VuID0+CiAgKC4uLmFyZ3MpID0+IHsKICAgIGNvbnN0IGl0ZXJhdG9yID0gZ2VuKC4uLmFyZ3MpOwoKICAgIHJldHVybiBPYmplY3QuYXNzaWduKGl0ZXJhdG9yLCB7CiAgICAgIHRvU3RyaW5nKCkgewogICAgICAgIHJldHVybiBDb25jYXRJdGVyYXRvcih0aGlzKTsKICAgICAgfSwKICAgIH0pOwogIH07Cgphc3luYyBmdW5jdGlvbiBJbXBvcnRNb2R1bGUobW9kdWxlUGF0aCwgLi4uYXJncykgewogIGxldCBkb25lID0gZmFsc2UsCiAgICBtb2R1bGVOYW1lID0gcGF0aC5iYXNlbmFtZShtb2R1bGVQYXRoLCAnLmpzJyk7CgogIHJldHVybiBhd2FpdCBpbXBvcnQobW9kdWxlUGF0aCkudGhlbihtb2R1bGUgPT4gewogICAgZG9uZSA9IHRydWU7CiAgICBtb2R1bGUgPSBPYmplY3QuY3JlYXRlKAogICAgICBudWxsLAogICAgICBnZXRNZW1iZXJOYW1lcyhtb2R1bGUsIEluZmluaXR5LCAwKS5yZWR1Y2UoCiAgICAgICAgKGFjYywgaXRlbSkgPT4gKHsKICAgICAgICAgIC4uLmFjYywKICAgICAgICAgIFtpdGVtXTogeyB2YWx1ZTogbW9kdWxlW2l0ZW1dLCBlbnVtZXJhYmxlOiB0cnVlIH0sCiAgICAgICAgfSksCiAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobW9kdWxlKSwKICAgICAgKSwKICAgICk7CgogICAgaWYoIWdsb2JhbFRoaXMubW9kdWxlcykgZ2xvYmFsVGhpcy5tb2R1bGVzID0ge307CiAgICBnbG9iYWxUaGlzLm1vZHVsZXNbbW9kdWxlTmFtZV0gPSBtb2R1bGU7CgogICAgT2JqZWN0LmFzc2lnbihnbG9iYWxUaGlzLCBtb2R1bGUpOwogICAgcmV0dXJuIHsgbW9kdWxlTmFtZSwgbW9kdWxlUGF0aCwgbW9kdWxlIH07CiAgfSk7CiAgLyouY2F0Y2goZSA9PiB7CiAgICAgIGRvbmUgPSB0cnVlOwogICAgICByZXR1cm4geyBtb2R1bGVOYW1lLCBtb2R1bGVQYXRoLCBtb2R1bGU6IGUubWVzc2FnZSB9OwogICAgfSkqLwp9CgpmdW5jdGlvbiBDb21tYW5kTGluZSgpIHsKICBsZXQgbG9nID0gY29uc29sZS5yZWFsbG9nOwogIC8vIGxldCBvdXRwdXRMb2cgPSBmcy5vcGVuU3luYygnb3V0cHV0LmxvZycsICd3KycpOwoKICBsZXQgcmVwbDsKICByZXBsID0gZ2xvYmFsVGhpcy5yZXBsID0gbmV3IFJFUEwoJ0FTVCcsIGZhbHNlKTsKCiAgbGV0IGNmZyA9IFJlYWRKU09OKGNvbmZpZyk7CgogIGlmKGNmZykgT2JqZWN0LmFzc2lnbihjb25zb2xlLm9wdGlvbnMsIGNmZy5pbnNwZWN0T3B0aW9ucyk7CgogIHJlcGwuaW1wb3J0TW9kdWxlID0gSW1wb3J0TW9kdWxlOwogIHJlcGwuaGlzdG9yeSA9IExvYWRIaXN0b3J5KGNtZGhpc3QpOwogIE9iamVjdC5hc3NpZ24ocmVwbC5kaXJlY3RpdmVzLCB7CiAgICBjOiBbCiAgICAgICguLi5hcmdzKSA9PiB7CiAgICAgICAgQ29tcGlsZSguLi5hcmdzKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0sCiAgICAgICdjb21waWxlIHNvdXJjZScsCiAgICBdLAogICAgbDogWwogICAgICAoLi4uYXJncykgPT4gewogICAgICAgIFByb2Nlc3NGaWxlKC4uLmFyZ3MpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfSwKICAgICAgJ2xvYWQgc291cmNlIGZpbGUnLAogICAgXSwKICAgIGk6IFsKICAgICAgKG1vZHVsZSwgLi4uYXJncykgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCdhcmdzJywgYXJncyk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHJldHVybiByZXF1aXJlKG1vZHVsZSk7CiAgICAgICAgfSBjYXRjaChlKSB7fQogICAgICAgIGltcG9ydChtb2R1bGUpLnRoZW4obSA9PiAoZ2xvYmFsVGhpc1ttb2R1bGVdID0gbSkpOwogICAgICB9LAogICAgICAnaW1wb3J0IG1vZHVsZScsCiAgICBdLAogIH0pOwogIHJlcGwuc2hvdyA9IHZhbHVlID0+IHsKICAgIGxldCBmaXJzdCwgc3RyOwogICAgaWYoaXNPYmplY3QodmFsdWUpICYmIChmaXJzdCA9IHZhbHVlLmZpcnN0ID8/IHZhbHVlWzBdKSAmJiBpc09iamVjdChmaXJzdCkgJiYgKCdpZCcgaW4gZmlyc3QgfHwgJ2tpbmQnIGluIGZpcnN0KSkgc3RyID0gVGFibGUodmFsdWUpOwogICAgZWxzZSBpZih0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHN0ciA9IHZhbHVlOwogICAgZWxzZQogICAgICBzdHIgPSBpbnNwZWN0KHZhbHVlLCB7CiAgICAgICAgLi4uKGNmZz8uaW5zcGVjdE9wdGlvbnMgPz8ge30pLAogICAgICAgIC4uLnJlcGwuaW5zcGVjdE9wdGlvbnMsCiAgICAgICAgaGlkZUtleXM6IFsnbG9jJywgJ3JhbmdlJ10sCiAgICAgIH0pOwogICAgc3RkLm91dC5wdXRzKHN0ciArICdcbicpOwogIH07CgogIHJlcGwubG9hZFNhdmVPcHRpb25zKCk7CiAgcmVwbC5pbnNwZWN0T3B0aW9ucyA/Pz0gY29uc29sZS5vcHRpb25zOwoKICBnbG9iYWxUaGlzLnByaW50Tm9kZSA9IGFyZyA9PiB7CiAgICBjb25zb2xlLmxvZyhOb2RlUHJpbnRlcigkLmRhdGEpLnByaW50KGFyZykpOwogIH07CgogIC8qbGV0IGRlYnVnTG9nID0gZnMub3BlblN5bmMoJ2RlYnVnLmxvZycsICdhJyk7CiAgcmVwbC5kZWJ1Z0xvZyA9IGRlYnVnTG9nOwogIHJlcGwuZGVidWcgPSAoLi4uYXJncykgPT4gewogICAgbGV0IHMgPSAnJzsKICAgIGZvcihsZXQgYXJnIG9mIGFyZ3MpIHsKICAgICAgaWYocykgcyArPSAnICc7CiAgICAgIGlmKHR5cGVvZiBhcmcgIT0gJ3N0cnBpbmcnIHx8IGFyZy5pbmRleE9mKCdceDFiJykgPT0gLTEpIHMgKz0gaW5zcGVjdChhcmcsIHsgZGVwdGg6IEluZmluaXR5LCBkZXB0aDogNiwgY29tcGFjdDogZmFsc2UgfSk7CiAgICAgIGVsc2UgcyArPSBhcmc7CiAgICB9CiAgICBmcy53cml0ZVN5bmMoZGVidWdMb2csIHMgKyAnXG4nKTsKICAgIGlmKGRlYnVnTG9nLmZsdXNoKSBkZWJ1Z0xvZy5mbHVzaCgpOwogIH07Ki8KCiAgcmVwbC5hZGRDbGVhbnVwSGFuZGxlcigoKSA9PiB7CiAgICBUZXJtaW5hbC5tb3VzZXRyYWNraW5nRGlzYWJsZSgpOwogICAgbGV0IGhpc3QgPSByZXBsLmhpc3RvcnkuZmlsdGVyKChpdGVtLCBpLCBhKSA9PiBhLmxhc3RJbmRleE9mKGl0ZW0pID09IGkpOwogICAgV3JpdGVGaWxlKAogICAgICBjbWRoaXN0LAogICAgICBoaXN0CiAgICAgICAgLmZpbHRlcihlbnRyeSA9PiAoZW50cnkgKyAnJykudHJpbSgpICE9ICcnKQogICAgICAgIC5tYXAoZW50cnkgPT4gZW50cnkucmVwbGFjZSgvXG4vZywgJ1xcbicpICsgJ1xuJykKICAgICAgICAuam9pbignJyksCiAgICApOwoKICAgIGxldCBjZmcgPSB7IGluc3BlY3RPcHRpb25zOiBjb25zb2xlLm9wdGlvbnMgfTsKICAgIFdyaXRlSlNPTihjb25maWcsIGNmZyk7CgogICAgY29uc29sZS5sb2coYEVYSVQgKHdyb3RlICR7aGlzdC5sZW5ndGh9IGhpc3RvcnkgZW50cmllcylgKTsKICAgIHN0ZC5leGl0KDApOwogIH0pOwoKICAvL2F0ZXhpdCgoKSA9PiByZXBsLmNsZWFudXAoKSk7CgogIHJlcGwgPSB0cmFjZVByb3h5KHJlcGwpOwoKICBpZihwYXJhbXMuZXhlYykgcmVwbC5ldmFsQW5kUHJpbnQocGFyYW1zLmV4ZWMpOwogIGVsc2UgcmVwbC5ydW4oZmFsc2UpOwp9CgpmdW5jdGlvbiogSW5jbHVkZUFsbChkaXIsIG1heERlcHRoID0gSW5maW5pdHksIHByZWQgPSBlbnRyeSA9PiAvXC5bY2hdJC8udGVzdChlbnRyeSkpIHsKICBmb3IobGV0IGVudHJ5IG9mIFJlY3Vyc2l2ZURpckl0ZXJhdG9yKGRpciwgbWF4RGVwdGgsIHByZWQpKSB5aWVsZCBgI2luY2x1ZGUgIiR7ZW50cnl9ImA7Cn0KCmZ1bmN0aW9uIFNlbGVjdExvY2F0aW9ucyhub2RlKSB7CiAgcmV0dXJuIFsuLi5EZWVwU2VsZWN0KG5vZGUsIG4gPT4gWydvZmZzZXQnLCAnbGluZScsICdmaWxlJ10uc29tZShwcm9wID0+IG5bcHJvcF0gIT09IHVuZGVmaW5lZCkpXTsKfQoKZnVuY3Rpb24gTG9jYXRpb25TdHJpbmcobG9jKSB7CiAgaWYodHlwZW9mIGxvYyA9PSAnb2JqZWN0JyAmJiBsb2MgIT0gbnVsbCkgewogICAgbGV0IGZpbGUgPSBsb2MuZmlsZSA/PyAobG9jLmluY2x1ZGVkRnJvbSAmJiBsb2MuaW5jbHVkZWRGcm9tLmZpbGUpOwoKICAgIGlmKHR5cGVvZiBsb2MubGluZSA9PSAnbnVtYmVyJykgcmV0dXJuIGAke2ZpbGUgPyBmaWxlICsgJzonIDogJyd9JHtsb2MubGluZX0ke3R5cGVvZiBsb2MuY29sID09ICdudW1iZXInID8gJzonICsgbG9jLmNvbCA6ICcnfWA7CiAgICByZXR1cm4gYCR7ZmlsZSA/IGZpbGUgOiAnJ31AJHtsb2Mub2Zmc2V0fWA7CiAgfQp9Cgpjb25zdCBUeXBlTWFwID0gd2Vha01hcHBlcihub2RlID0+IG5ldyBUeXBlKG5vZGUpKTsKCmZ1bmN0aW9uIFN0cnVjdHMobm9kZXMpIHsKICByZXR1cm4gbm9kZXMKICAgIC5maWx0ZXIobm9kZSA9PiBub2RlLmlubmVyICYmIG5vZGUuaW5uZXIuc29tZShmaWVsZCA9PiBmaWVsZC5raW5kID09ICdGaWVsZERlY2wnKSkKICAgIC5tYXAobm9kZSA9PiBbCiAgICAgIC8vZGVlcC5maW5kKG5vZGUsIG4gPT4gdHlwZW9mIG4ubGluZSA9PSAnbnVtYmVyJyksCiAgICAgIG5ldyBMb2NhdGlvbihHZXRMb2Mobm9kZSkpLAogICAgICAoKG5vZGUudGFnVXNlZCA/IG5vZGUudGFnVXNlZCArICcgJyA6ICcnKSArIChub2RlLm5hbWUgPz8gJycpKS50cmltKCksCiAgICAgIG5ldyBNYXAobm9kZS5pbm5lci5tYXAoKGZpZWxkLCBpKSA9PiAoL0F0dHIvLnRlc3QoZmllbGQua2luZCkgPyBbU3ltYm9sKGZpZWxkLmtpbmQpLCBmaWVsZC5pZF0gOiBbZmllbGQubmFtZSB8fCBpLCAoZmllbGQudHlwZSAmJiBUeXBlRmFjdG9yeShmaWVsZC50eXBlKSkgfHwgZmllbGQua2luZF0pKSksCiAgICBdKTsKICAvKi5tYXAobm9kZSA9PiB0eXBlcyhub2RlKSkqLwp9CgpmdW5jdGlvbiBUYWJsZShsaXN0LCBwcmVkID0gKG4sIGwpID0+IHRydWUpIHsKICBsZXQgZW50cmllcyA9IFsuLi5saXN0XS5tYXAoKG4sIGkpID0+IChuID8gW2ksIExvY2F0aW9uU3RyaW5nKEdldExvYyhuKSksIG5dIDogdW5kZWZpbmVkKSkuZmlsdGVyKGUgPT4gZSk7CiAgbGV0IHR5cGVLZXkgPSAna2luZCcgaW4gbGlzdFswXSA/ICdraW5kJyA6ICd0eXBlJzsKICBsZXQga2V5cyA9IFsnaWQnLCB0eXBlS2V5LCAnbmFtZSddLmZpbHRlcihrID0+ICEhayk7CiAgbGV0IGl0ZW1zID0gZW50cmllcy5maWx0ZXIoKFtpLCBsLCBuXSkgPT4gcHJlZChuLCBsKSk7CiAgY29uc3QgZmlyc3QgPSBpdGVtc1swXVsyXTsKCiAgaWYoL0Z1bmN0aW9uLy50ZXN0KGZpcnN0W3R5cGVLZXldKSkgewogICAga2V5cyA9IFsKICAgICAgLi4ua2V5cywKICAgICAgZnVuY3Rpb24gcmV0dXJuVHlwZShuKSB7CiAgICAgICAgaWYobi50eXBlICYmIHR5cGVvZiBuLnR5cGUgPT0gJ29iamVjdCcpIHsKICAgICAgICAgIGNvbnN0IHsgcXVhbFR5cGUgfSA9IG4udHlwZTsKICAgICAgICAgIHJldHVybiBxdWFsVHlwZS5yZXBsYWNlKC9ccypcKC4qJC9nLCAnJyk7CiAgICAgICAgfQogICAgICAgIGlmKG5bdHlwZUtleV0pIHJldHVybiBuW3R5cGVLZXldOwogICAgICB9LAogICAgICBmdW5jdGlvbiBudW1BcmdzKG4pIHsKICAgICAgICBsZXQgcGFyYW1zID0gR2V0UGFyYW1zKG4pOwogICAgICAgIHJldHVybiBwYXJhbXMgPyBwYXJhbXMubGVuZ3RoIDogdW5kZWZpbmVkOwogICAgICB9LAogICAgICBmdW5jdGlvbiBQYXJhbXMobikgewogICAgICAgIGxldCBwYXJhbXMgPSBHZXRQYXJhbXMobik7CiAgICAgICAgcmV0dXJuIHBhcmFtcyA/IHBhcmFtcy5tYXAocCA9PiBQcmludEFzdChwKSkuam9pbignLCcpIDogdW5kZWZpbmVkOwogICAgICB9LAogICAgXTsKICB9CiAga2V5cyA9IFsnbicsIC4uLmtleXMsICdsb2NhdGlvbiddOwogIGNvbnN0IG5hbWVzID0ga2V5cy5tYXAoayA9PiAodHlwZW9mIGsgPT0gJ2Z1bmN0aW9uJyA/IGsubmFtZSA6IGspKTsKICBsZXQgcm93cyA9IGl0ZW1zLm1hcCgoW2ksIGwsIG5dKSA9PiBPYmplY3QuZnJvbUVudHJpZXMoW1snbicsIGldLCAuLi5rZXlzLnNsaWNlKDEsIC0xKS5tYXAoKGssIGopID0+IFtuYW1lc1tqICsgMV0sICh0eXBlb2YgayA9PSAnc3RyaW5nJyA/IG5ba10gOiBrKG4pKSA/PyAnJ10pLCBbJ2xvY2F0aW9uJywgbF1dKSk7CiAgbGV0IHNpemVzID0ge307CgogIGZvcihsZXQgcm93IG9mIHJvd3MpIHsKICAgIGZvcihsZXQgW2osIGldIG9mIG5hbWVzLmVudHJpZXMoKSkgewogICAgICBjb25zdCBjb2wgPSByb3dbaV0gKyAnJzsKICAgICAgaWYoKHNpemVzW2ldID8/IDApIDwgY29sLmxlbmd0aCkgc2l6ZXNbaV0gPSBjb2wubGVuZ3RoOwogICAgfQogIH0KCiAgbGV0IHdpZHRoID0gbmFtZXMucmVkdWNlKChhY2MsIG5hbWUpID0+IChhY2MgPyBhY2MgKyAzICsgc2l6ZXNbbmFtZV0gOiBzaXplc1tuYW1lXSksIDApOwogIGlmKHdpZHRoID4gcmVwbC50ZXJtV2lkdGgpIHNpemVzWydQYXJhbXMnXSAtPSB3aWR0aCAtIHJlcGwudGVybVdpZHRoOwoKICBmdW5jdGlvbiBwYWRUcnVuYyhsZW4sIHBhZCA9ICcgJykgewogICAgbGV0IG0gPSAncGFkJyArIChsZW4gPj0gMCA/ICdFbmQnIDogJ1N0YXJ0Jyk7CiAgICBsZW4gPSBNYXRoLmFicyhsZW4pOwoKICAgIHJldHVybiBzID0+IHsKICAgICAgcyA9IHMgKyAnJzsKICAgICAgcmV0dXJuIHMubGVuZ3RoID4gbGVuID8gcy5zbGljZSgwLCBsZW4pIDogc1ttXShsZW4sIHBhZCk7CiAgICB9OwogIH0KCiAgY29uc3QgdHJ1bmMgPSBuYW1lcy5tYXAoKG5hbWUsIGkpID0+IHBhZFRydW5jKChpID09IDAgPyAtMSA6IDEpICogc2l6ZXNbbmFtZV0pKTsKICBjb25zdCBwYWQgPSAoY29scywgcGFkLCBzZXApID0+IHsKICAgIGlmKCFBcnJheS5pc0FycmF5KGNvbHMpKSBjb2xzID0gbmFtZXMubWFwKChrZXksIGkpID0+IGNvbHNba2V5XSk7CiAgICByZXR1cm4gY29scwogICAgICAubWFwKChzLCBjb2wpID0+IHRydW5jW2NvbF0ocywgcGFkKSkKICAgICAgLmpvaW4oc2VwID8/ICcg4pSCICcpCiAgICAgIC50cmltRW5kKCk7CiAgfTsKCiAgcmV0dXJuICgKICAgIHBhZChuYW1lcykgKwogICAgJ1xuJyArCiAgICBwYWQoCiAgICAgIG5hbWVzLnJlZHVjZSgoYWNjLCBuKSA9PiAoeyAuLi5hY2MsIFtuXTogJycgfSksIHt9KSwKICAgICAgJ+KUgCcsCiAgICAgICfilIDilLzilIAnLAogICAgKSArCiAgICAnXG4nICsKICAgIHJvd3MucmVkdWNlKChhY2MsIHJvdykgPT4gewogICAgICByZXR1cm4gYWNjICsgcGFkKHJvdykuc2xpY2UoMCwgcmVwbC5jb2x1bW5zKSArICdcbic7CiAgICB9LCAnJykKICApOwp9CgpmdW5jdGlvbiBQcmludFJhbmdlKHJhbmdlLCBmaWxlKSB7CiAgaWYoJ3JhbmdlJyBpbiByYW5nZSkgcmFuZ2UgPSByYW5nZS5yYW5nZTsKCiAgY29uc3QgeyBiZWdpbiwgZW5kIH0gPSByYW5nZTsKCiAgZmlsZSA/Pz0gYmVnaW4uZmlsZSA/PyAkLnNvdXJjZTsKCiAgbGV0IGRhdGEgPSBSZWFkRmlsZShmaWxlLCAndXRmLTgnKTsKICByZXR1cm4gZGF0YSA/IGRhdGEuc2xpY2UoYmVnaW4ub2Zmc2V0LCBlbmQub2Zmc2V0ICsgKGVuZC50b2tMZW4gfCAwKSkgOiBudWxsOwp9CgpmdW5jdGlvbiBPdmVybGFwUmFuZ2UocjEsIHIyKSB7CiAgY29uc3QgR2V0UmFuZ2UgPSByID0+IFtyLmJlZ2luLm9mZnNldCwgci5lbmQub2Zmc2V0ICsgKHIuZW5kLnRva0xlbiB8IDApXTsKICBjb25zdCBJblJhbmdlID0gKGksIHIpID0+IGkgPj0gclswXSAmJiBpIDwgclsxXTsKCiAgcjEgPSBHZXRSYW5nZShyMSk7CiAgcjIgPSBHZXRSYW5nZShyMik7CgogIGlmKEluUmFuZ2UocjFbMF0sIHIyKSB8fCBJblJhbmdlKHIxWzFdLCByMikpIHJldHVybiB0cnVlOwogIGlmKEluUmFuZ2UocjJbMF0sIHIxKSB8fCBJblJhbmdlKHIyWzFdLCByMSkpIHJldHVybiB0cnVlOwoKICByZXR1cm4gZmFsc2U7Cn0KCmZ1bmN0aW9uIFBhcmVudE5vZGUobm9kZSwgYXN0ID0gJC5kYXRhKSB7CiAgbGV0IHAgPSBQYXRoT2Yobm9kZSwgYXN0KTsKCiAgcmV0dXJuIHAudXAoMikuZGVyZWYoYXN0KTsKfQoKZnVuY3Rpb24gTmV4dFNpYmxpbmcobm9kZSwgYXN0ID0gJC5kYXRhKSB7CiAgbGV0IHAgPSBQYXRoT2Yobm9kZSwgYXN0KTsKICBwW3AubGVuZ3RoIC0gMV0gKz0gMTsKCiAgcmV0dXJuIHAuZGVyZWYoYXN0KTsKfQoKZnVuY3Rpb24gUHJldmlvdXNTaWJsaW5nKG5vZGUsIGFzdCA9ICQuZGF0YSkgewogIGxldCBwID0gUGF0aE9mKG5vZGUsIGFzdCk7CiAgcFtwLmxlbmd0aCAtIDFdICs9IDE7CiAgcmV0dXJuIHAuZGVyZWYoYXN0KTsKfQoKZnVuY3Rpb24gRmlyc3RDaGlsZChub2RlLCBhc3QgPSAkLmRhdGEpIHsKICByZXR1cm4gUGF0aE9mKG5vZGUsIGFzdCkuZG93bignaW5uZXInLCAwKS5kZXJlZihhc3QpOwp9CgpmdW5jdGlvbiBMYXN0Q2hpbGQobm9kZSwgYXN0ID0gJC5kYXRhKSB7CiAgbGV0IGEgPSBQYXRoT2Yobm9kZSwgYXN0KS5kb3duKCdpbm5lcicpLmRlcmVmKGFzdCk7CiAgcmV0dXJuIGFbYS5sZW5ndGggLSAxXTsKfQoKZnVuY3Rpb24gVGVybWluYXRlKGV4aXRDb2RlKSB7CiAgY29uc29sZS5sb2coJ1Rlcm1pbmF0ZScsIGV4aXRDb2RlKTsKCiAgZXhpdChleGl0Q29kZSk7Cn0KCmZ1bmN0aW9uIFBhcnNlU3RydWN0cyh0ZXh0KSB7CiAgY29uc3QgcmUgPSAvKFteXG5dKilccj9cbi9nbXk7CiAgbGV0IGxpbmUsCiAgICBmaWVsZHMsCiAgICBzdHJ1Y3RzID0gW107CgogIHdoaWxlKChsaW5lID0gcmUuZXhlYyh0ZXh0KSkpIHsKICAgIGlmKC9eXHMqJC9nLnRlc3QobGluZVsxXSkpIGNvbnRpbnVlOwogICAgbGV0IGNvbHVtbnMgPSBsaW5lWzFdLnNwbGl0KC9ccysvZyk7CgogICAgaWYoaXNOYU4oK2NvbHVtbnNbMV0pKSBjb250aW51ZTsKCiAgICBsZXQgW25hbWVdID0gY29sdW1uczsKCiAgICBpZihmaWVsZHMgJiYgbmFtZVswXSA9PSAnLicpIHsKICAgICAgbGV0IFssIG9mZnNldCwgc2l6ZV0gPSBjb2x1bW5zOwogICAgICBmaWVsZHMucHVzaChbbmFtZSwgK29mZnNldCwgK3NpemVdKTsKICAgIH0gZWxzZSB7CiAgICAgIHN0cnVjdHMucHVzaChbbmFtZSwgeyBzaXplOiArY29sdW1uc1sxXSwgZmllbGRzOiAoZmllbGRzID0gW10pIH1dKTsKICAgIH0KICB9CgogIHJldHVybiBuZXcgTWFwKHN0cnVjdHMpOwp9Cgpjb25zdCBHZW5lcmF0ZUluc3BlY3RTdHJ1Y3QgPSBTdHJpbmdHZW5lcmF0b3IoZnVuY3Rpb24qIChkZWNsLCBpbmNsdWRlcykgewogIGxldCB7IG5hbWUsIG1lbWJlcnMgfSA9IGRlY2w7CgogIGluY2x1ZGVzID8/PSBbZGVjbC5sb2MuZmlsZS5yZXBsYWNlKC9eXC91c3JcL2luY2x1ZGVcLy8sICcnKV07CgogIC8vY29uc29sZS5sb2coJ0dlbmVyYXRlSW5zcGVjdFN0cnVjdCcsIHsgbmFtZSwgbWVtYmVycywgaW5jbHVkZXMgfSk7CgogIHlpZWxkICcjaW5jbHVkZSA8c3RkaW8uaD4nOwogIHlpZWxkICcjaW5jbHVkZSA8c3RkZGVmLmg+JzsKCiAgaWYoTWVtYmVyTmFtZXMobWVtYmVycykuc29tZShuYW1lID0+IC86Ly50ZXN0KG5hbWUpKSkKICAgIHlpZWxkIGAKc2l6ZV90CmJ5dGVfZmlyc3Rub3QoY29uc3Qgdm9pZCogcCwgc2l6ZV90IGxlbiwgdW5zaWduZWQgY2hhciB2KSB7CiAgY29uc3QgdW5zaWduZWQgY2hhciogeDsKICBmb3IoeCA9IHA7IGxlbjsgbGVuLS0sIHgrKykKICAgIGlmKCp4ICE9IHYpIGJyZWFrOwogIHJldHVybiB4IC0gKGNvbnN0IHVuc2lnbmVkIGNoYXIqKXA7Cn0KCnNpemVfdApieXRlX2xhc3Rub3QoY29uc3Qgdm9pZCogcCwgc2l6ZV90IGxlbiwgdW5zaWduZWQgY2hhciB2KSB7CiAgY29uc3QgdW5zaWduZWQgY2hhciogeDsKICBmb3IoeCA9IChjb25zdCB1bnNpZ25lZCBjaGFyKilwICsgbGVuIC0gMTsgbGVuOyBsZW4tLSwgeC0tKQogICAgaWYoKnggIT0gdikgYnJlYWs7CiAgcmV0dXJuIHggLSAoY29uc3QgdW5zaWduZWQgY2hhciopcDsKfQoKc2l6ZV90CmJpdF9maXJzdG5vdCh1bnNpZ25lZCBjaGFyIHYsIHVuc2lnbmVkIGNoYXIgYikgewogIGludCBpOwogIGZvcihpID0gMDsgaSA8IDg7IGkrKywgdiA+Pj0gMSkgCiAgICBpZigodiAmIDEpID09ICFiKSBicmVhazsKICByZXR1cm4gaTsKfQoKc2l6ZV90CmJpdF9sYXN0bm90KHVuc2lnbmVkIGNoYXIgdiwgdW5zaWduZWQgY2hhciBiKSB7CiAgaW50IGk7CiAgZm9yKGkgPSA3OyBpID49IDA7IGktLSkgCiAgICBpZighISh2ICYgKDEgPDwgaSkpID09ICFiKSBicmVhazsKICByZXR1cm4gaSA+PSAwID8gaSA6IDg7Cn0KCnNpemVfdApmaXJzdG5vdChjb25zdCB2b2lkKiBwLCBzaXplX3QgbGVuLCB1bnNpZ25lZCBjaGFyIHYpIHsKIGNvbnN0IGNoYXIqIHggPSBwOwogc2l6ZV90IGkgPSBieXRlX2ZpcnN0bm90KHAsIGxlbiwgdik7CiByZXR1cm4gaSAqIDggKyBiaXRfZmlyc3Rub3QoeFtpXSwgdik7Cn0KCnNpemVfdApsYXN0bm90KGNvbnN0IHZvaWQqIHAsIHNpemVfdCBsZW4sIHVuc2lnbmVkIGNoYXIgdikgewogY29uc3QgdW5zaWduZWQgY2hhciogeCA9IHA7CiBzaXplX3QgaSA9IGJ5dGVfbGFzdG5vdChwLCBsZW4sIHYpOwogcmV0dXJuIGkgKiA4ICsgYml0X2xhc3Rub3QoeFtpXSwgdik7Cn0KCnNpemVfdApiaXRzaXplKGNvbnN0IHZvaWQqIHAsIHNpemVfdCBsZW4pIHsKIHJldHVybiBsYXN0bm90KHAsIGxlbiwgMHhmZikgKyAxIC0gZmlyc3Rub3QocCwgbGVuLCAweGZmKTsKfQoKYDsKCiAgZm9yKGxldCBpbmNsdWRlIG9mIGluY2x1ZGVzKSB5aWVsZCBgI2luY2x1ZGUgIiR7aW5jbHVkZX0iYDsKICB5aWVsZCBgJHtuYW1lfSBzdmFyO2A7CiAgeWllbGQgYGludCBtYWluKCkge2A7CiAgeWllbGQgYCAgcHJpbnRmKCIke25hbWV9ICV6dVxcbiIsIHNpemVvZihzdmFyKSAqIDgpO2A7CgogIGZvcihsZXQgbWVtYmVyIG9mIE1lbWJlck5hbWVzKG1lbWJlcnMpKSB7CiAgICBpZih0cnVlIC8qKHR5cGUgPT0gbnVsbCB8fCB0eXBlb2YgdHlwZS5zaXplID09ICdudW1iZXInKSAmJiBtZW1iZXIgIT0gdW5kZWZpbmVkKi8pIHsKICAgICAgbGV0IGZpZWxkID0gbWVtYmVyLnJlcGxhY2UoLzouKi8sICcnKTsKICAgICAgaWYoLzovLnRlc3QobWVtYmVyKSkgewogICAgICAgIHlpZWxkIGAKICBtZW1zZXQoJnN2YXIsIDB4ZmYsIHNpemVvZihzdmFyKSk7CiAgc3Zhci4ke2ZpZWxkfSA9IDA7CiAgcHJpbnRmKCIuJHtmaWVsZH0gJXp1ICV6aVxcbiIsIGZpcnN0bm90KCZzdmFyLCBzaXplb2Yoc3ZhciksIDB4ZmYpLCBiaXRzaXplKCZzdmFyLCBzaXplb2Yoc3ZhcikpKTtgOwogICAgICB9IGVsc2UgewogICAgICAgIHlpZWxkIGAgIHByaW50ZigiLiR7ZmllbGR9ICV6dSAlenVcXG4iLCBvZmZzZXRvZigke25hbWV9LCAke2ZpZWxkfSkgKiA4LCBzaXplb2Yoc3Zhci4ke2ZpZWxkfSkgKiA4KTtgOwogICAgICB9CiAgICB9CiAgfQoKICB5aWVsZCBgICByZXR1cm4gMDtgOwogIHlpZWxkIGB9YDsKfSk7CgpmdW5jdGlvbiBJbnNwZWN0U3RydWN0KGRlY2wsIGluY2x1ZGVzLCBjb21waWxlciA9ICdjbGFuZycpIHsKICBpZih0eXBlb2YgZGVjbCA9PSAnc3RyaW5nJykgewogICAgbGV0IG5hbWUgPSAoZGVjbC5pbmRleE9mKCcgJykgIT0gLTEgPyAnJyA6ICdzdHJ1Y3QgJykgKyBkZWNsOwogICAgZGVjbCA9IFR5cGUuZ2V0KG5hbWUsICQuZGF0YSk7CiAgICBkZWNsID8/PSAkLmdldFR5cGUobmFtZSk7CiAgICBkZWNsLm5hbWUgPSBuYW1lOwogIH0KICBjb25zb2xlLmxvZygnSW5zcGVjdFN0cnVjdCcsIGRlY2wpOwoKICBjb25zdCBjb2RlID0gWy4uLkdlbmVyYXRlSW5zcGVjdFN0cnVjdChkZWNsLCBpbmNsdWRlcyldLmpvaW4oJ1xuJyk7CiAgY29uc3QgcHJvZ3JhbSA9IGAvdG1wL2luc3BlY3QtJHtkZWNsLm5hbWUucmVwbGFjZSgvIC9nLCAnXycpfWA7CiAgV3JpdGVGaWxlKHByb2dyYW0gKyAnLmMnLCBjb2RlKTsKCiAgbGV0IGNvbW1hbmQgPSBbY29tcGlsZXIsICctTzInLCAnLWcnLCAnLXcnLCAnLW8nLCBwcm9ncmFtLCBwcm9ncmFtICsgJy5jJywgLi4uZmxhZ3NdOwogIGNvbnNvbGUubG9nKCdJbnNwZWN0U3RydWN0JywgeyBjb21tYW5kOiBjb21tYW5kLmpvaW4oJyAnKSB9KTsKCiAgbGV0IHJlc3VsdCA9IG9zLmV4ZWMoY29tbWFuZCk7CgogIGlmKHJlc3VsdCA9PSAwKSB7CiAgICBsZXQgW2ZkLCBzdGRvdXRdID0gb3MucGlwZSgpOwoKICAgIG9zLmV4ZWMoWyhwcm9ncmFtLnN0YXJ0c1dpdGgoJy8nKSA/ICcnIDogYC4vYCkgKyBwcm9ncmFtXSwgeyBzdGRvdXQgfSk7CiAgICBsZXQgb3V0cHV0ID0gZnMucmVhZEFsbChmZCk7CgogICAgbGV0IGxpbmVzID0gb3V0cHV0LnRyaW0oKS5zcGxpdCgnXG4nKTsKICAgIGxldCBmaXJzdExpbmUgPSBsaW5lcy5zaGlmdCgpOwoKICAgIGxldCBbbmFtZSwgc2l6ZV0gPSBbLi4uc3BsaXQoZmlyc3RMaW5lLCBbLi4uZmlyc3RMaW5lXS5sYXN0SW5kZXhPZignICcpKV07CgogICAgbmFtZSA9IG5hbWUucmVwbGFjZSgvXihzdHJ1Y3R8dW5pb258ZW51bSlcIC8sICcnKTsKCiAgICAvL2NvbnNvbGUubG9nKCJsaW5lczoiLCBsaW5lcyk7CiAgICByZXN1bHQgPSBsaW5lcwogICAgICAubWFwKGxpbmUgPT4gKHR5cGVvZiBsaW5lID09ICdzdHJpbmcnID8gbGluZS5zcGxpdCgnICcpIDogbGluZSkpCiAgICAgIC5tYXAobGluZSA9PiBsaW5lLm1hcCgoY29sLCBpKSA9PiAoaXNOYU4oK2NvbCkgPyBjb2wgOiArY29sKSkpCiAgICAgIC5tYXAoKFtmaWVsZCwgb2Zmc2V0LCBzaXplXSkgPT4gW2ZpZWxkLnJlcGxhY2UoLzouKi8sICcnKS5yZXBsYWNlKC9eXC4vLCBuYW1lICsgJy4nKSwgb2Zmc2V0LCBzaXplXSk7CgogICAgbGV0IGVuZCA9IDA7CiAgICByZXN1bHQgPSByZXN1bHQucmVkdWNlKChhY2MsIGxpbmUpID0+IHsKICAgICAgaWYoYWNjLmxlbmd0aCkgewogICAgICAgIGlmKGVuZCA8IGFjYy5sYXN0WzFdICsgYWNjLmxhc3RbMl0pIGVuZCA9IGFjYy5sYXN0WzFdICsgYWNjLmxhc3RbMl07CgogICAgICAgIGlmKGVuZCA8IGxpbmVbMV0pIGFjYy5wdXNoKFtudWxsLCBlbmQsIGxpbmVbMV0gLSBlbmRdKTsKICAgICAgfQogICAgICBhY2MucHVzaChsaW5lKTsKICAgICAgcmV0dXJuIGFjYzsKICAgIH0sIFtdKTsKCiAgICByZXN1bHQudW5zaGlmdChbbmFtZSwgJy0nLCArc2l6ZV0pOwoKICAgIGRlZmluZShyZXN1bHQsIHsKICAgICAgdG9TdHJpbmcoc2VwID0gJyAnKSB7CiAgICAgICAgcmV0dXJuIHRoaXMubWFwKGxpbmUgPT4gbGluZS5qb2luKHNlcCkucmVwbGFjZSgnLicsICcgJykpLmpvaW4oJ1xuJyk7CiAgICAgIH0sCiAgICB9KTsKICB9CgogIHJldHVybiByZXN1bHQ7Cn0KCmZ1bmN0aW9uIFJvdW5kVG8odmFsdWUsIGFsaWduKSB7CiAgcmV0dXJuIE1hdGguZmxvb3IoKHZhbHVlICsgKGFsaWduIC0gMSkpIC8gYWxpZ24pICogYWxpZ247Cn0KCmZ1bmN0aW9uIE1ha2VTdHJ1Y3RDbGFzcyhkZWNsLCBmaWxlbmFtZSkgewogIGxldCBjb2RlID0gWy4uLkdlbmVyYXRlU3RydWN0Q2xhc3MoZGVjbCldLmpvaW4oJ1xuJyk7CgogIFdyaXRlRmlsZSgoZmlsZW5hbWUgPz8gZGVjbC5uYW1lLnJlcGxhY2UoL1teQS1aYS16MC05X10vZywgJy0nKSkgKyAnLmpzJywgY29kZSk7CgogIGlmKCFmaWxlbmFtZSkgcmV0dXJuIGNvZGU7Cn0KCmZ1bmN0aW9uKiBHZW5lcmF0ZVN0cnVjdENsYXNzKGRlY2wsIGZmaVByZWZpeCA9ICcnKSB7CiAgbGV0IG5hbWU7CgogIGlmKGRlY2wgaW5zdGFuY2VvZiBUeXBlZGVmRGVjbCkgewogICAgbmFtZSA9IGRlY2wubmFtZTsKICAgIGRlY2wgPSBkZWNsLnR5cGU7CiAgfQoKICBsZXQgeyBzaXplLCBtZW1iZXJzID0gW10gfSA9IGRlY2w7CiAgbmFtZSA/Pz0gZGVjbC5uYW1lOwoKICBsZXQgY2xhc3NOYW1lID0gbmFtZS5yZXBsYWNlKC9zdHJ1Y3RccyovLCAnJyk7CgogIHlpZWxkIGBjbGFzcyAke2NsYXNzTmFtZX0gZXh0ZW5kcyBBcnJheUJ1ZmZlciB7YDsKICB5aWVsZCBgICBjb25zdHJ1Y3RvcihvYmogPSB7fSkge1xuICAgIHN1cGVyKCR7c2l6ZX0pO1xuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb2JqKTtcbiAgfWA7CiAgeWllbGQgYCAgZ2V0IFtTeW1ib2wudG9TdHJpbmdUYWddKCkgeyByZXR1cm4gXGBbJHtuYW1lfSBAIFwke3RoaXN9IF1cYDsgfWA7CgogIGxldCBmaWVsZHMgPSBbXSwKICAgIG9mZnNldCA9IDA7CgogIGNvbnNvbGUubG9nKCdHZW5lcmF0ZVN0cnVjdENsYXNzJywgeyBkZWNsLCBtZW1iZXJzIH0pOwoKICBmb3IobGV0IFtuYW1lLCB0eXBlXSBvZiBtZW1iZXJzKSB7CiAgICBpZigvcmVzZXJ2ZWQvLnRlc3QobmFtZSkpIGNvbnRpbnVlOwoKICAgIGlmKHR5cGUuc2l6ZSA9PSA4KSBvZmZzZXQgPSBSb3VuZFRvKG9mZnNldCwgOCk7CiAgICBsZXQgZGVzdWdhcmVkID0gdHlwZS5kZXN1Z2FyZWQgJiYgdHlwZS5kZXN1Z2FyZWQgIT0gdHlwZSA/IGAgKCR7dHlwZS5kZXN1Z2FyZWR9KWAgOiAnJzsKICAgIGxldCBwb2ludGVyID0gdHlwZS5wb2ludGVyOwoKICAgIHlpZWxkICcnOwoKICAgIGxldCBzdWJzY3JpcHQgPSB0eXBlLnN1YnNjcmlwdCA/PyAnJzsKCiAgICB5aWVsZCBgICAvKiAke29mZnNldH06ICR7dHlwZX0ke2Rlc3VnYXJlZH0gJHtuYW1lfSR7c3Vic2NyaXB0fSAqL2A7CgogICAgdHJ5IHsKICAgICAgeWllbGQqIEdlbmVyYXRlR2V0U2V0KG5hbWUsIG9mZnNldCwgdHlwZSwgZmZpUHJlZml4KS5tYXAobGluZSA9PiBgICAke2xpbmV9YCk7CiAgICB9IGNhdGNoKGUpIHt9CgogICAgZmllbGRzLnB1c2gobmFtZSk7CgogICAgb2Zmc2V0ICs9IFJvdW5kVG8odHlwZS5zaXplLCA0KTsKICB9CgogIHlpZWxkICcnOwogIHlpZWxkIGAgIHN0YXRpYyBmcm9tKGFkZHJlc3MpIHtcbiAgICBsZXQgcmV0ID0gJHtmZmlQcmVmaXh9dG9BcnJheUJ1ZmZlcihhZGRyZXNzLCAke29mZnNldH0pO1xuICAgIHJldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2YocmV0LCAke2NsYXNzTmFtZX0ucHJvdG90eXBlKTtcbiAgfWA7CiAgeWllbGQgJyc7CgogIHlpZWxkIGAgIHRvU3RyaW5nKCkge1xuICAgIGNvbnN0IHsgJHtmaWVsZHMuam9pbignLCAnKX0gfSA9IHRoaXM7XG4gICAgcmV0dXJuIFxgJHtuYW1lfSB7JHtbLi4ubWVtYmVyc10KICAgIC5tYXAoKFtmaWVsZCwgbWVtYmVyXSkgPT4gJ1xcblxcdC4nICsgZmllbGQgKyAnID0gJyArIChtZW1iZXIuaXNQb2ludGVyKCkgPyAnMHgnIDogJycpICsgJyR7JyArIGZpZWxkICsgKG1lbWJlci5pc1BvaW50ZXIoKSA/ICcudG9TdHJpbmcoMTYpJyA6ICcnKSArICd9JykKICAgIC5qb2luKCcsJyl9XFxufVxgO1xuICB9YDsKICB5aWVsZCAnfSc7Cn0KCmZ1bmN0aW9uIEdlbmVyYXRlR2V0U2V0KG5hbWUsIG9mZnNldCwgdHlwZSwgZmZpUHJlZml4KSB7CiAgY29uc3QgeyBzaXplLCBzaWduZWQgfSA9IHR5cGU7CiAgY29uc3QgZmxvYXRpbmcgPSB0eXBlLmlzRmxvYXRpbmdQb2ludCgpOwogIGNvbnN0IHBvaW50ZXIgPSB0eXBlLmdldFBvaW50ZXIoJC5kYXRhKTsKCiAgbGV0IGN0b3IgPSBCeXRlTGVuZ3RoMlR5cGVkQXJyYXkoc2l6ZSwgc2lnbmVkLCBmbG9hdGluZyk7CiAgbGV0IHRvSGV4ID0gdiA9PiB2OwoKICBpZih0eXBlLmlzUG9pbnRlcigpKSB0b0hleCA9IHYgPT4gYCcweCcrJHt2fS50b1N0cmluZygxNilgOwoKICBjb25zdCBhID0gW107CgogIGlmKHBvaW50ZXIpIHsKICAgIGNvbnN0IHsgbmFtZSwgc2l6ZSwgc2lnbmVkLCBkZXN1Z2FyZWQgfSA9IHBvaW50ZXI7CiAgICBhLnVuc2hpZnQoYC8qICR7bmFtZX0ke2Rlc3VnYXJlZCA/IGAgKCR7ZGVzdWdhcmVkfSlgIDogJyd9ICR7c2l6ZX0gJHtzaWduZWR9ICovYCk7CiAgICBjb25zb2xlLmxvZygnR2VuZXJhdGVTdHJ1Y3RDbGFzcycsIHsgcG9pbnRlciB9KTsKICB9CgogIHJldHVybiBbCiAgICAuLi5hLAogICAgYHNldCAke25hbWV9KHZhbHVlKSB7IGlmKHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPSBudWxsICYmIHZhbHVlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHZhbHVlID0gJHtmZmlQcmVmaXh9dG9Qb2ludGVyKHZhbHVlKTsgbmV3ICR7Y3Rvcn0odGhpcywgJHtvZmZzZXR9KVswXSA9ICR7Qnl0ZUxlbmd0aDJWYWx1ZSgKICAgICAgc2l6ZSwKICAgICAgc2lnbmVkLAogICAgICBmbG9hdGluZywKICAgICl9OyB9YCwKICAgIGBnZXQgJHtuYW1lfSgpIHsgcmV0dXJuICR7dG9IZXgoYG5ldyAke2N0b3J9KHRoaXMsICR7b2Zmc2V0fSlbMF1gKX07IH1gLAogIF07Cn0KCmZ1bmN0aW9uIEJ5dGVMZW5ndGgyVHlwZWRBcnJheShieXRlTGVuZ3RoLCBzaWduZWQsIGZsb2F0aW5nKSB7CiAgaWYoZmxvYXRpbmcpIHsKICAgIHN3aXRjaCAoYnl0ZUxlbmd0aCkgewogICAgICBjYXNlIDQ6CiAgICAgICAgcmV0dXJuICdGbG9hdDMyQXJyYXknOwogICAgICBjYXNlIDg6CiAgICAgICAgcmV0dXJuICdGbG9hdDY0QXJyYXknOwogICAgICBkZWZhdWx0OgogICAgICAgIHRocm93IG5ldyBFcnJvcihgRmxvYXRpbmcgcG9pbnQsIGJ1dCAke2J5dGVMZW5ndGh9IHNpemVgKTsKICAgIH0KICB9CgogIHN3aXRjaCAoYnl0ZUxlbmd0aCkgewogICAgY2FzZSAxOgogICAgICByZXR1cm4gc2lnbmVkID8gJ0ludDhBcnJheScgOiAnVWludDhBcnJheSc7CiAgICBjYXNlIDI6CiAgICAgIHJldHVybiBzaWduZWQgPyAnSW50MTZBcnJheScgOiAnVWludDE2QXJyYXknOwogICAgY2FzZSA0OgogICAgICByZXR1cm4gc2lnbmVkID8gJ0ludDMyQXJyYXknIDogJ1VpbnQzMkFycmF5JzsKICAgIGNhc2UgODoKICAgICAgcmV0dXJuIGZsb2F0aW5nID8gJ0Zsb2F0NjRBcnJheScgOiBzaWduZWQgPyAnQmlnSW50NjRBcnJheScgOiAnQmlnVWludDY0QXJyYXknOwogICAgZGVmYXVsdDoKICAgICAgcmV0dXJuIHNpZ25lZCA/ICdJbnQ4QXJyYXknIDogJ1VpbnQ4QXJyYXknOwogIH0KfQoKZnVuY3Rpb24gQnl0ZUxlbmd0aDJWYWx1ZShieXRlTGVuZ3RoLCBzaWduZWQsIGZsb2F0aW5nKSB7CiAgaWYoYnl0ZUxlbmd0aCA9PSA4ICYmICFmbG9hdGluZykgcmV0dXJuICdCaWdJbnQodmFsdWUpJzsKICByZXR1cm4gJ3ZhbHVlJzsKfQoKZXhwb3J0IGNsYXNzIEZGSV9GdW5jdGlvbiB7CiAgY29uc3RydWN0b3Iobm9kZSwgcHJlZml4ID0gJycpIHsKICAgIGNvbnN0IHsgbmFtZSwgcmV0dXJuVHlwZSA9ICd2b2lkJywgcGFyYW1ldGVycyA9IFtdIH0gPSBub2RlOwoKICAgIC8vY29uc29sZS5sb2coJ0ZGSV9GdW5jdGlvbi5jb25zdHJ1Y3RvcicsIG5vZGUsIHsgbmFtZSwgcGFyYW1ldGVycyB9KTsKCiAgICB0aGlzLm5hbWUgPSBuYW1lOwogICAgdGhpcy5wcmVmaXggPSBwcmVmaXg7CiAgICB0aGlzLnJldHVyblR5cGUgPSByZXR1cm5UeXBlLmZmaTsKICAgIHRoaXMucGFyYW1ldGVycyA9IFsuLi4ocGFyYW1ldGVycyB8fCBbXSldLm1hcCgoW25hbWUsIHR5cGVdLCBpZHgpID0+IFtuYW1lID8/IGBhcmcke2lkeCArIDF9YCwgdHlwZS5mZmldKTsKICB9CgogIGdlbmVyYXRlRGVmaW5lKGZwLCBsaWIpIHsKICAgIGNvbnN0IHsgcHJlZml4LCBuYW1lLCByZXR1cm5UeXBlLCBwYXJhbWV0ZXJzIH0gPSB0aGlzOwogICAgZnAgPz89IChuYW1lLCBsaWIpID0+IGAke3ByZWZpeH1kbHN5bSgke2xpYiA/PyAnUlRMRF9ERUZBVUxUJ30sICcke25hbWV9JylgOwogICAgbGV0IGNvZGUgPSBgJyR7bmFtZX0nLCAke2ZwKG5hbWUsIGxpYil9LCBudWxsLCAnJHtyZXR1cm5UeXBlfSdgOwogICAgY29uc3QgY29sb3JUZXh0ID0geCA9PiB4OwoKICAgIC8vY29uc29sZS5sb2coJ2Z1bmN0aW9uJywgY29sb3JUZXh0KG5hbWUsIDEsIDMzKSwgJ3JldHVyblR5cGU6JywgY29sb3JUZXh0KHJldHVyblR5cGUsIDEsIDMxKSk7CgogICAgbGV0IHBhcmFtSW5kZXggPSAwOwoKICAgIGZvcihsZXQgW3BhcmFtTmFtZSwgdHlwZV0gb2YgcGFyYW1ldGVycykgewogICAgICArK3BhcmFtSW5kZXg7CgogICAgICAvL2NvbnNvbGUubG9nKGBwYXJhbSAjJHtwYXJhbUluZGV4fWAsIC4uLihwYXJhbU5hbWUgPyBbJ25hbWU6JywgcGFyYW1OYW1lXSA6IFtdKSwgJ3R5cGU6JywgdHlwZSk7CgogICAgICBjb2RlICs9ICcsICc7CiAgICAgIGNvZGUgKz0gYCcke3R5cGV9J2A7CiAgICB9CiAgICByZXR1cm4gYCR7cHJlZml4fWRlZmluZSgke2NvZGV9KTtgOwogIH0KCiAgZ2VuZXJhdGVEb2MoKSB7CiAgICBjb25zdCB7IHByZWZpeCwgbmFtZSwgcmV0dXJuVHlwZSwgcGFyYW1ldGVycyB9ID0gdGhpczsKICAgIGNvbnN0IGxpbmVzID0gW107CiAgICBjb25zdCBjb2x1bW5zID0gWzEwLCAxNl07CgogICAgY29uc3QgcHVzaCA9ICguLi5hcmdzKSA9PgogICAgICBsaW5lcy5wdXNoKAogICAgICAgIFsuLi5hcmdzXQogICAgICAgICAgLm1hcChmaWVsZCA9PiAodHlwZW9mIGZpZWxkICE9ICdzdHJpbmcnID8gJycgOiBmaWVsZCkpCiAgICAgICAgICAubWFwKChmaWVsZCwgY29sKSA9PiBmaWVsZC5wYWRFbmQoY29sdW1uc1tjb2xdID8/IDApKQogICAgICAgICAgLmpvaW4oJycpLAogICAgICApOwoKICAgIHB1c2goJy8qKicpOwogICAgcHVzaChgQGZ1bmN0aW9uYCwgYCR7bmFtZX1gKTsKCiAgICBpZihwYXJhbWV0ZXJzLmxlbmd0aCkgcHVzaCgpOwoKICAgIGxldCBqcyA9IHR5cGUgPT4gewogICAgICBsZXQgdHlwZU9iaiA9IFR5cGUuZGVjbGFyYXRpb25zLmdldCh0eXBlKTsKICAgICAgcmV0dXJuIHR5cGVPYmogPyB0eXBlT2JqLnRvSlMoKSA6IHR5cGU7CiAgICB9OwoKICAgIGZvcihsZXQgW3BhcmFtTmFtZSwgdHlwZV0gb2YgcGFyYW1ldGVycykgcHVzaChgQHBhcmFtYCwgYHske2pzKHR5cGUpfX1gLCBwYXJhbU5hbWUpOwoKICAgIGlmKHJldHVyblR5cGUgIT0gJ3ZvaWQnKSB7CiAgICAgIHB1c2goKTsKICAgICAgcHVzaChgQHJldHVybmAsIGB7JHtqcyhyZXR1cm5UeXBlKX19YCk7CiAgICB9CgogICAgcmV0dXJuIGxpbmVzLmpvaW4oJ1xuICogJykgKyAnXG4gKi9cbic7CiAgfQoKICBnZW5lcmF0ZUNhbGwoKSB7CiAgICBjb25zdCB7IHByZWZpeCwgbmFtZSwgcmV0dXJuVHlwZSwgcGFyYW1ldGVycyB9ID0gdGhpczsKICAgIGNvbnN0IHBhcmFtTmFtZXMgPSBwYXJhbWV0ZXJzLm1hcCgoW25hbWUsIHR5cGVdKSA9PiBuYW1lKTsKICAgIGxldCBjb2RlID0gYGZ1bmN0aW9uICR7bmFtZX0oJHtwYXJhbU5hbWVzLmpvaW4oJywgJyl9KSB7XG5gOwoKICAgIGNvZGUgKz0gYCAgJHtyZXR1cm5UeXBlICE9ICd2b2lkJyA/ICdyZXR1cm4gJyA6ICcnfSR7cHJlZml4fWNhbGwoJyR7bmFtZX0nLCAke3BhcmFtTmFtZXMuam9pbignLCAnKX0pO1xuYDsKICAgIGNvZGUgKz0gYH1gOwoKICAgIHJldHVybiBjb2RlOwogIH0KCiAgZ2VuZXJhdGUoZnAsIGxpYiwgZXhwKSB7CiAgICByZXR1cm4gW3RoaXMuZ2VuZXJhdGVEZWZpbmUoZnAsIGxpYiksICdcbicsIGV4cCA/ICdleHBvcnQgJyA6ICcnLCB0aGlzLmdlbmVyYXRlQ2FsbCgpLCAnXG4nXS5qb2luKCcnKTsKICB9CgogIGdlbmVyYXRlRnVuY3Rpb24oZnAsIGxpYikgewogICAgY29uc3QgeyBwcmVmaXgsIG5hbWUsIHJldHVyblR5cGUsIHBhcmFtZXRlcnMgfSA9IHRoaXM7CiAgICBjb25zdCBwYXJhbU5hbWVzID0gcGFyYW1ldGVycy5tYXAoKFtuYW1lLCB0eXBlXSkgPT4gbmFtZSk7CgogICAgbGV0IGNvZGUgPSBgbmV3IEZ1bmN0aW9uKCR7cGFyYW1OYW1lcy5tYXAocCA9PiBgJyR7cH0nYCkuam9pbignLCAnKX0sIGA7CiAgICBjb2RlICs9IGAncmV0dXJuICR7cHJlZml4fWNhbGwoIiR7bmFtZX0iJHtwYXJhbU5hbWVzLm1hcChwID0+IGAsICR7cH1gKS5qb2luKCcnKX0pJyk7YDsKCiAgICByZXR1cm4gY29kZTsKICB9CgogIGNvbXBpbGVGdW5jdGlvbihmcCwgbGliKSB7CiAgICBsZXQgY29kZSA9IHRoaXMuZ2VuZXJhdGVDYWxsKGZwLCBsaWIpOwogICAgbGV0IGZuID0gbmV3IEZ1bmN0aW9uKGByZXR1cm4gJHtjb2RlfWApOwoKICAgIHJldHVybiBmbigpOwogIH0KfQoKZnVuY3Rpb24gRmRSZWFkZXIoZmQsIGJ1ZmZlclNpemUgPSAxMDI0KSB7CiAgbGV0IGJ1ZiA9IGZzLmJ1ZmZlcihidWZmZXJTaXplKTsKCiAgcmV0dXJuIG5ldyBSZXBlYXRlcihhc3luYyAocHVzaCwgc3RvcCkgPT4gewogICAgbGV0IHJldDsKCiAgICBkbyB7CiAgICAgIGxldCByID0gYXdhaXQgZnMud2FpdFJlYWQoZmQpOwogICAgICByZXQgPSBmcy5yZWFkKGZkLCBidWYpOwoKICAgICAgaWYocmV0ID4gMCkgewogICAgICAgIGxldCBkYXRhID0gYnVmLnNsaWNlKDAsIHJldCk7CiAgICAgICAgYXdhaXQgcHVzaChmcy5idWZmZXJUb1N0cmluZyhkYXRhKSk7CiAgICAgIH0KICAgIH0gd2hpbGUocmV0ID09IGJ1ZmZlclNpemUpOwoKICAgIHN0b3AoKTsKICAgIGZzLmNsb3NlKGZkKTsKICB9KTsKfQoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIENvbW1hbmRSZWFkKGFyZ3MpIHsKICBsZXQgY2hpbGQgPSBTcGF3bihhcmdzLCB7CiAgICBibG9jazogZmFsc2UsCiAgICBzdGRpbzogWydpbmhlcml0JywgJ3BpcGUnLCAnaW5oZXJpdCddLAogIH0pOwoKICBsZXQgb3V0cHV0ID0gJycsCiAgICBkb25lID0gZmFsc2UsCiAgICBidWYgPSBuZXcgQXJyYXlCdWZmZXIoMTAyNCk7CgogIGlmKHBsYXRmb3JtID09ICdxdWlja2pzJykgewogICAgbGV0IHsgZmQgfSA9IGNoaWxkLnN0ZG91dDsKCiAgICBmb3IoOzspIHsKICAgICAgMTsKICAgICAgbGV0IHI7CiAgICAgIGF3YWl0IGZzLndhaXRSZWFkKGZkKTsKICAgICAgciA9IFJlYWRPdXRwdXQoZmQpOwogICAgICBpZihyID4gMCAmJiByIDwgYnVmLmJ5dGVMZW5ndGgpIGJyZWFrOwogICAgfQoKICAgIGxldCByZXN1bHQgPSBhd2FpdCBjaGlsZC53YWl0KCk7CgogICAgcmV0dXJuIG91dHB1dC50cmltRW5kKCk7CiAgfSBlbHNlIHsKICAgIEFjcXVpcmVSZWFkZXIoY2hpbGQuc3Rkb3V0LCBhc3luYyByZWFkZXIgPT4gewogICAgICBsZXQgcjsKCiAgICAgIHdoaWxlKChyID0gYXdhaXQgcmVhZGVyLnJlYWQoKSkpIGlmKCFyLmRvbmUpIGVycm9ycyArPSByLnZhbHVlLnRvU3RyaW5nKCk7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIFJlYWRPdXRwdXQoZmQpIHsKICAgIGxldCBidWYgPSBuZXcgQXJyYXlCdWZmZXIoMTAyNCk7CiAgICBsZXQgciA9IG9zLnJlYWQoZmQsIGJ1ZiwgMCwgYnVmLmJ5dGVMZW5ndGgpOwoKICAgIG91dHB1dCArPSBmcy5idWZmZXJUb1N0cmluZyhidWYuc2xpY2UoMCwgcikpOwoKICAgIHJldHVybiByOwogIH0KfQoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIExpYnJhcnlFeHBvcnRzKGZpbGUpIHsKICBjb25zb2xlLmxvZyhgTGlicmFyeUV4cG9ydHM6YCwgZmlsZSk7CgogIGxldCBvdXRwdXQgPSBhd2FpdCBDb21tYW5kUmVhZChbJy9vcHQvZGlldC9iaW4vb2JqZHVtcCcsICctVCcsIGZpbGVdKTsKICBvdXRwdXQgPSBvdXRwdXQucmVwbGFjZSgvLipEWU5BTUlDIFNZTUJPTCBUQUJMRTpccy9tLCAnJyk7CgogIGxldCBsaW5lcyA9IG91dHB1dC5zcGxpdCgvXG4vZykuZmlsdGVyKGxpbmUgPT4gL1xzQmFzZVxzLy50ZXN0KGxpbmUpKTsKICBsZXQgY29sdW1ucyA9IGNvbEluZGV4ZXMobGluZXNbMF0pOwogIGxldCBlbnRyaWVzID0gbGluZXMubWFwKGxpbmUgPT4gY29sU3BsaXQobGluZSwgY29sdW1ucykubWFwKGNvbHVtbiA9PiBjb2x1bW4udHJpbUVuZCgpKSk7CgogIGVudHJpZXMuc29ydCgoYSwgYikgPT4gYVswXS5sb2NhbGVDb21wYXJlKGJbMF0pKTsKCiAgcmV0dXJuIGVudHJpZXMubWFwKGVudHJ5ID0+IGVudHJ5W2VudHJ5Lmxlbmd0aCAtIDFdLnRyaW1TdGFydCgpKTsKfQoKZnVuY3Rpb24gU2F2ZUxpYnJhcmllcygpIHsKICBjb25zdCBsYXllcnMgPSBPYmplY3QudmFsdWVzKFsuLi5wcm9qZWN0LnNjaGVtYXRpYy5sYXllcnMsIC4uLnByb2plY3QuYm9hcmQubGF5ZXJzXS5yZWR1Y2UoKGFjYywgW24sIGVdKSA9PiAoeyAuLi5hY2MsIFtuXTogZS5yYXcgfSksIHt9KSk7Cn0KCmZ1bmN0aW9uIFByb2Nlc3NGaWxlKGZpbGUsIGRlYnVnID0gdHJ1ZSkgewogIGNvbnN0IGV4dCA9IHBhdGguZXh0bmFtZShmaWxlKTsKICBsZXQgcmV0ID0gbnVsbDsKCiAgc3dpdGNoIChleHQpIHsKICAgIGNhc2UgJy5qcyc6CiAgICAgIHJldCA9IFBhcnNlRUNNQVNjcmlwdChmaWxlLCBkZWJ1Zyk7CiAgICAgIGJyZWFrOwogICAgY2FzZSAnLmNwcCc6CiAgICBjYXNlICcuY3h4JzoKICAgIGNhc2UgJy5jYyc6CiAgICBjYXNlICcuYyc6CiAgICBjYXNlICcuaCc6CiAgICAgIHJldCA9IENvbXBpbGUoZmlsZSAvKiwgZGVidWcqLyk7CiAgICAgIGJyZWFrOwogIH0KCiAgcmV0dXJuIHJldDsKfQoKZnVuY3Rpb24gUGFyc2VFQ01BU2NyaXB0KGZpbGUsIHBhcmFtcyA9IHt9KSB7CiAgbGV0IGRhdGEsIGIsIHJldDsKICBjb25zdCB7IGRlYnVnIH0gPSBwYXJhbXM7CgogIGlmKGZpbGUgPT0gJy0nKSBmaWxlID0gJy9kZXYvc3RkaW4nOwoKICBpZihmaWxlICYmIGZzLmV4aXN0c1N5bmMoZmlsZSkpIHsKICAgIGRhdGEgPSBSZWFkRmlsZShmaWxlLCAndXRmOCcpOwogICAgY29uc29sZS5sb2coJ29wZW5lZDonLCBmaWxlKTsKICB9IGVsc2UgewogICAgZmlsZSA9ICdzdGRpbic7CiAgICBkYXRhID0gc291cmNlOwogIH0KCiAgY29uc29sZS5sb2coJ09LLCBkYXRhOiAnLCBhYmJyZXZpYXRlKGVzY2FwZShkYXRhKSkpOwoKICBpZihkZWJ1ZykgRUNNQVNjcmlwdFBhcnNlci5pbnN0cnVtZW50YXRlKCk7CgogIGNvbnNvbGUubG9nKCdFQ01BU2NyaXB0UGFyc2VyOicsIEVDTUFTY3JpcHRQYXJzZXIpOwoKICBsZXQgcGFyc2VyLCBhc3QsIGVycm9yOwoKICBnbG9iYWxUaGlzLnBhcnNlciA9IHBhcnNlciA9IG51bGw7CiAgZ2xvYmFsVGhpcy5wYXJzZXIgPSBwYXJzZXIgPSBuZXcgRUNNQVNjcmlwdFBhcnNlcihkYXRhID8gZGF0YS50b1N0cmluZygpIDogZGF0YSwgZmlsZSwgZGVidWcpOwoKICB0cnkgewogICAgYXN0ID0gcGFyc2VyLnBhcnNlUHJvZ3JhbSgpOwogIH0gY2F0Y2goZXJyKSB7CiAgICBjb25zdCB0b2tlbnMgPSBbLi4ucGFyc2VyLnByb2Nlc3NlZCwgLi4ucGFyc2VyLnRva2Vuc107CiAgICBjb25zdCB0b2tlbiA9IHRva2Vuc1t0b2tlbnMubGVuZ3RoIC0gMV07CgogICAgY29uc29sZS5sb2coJ3BhcnNlUHJvZ3JhbSB0b2tlbicsIHRva2VuKTsKCiAgICBpZihlcnIgIT09IG51bGwpIHsKICAgICAgY29uc29sZS5sb2coJ3BhcnNlUHJvZ3JhbSBFUlJPUiBtZXNzYWdlOicsIGVycj8ubWVzc2FnZSk7CiAgICAgIGNvbnNvbGUubG9nKCdwYXJzZVByb2dyYW0gRVJST1Igc3RhY2s6XG4gICcgKyBuZXcgU3RhY2soZXJyPy5zdGFjaywgKGZyLCBpKSA9PiBmci5mdW5jdGlvbk5hbWUgIT0gJ2VzZmFjdG9yeScgJiYgaSA8IDUpLnRvU3RyaW5nKCkucmVwbGFjZSgvXG4vZywgJ1xuICAnKSk7CgogICAgICB0aHJvdyBlcnI7CiAgICB9IGVsc2UgewogICAgICBjb25zb2xlLmxvZygncGFyc2VQcm9ncmFtIEVSUk9SOicsIGVycik7CiAgICAgIHRocm93IG5ldyBFcnJvcigncGFyc2VQcm9ncmFtJyk7CiAgICB9CiAgfQoKICBwYXJzZXIuYWRkQ29tbWVudHNUb05vZGVzKGFzdCk7CiAgcmV0dXJuIGFzdDsKfQoKLypmdW5jdGlvbiBQYXJzZUVDTUFTY3JpcHQoZmlsZSwgZGVidWcgPSBmYWxzZSkgewogIGNvbnNvbGUubG9nKGBQYXJzaW5nICcke2ZpbGV9Jy4uLmApOwogIGxldCBkYXRhID0gUmVhZEZpbGUoZmlsZSwgJ3V0Zi04Jyk7CiAgbGV0IGFzdCwgZXJyb3I7CiAgbGV0IHBhcnNlcjsKICBjb25zb2xlLmxvZygnZGF0YScsIGRhdGEpOwogIGdsb2JhbFRoaXMucGFyc2VyID0gcGFyc2VyID0gbmV3IEVDTUFTY3JpcHRQYXJzZXIoZGF0YT8udG9TdHJpbmcgPyBkYXRhLnRvU3RyaW5nKCkgOiBkYXRhLCBmaWxlLCBkZWJ1Zyk7CgogIGdsb2JhbFRoaXMuYXN0ID0gYXN0ID0gcGFyc2VyLnBhcnNlUHJvZ3JhbSgpOwogIHBhcnNlci5hZGRDb21tZW50c1RvTm9kZXMoYXN0KTsKCiAgZ2xvYmFsVGhpcy5maWxlc1tmaWxlXSA9IGFzdDsKCiAgcmV0dXJuIHsKICAgIGFzdCwKICAgIGdldCBkYXRhKCkgewogICAgICByZXR1cm4gdGhpcy5hc3Q7CiAgICB9CiAgfTsKfSovCgpmdW5jdGlvbiBQcmludEVDTUFTY3JpcHQoYXN0LCBjb21tZW50cywgcHJpbnRlciA9IG5ldyBFQ01BU2NyaXB0LlByaW50ZXIoeyBpbmRlbnQ6IDQgfSwgY29tbWVudHMpKSB7CiAgcmV0dXJuIHByaW50ZXIucHJpbnQoYXN0KTsKfQoKZnVuY3Rpb24gUHJpbnRDQXJyYXkoc3RyaW5ncykgewogIGxldCBvID0gJyc7CgogIGZvcihsZXQgc3RyIG9mIHN0cmluZ3MpIHsKICAgIGlmKG8gIT0gJycpIG8gKz0gJywgJzsKCiAgICBpZih0eXBlb2Ygc3RyID09ICdzdHJpbmcnKSBvICs9ICciJyArIHN0ciArICciJzsKICAgIGVsc2UgbyArPSAnMCc7CiAgfQoKICAvKiBzdHJpbmdzLm1hcChzdHIgPT4gKHR5cGVvZiBzdHIgPT0gJ3N0cmluZycgJiYgc3RyID8gJyInICsgc3RyICsgJyInIDogJyIiJykpLm1hcChzdHIgPT4gc3RyICE9ICcnID8gc3RyIDogJyIiJykuam9pbignLFxuJykgKyovCgogIG8gKz0gYCB9KTtgOwogIHJldHVybiBgKChjb25zdCBjaGFyKmNvbnN0IFtdKXsgYCArIG87Cn0KCmZ1bmN0aW9uIE5hbWVzcGFjZXMobm9kZVBhdGgsIGFzdCA9ICQuZGF0YSkgewogIGxldCBwdHIgPSBuZXcgUG9pbnRlcihub2RlUGF0aCk7CiAgbGV0IHB0cnMgPSBwdHIuY2hhaW4oMik7CiAgbGV0IGdldCA9IHAgPT4gRGVlcEdldChhc3QsIHApOwoKICBsZXQgbnMgPSBwdHJzLm1hcChwID0+IGdldChwKSkuZmlsdGVyKG4gPT4gbi5raW5kID09ICdOYW1lc3BhY2VEZWNsJyk7CiAgcmV0dXJuIG5zOwp9CgpmdW5jdGlvbiogQ29uc3RhbnRzKG5vZGUsIHQgPSAobmFtZSwgdmFsdWUpID0+IFtuYW1lLCAhaXNOYU4oK3ZhbHVlKSA/ICt2YWx1ZSA6IHZhbHVlXSkgewogIGZvcihsZXQgaW5uZXIgb2Ygbm9kZS5pbm5lcikgewogICAgeWllbGQgdCguLi5QcmludEFzdChpbm5lcikuc3BsaXQoLyA9IC9nKSk7CiAgfQp9CgpNZW1iZXJOYW1lcy5VUFBFUiA9IDE7Ck1lbWJlck5hbWVzLk1FVEhPRFMgPSAyOwpNZW1iZXJOYW1lcy5QUk9QRVJUSUVTID0gNDsKCmZ1bmN0aW9uIEdldEltcG9ydHMoYXN0ID0gJC5kYXRhKSB7CiAgY29uc3QgciA9IFtdOwoKICBmb3IobGV0IFtuLCBwXSBvZiBEZWVwU2VsZWN0KCQuZGF0YSwgbiA9PiAobi50eXBlID8/IG4ua2luZCkuc3RhcnRzV2l0aCgnSW1wb3J0JykpKSByLnB1c2gobik7CgogIHJldHVybiByOwp9CgpmdW5jdGlvbiBHZXRJZGVudGlmaWVycyhub2Rlcywga2V5ID0gbnVsbCkgewogIGNvbnN0IHIgPSBbXTsKCiAgZm9yKGxldCBub2RlIG9mIG5vZGVzKSBmb3IgKGxldCBuIG9mIERlZXBTZWxlY3Qobm9kZSwgKG4sIGspID0+IChuLnR5cGUgPz8gbi5raW5kKSA9PSAnSWRlbnRpZmllcicgJiYgKGtleSA9PT0gbnVsbCB8fCBrID09IGtleSkpKSByLnB1c2gobi5uYW1lKTsKCiAgcmV0dXJuIHI7Cn0KCmZ1bmN0aW9uIE1lbWJlck5hbWVzKG1lbWJlcnMsIGZsYWdzID0gMCkgewogIGxldCByZXQgPSBbXTsKCiAgaWYobWVtYmVycy5tZW1iZXJzKSBtZW1iZXJzID0gbWVtYmVycy5tZW1iZXJzOwoKICBpZighQXJyYXkuaXNBcnJheShtZW1iZXJzKSkgewogICAgZm9yKGxldCBwdHIgb2YgWy4uLkRlZXBTZWxlY3QobWVtYmVycywgbiA9PiBuLmtpbmQuZW5kc1dpdGgoJ0RlY2wnKSAmJiBuLm5hbWUsIGRlZXAuUkVUVVJOX1BBVEgpXS5tYXAocGF0aCA9PiBuZXcgUG9pbnRlcihwYXRoKSkpIHsKICAgICAgbGV0IHB0cnMgPSBwdHIuY2hhaW4oMik7CgogICAgICBjb25zb2xlLmxvZygncHRyczonLCBwdHJzKTsKCiAgICAgIGxldCBuYW1lcyA9IHB0cnMubWFwKHAgPT4gRGVlcEdldChtZW1iZXJzLCBbLi4ucCwgJ25hbWUnXSwgZGVlcC5OT19USFJPVykpOwogICAgICBsZXQga2luZHMgPSBwdHJzLm1hcChwID0+IERlZXBHZXQobWVtYmVycywgWy4uLnAsICdraW5kJ10sIGRlZXAuTk9fVEhST1cpKTsKCiAgICAgIGNvbnNvbGUubG9nKCdraW5kczonLCBraW5kcyk7CiAgICAgIGNvbnNvbGUubG9nKCduYW1lczonLCBuYW1lcyk7CgogICAgICByZXQucHVzaChuYW1lcy5maWx0ZXIobmFtZSA9PiBuYW1lKS5qb2luKCcuJykpOwogICAgfQogIH0gZWxzZSB7CiAgICBjb25zdCBtZW1iZXJOYW1lUG9pbnRlcnMgPSBbLi4uRGVlcFNlbGVjdChtZW1iZXJzLCBuID0+IEFycmF5LmlzQXJyYXkobikgJiYgbi5sZW5ndGggPT0gMiAmJiB0eXBlb2YgblswXSA9PSAnc3RyaW5nJyAmJiBuWzFdICE9PSBudWxsKV0ubWFwKChbbm9kZSwgcHRyXSkgPT4gcHRyKTsKICAgIC8vY29uc29sZS5sb2coJ21lbWJlck5hbWVQb2ludGVycycsIG1lbWJlck5hbWVQb2ludGVycyk7CgogICAgZm9yKGxldCBwdHIgb2YgbWVtYmVyTmFtZVBvaW50ZXJzLm1hcChwYXRoID0+IG5ldyBQb2ludGVyKHBhdGgpKSkgewogICAgICBsZXQgcHRycyA9IHB0ci5jaGFpbigzKSwKICAgICAgICBuYW1lcyA9IHB0cnMubWFwKHAgPT4gRGVlcEdldChtZW1iZXJzLCBbLi4ucCwgMF0pKTsKCiAgICAgIHJldC5wdXNoKG5hbWVzLmZpbHRlcihuYW1lID0+IG5hbWUpLmpvaW4oJy4nKSk7CiAgICB9CiAgfQoKICBpZihmbGFncyAmIE1lbWJlck5hbWVzLlVQUEVSKSByZXQgPSByZXQubWFwKG5hbWUgPT4gZGVjYW1lbGl6ZShuYW1lLCAnXycpLnRvVXBwZXJDYXNlKCkpOwoKICByZXR1cm4gcmV0Owp9CgpmdW5jdGlvbiBVbnNldExvYyhub2RlLCBwcmVkID0gKHYsIHApID0+IHRydWUpIHsKICBmb3IobGV0IFt2LCBwXSBvZiBEZWVwU2VsZWN0KG5vZGUsICh2LCBrKSA9PiBrID09ICdsb2MnIHx8IGsgPT0gJ3JhbmdlJywgZGVlcC5SRVRVUk5fVkFMVUVfUEFUSCkpIGlmKHByZWQoRGVlcEdldChub2RlLCBbLi4ucF0uc2xpY2UoMCwgLTEpKSwgWy4uLnBdLmxhc3QpKSBkZWVwLnVuc2V0KG5vZGUsIHApOwoKICByZXR1cm4gbm9kZTsKfQoKZnVuY3Rpb24gTWFrZUZGSShub2RlLCBsaWIsIGV4cCwgZnApIHsKICBpZihBcnJheS5pc0FycmF5KG5vZGUpKQogICAgcmV0dXJuIChmdW5jdGlvbiogKCkgewogICAgICBsZXQgaSA9IDA7CgogICAgICBpZighZnApIHlpZWxkIGBpbXBvcnQgeyBkbG9wZW4sIGRlZmluZSwgZGxlcnJvciwgZGxjbG9zZSwgZGxzeW0sIGNhbGwsIGVycm5vLCBSVExEX05PVyB9IGZyb20gJ2ZmaSc7XG5gOwoKICAgICAgaWYobGliKSB7CiAgICAgICAgbGV0IGxpYnZhciA9IGxpYi5yZXBsYWNlKC9cLnNvKCR8XC4uKikvZywgJycpLnJlcGxhY2UoL1teQS1aYS16MC05X10vZywgJ18nKTsKCiAgICAgICAgeWllbGQgYGNvbnN0ICR7bGlidmFyfSA9IGRsb3BlbignJHtsaWJ9JywgUlRMRF9OT1cpO1xuYDsKCiAgICAgICAgbGliID0gbGlidmFyOwogICAgICB9CgogICAgICBmb3IobGV0IGl0ZW0gb2Ygbm9kZSkgewogICAgICAgIGxldCBvdXQgPSAnJzsKICAgICAgICAvL2NvbnNvbGUubG9nKGBNYWtlRkZJIGl0ZW0gIyR7aSArIDF9LyR7bm9kZS5sZW5ndGh9YCk7CgogICAgICAgIHRyeSB7CiAgICAgICAgICBsZXQgcmV0ID0gTWFrZUZGSShpdGVtLCBsaWIsIGV4cCwgZnApOwoKICAgICAgICAgIGlmKHR5cGVvZiByZXQgPT0gJ3N0cmluZycgJiYgcmV0Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgaWYob3V0KSBvdXQgKz0gJ1xuJzsKICAgICAgICAgICAgb3V0ICs9IHJldDsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhgRVJST1IgaXRlbSBbJHtpfV06YCwgZXJyb3IubWVzc2FnZSArICdcbicgKyBlcnJvci5zdGFjayk7CiAgICAgICAgfQoKICAgICAgICBpKys7CgogICAgICAgIHlpZWxkIG91dDsKICAgICAgfQogICAgfSkoKTsKCiAgdHJ5IHsKICAgIGlmKCEobm9kZSBpbnN0YW5jZW9mIE5vZGUpKSBub2RlID0gVHlwZUZhY3Rvcnkobm9kZSwgJC5kYXRhKTsKICB9IGNhdGNoKGUpIHsKICAgIGNvbnNvbGUuZXJyb3IoJ1R5cGVGYWN0b3J5JywgZT8ubWVzc2FnZSk7CiAgfQoKICBpZih0eXBlb2Ygbm9kZSA9PSAnb2JqZWN0JyAmJiBub2RlICYmIG5vZGUua2luZCA9PSAnRnVuY3Rpb25EZWNsJykgbm9kZSA9IG5ldyBGdW5jdGlvbkRlY2wobm9kZSk7CgogIGlmKG5vZGUgaW5zdGFuY2VvZiBGdW5jdGlvbkRlY2wpIHsKICAgIGNvbnNvbGUubG9nKCdub2RlJywgKGdsb2JhbFRoaXMubm9kZSA9IG5vZGUpKTsKCiAgICBsZXQgZmZpID0gbmV3IEZGSV9GdW5jdGlvbihub2RlKTsKCiAgICBsZXQgcHJvdG9TdHIgPSBQcmludEFzdChub2RlLmFzdCwgJC5kYXRhKQogICAgICAucmVwbGFjZSgvXihbXlxuXChdKilcbi8sICckMSAnKQogICAgICAuc3BsaXQoL1xuL2cpWzBdCiAgICAgIC5yZXBsYWNlKC9cIHskLywgJzsnKTsKCiAgICBwcm90b1N0ciA9IHByb3RvU3RyLnJlcGxhY2UoL15ccypleHRlcm5ccysvLCAnJyk7CgogICAgcmV0dXJuIChmZmkuZ2VuZXJhdGVEb2MoZnAsIGxpYiwgZXhwKSA/PyBgLyogJHtwcm90b1N0cn0gKi9cbmApICsgZmZpLmdlbmVyYXRlKGZwLCBsaWIsIGV4cCk7CiAgfSBlbHNlIGlmKG5vZGUgaW5zdGFuY2VvZiBSZWNvcmREZWNsIHx8IG5vZGUgaW5zdGFuY2VvZiBUeXBlZGVmRGVjbCkgewogICAgcmV0dXJuIEdlbmVyYXRlU3RydWN0Q2xhc3Mobm9kZSk7CiAgICAvL3JldHVybiBbLi4uR2VuZXJhdGVTdHJ1Y3RDbGFzcyhub2RlKV0uam9pbignXG4nKTsKICB9Cn0KCmZ1bmN0aW9uIE1ha2VJZChuYW1lKSB7CiAgbGV0IHMgPSAnJzsKCiAgbmFtZSA9IG5hbWUucmVwbGFjZUFsbCgnOjonLCAnXycpOwoKICBmb3IobGV0IGNoIG9mIG5hbWUpIHsKICAgIGlmKC9bQS1aYS16MC05X10vLnRlc3QoY2gpKSB7CiAgICAgIHMgKz0gY2g7CiAgICAgIGNvbnRpbnVlOwogICAgfQoKICAgIHMgKz0gJ19fJyArIGNoLmNvZGVQb2ludEF0KDApLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpOwogIH0KCiAgcmV0dXJuIHM7Cn0KCmZ1bmN0aW9uIE1ha2VRdWlja0pTQ2xhc3Mobm9kZSwgYXN0ID0gJCkgewogIGNvbnN0IGNpZCA9IE1ha2VJZChkZWNhbWVsaXplKG5vZGUubmFtZSwgJycpKS50b0xvd2VyQ2FzZSgpOwogIGNvbnN0IGNuYW1lID0gYXN0Lm5hbWVzcGFjZU9mKG5vZGUpICsgJyc7CgogIGNvbnN0IFtkZWNsLCBhc3NpZ25dID0gWwogICAgKGNuYW1lLCB2bmFtZSA9ICdwdHInKSA9PiBgICAke2NuYW1lfSogJHt2bmFtZX07YCwKICAgIChjbmFtZSwgdm5hbWUgPSAncHRyJykgPT4gYCAgaWYoISgke3ZuYW1lfSA9IHN0YXRpY19jYXN0PCR7Y25hbWV9Kj4oSlNfR2V0T3BhcXVlMihjdHgsIHRoaXNfdmFsLCBqc18ke2NpZH1fY2xhc3NfaWQpKSkpXG4gICAgcmV0dXJuIEpTX0VYQ0VQVElPTjtgLAogIF07CgogIGNvbnN0IG1lbWJlcnMgPSB7CiAgICBmaWVsZHM6IFsuLi5ub2RlLm1lbWJlcnNdLmZpbHRlcihuID0+IGNsYXNzTmFtZShuKSA9PSAnRmllbGREZWNsJyAmJiAhWydwcm90ZWN0ZWQnLCAncHJpdmF0ZSddLmluY2x1ZGVzKG4uYWNjZXNzKSAmJiAhKG4uc3RvcmFnZUNsYXNzID09ICdzdGF0aWMnIHx8IG4uYXN0LnN0b3JhZ2VDbGFzcyA9PSAnc3RhdGljJykpLAogICAgc3RhdGljOiBbLi4ubm9kZS5tZW1iZXJzXS5maWx0ZXIobiA9PiBjbGFzc05hbWUobikgPT0gJ1R5cGUnICYmIChuLnN0b3JhZ2VDbGFzcyA9PSAnc3RhdGljJyB8fCBuLmFzdC5zdG9yYWdlQ2xhc3MgPT0gJ3N0YXRpYycpKSwKICAgIG1ldGhvZHM6IFsuLi5ub2RlLm1lbWJlcnNdLmZpbHRlcihuID0+IG4uYXN0LmtpbmQgPT0gJ0NYWE1ldGhvZERlY2wnICYmICFbJ3Byb3RlY3RlZCcsICdwcml2YXRlJ10uaW5jbHVkZXMobi5hY2Nlc3MpICYmICEobi5zdG9yYWdlQ2xhc3MgPT0gJ3N0YXRpYycgfHwgbi5hc3Quc3RvcmFnZUNsYXNzID09ICdzdGF0aWMnKSksCiAgICBmdW5jdGlvbnM6IFsuLi5ub2RlLm1lbWJlcnNdLmZpbHRlcihuID0+IG4uYXN0LmtpbmQgPT0gJ0NYWE1ldGhvZERlY2wnICYmICFbJ3Byb3RlY3RlZCcsICdwcml2YXRlJ10uaW5jbHVkZXMobi5hY2Nlc3MpICYmIChuLnN0b3JhZ2VDbGFzcyA9PSAnc3RhdGljJyB8fCBuLmFzdC5zdG9yYWdlQ2xhc3MgPT0gJ3N0YXRpYycpKSwKICAgIGVudW1zOiBbLi4ubm9kZS5tZW1iZXJzXS5maWx0ZXIobiA9PiBuLmFzdC5raW5kID09ICdFbnVtRGVjbCcpLAogICAgY3Rvcl9kdG9yOiBbLi4ubm9kZS5tZW1iZXJzXS5maWx0ZXIobiA9PiAhKG4uYXN0LmtpbmQgPT0gJ0NYWE1ldGhvZERlY2wnIHx8IGNsYXNzTmFtZShuKSA9PSAnVHlwZScpKSwKICB9OwoKICBsZXQgaW5zdCA9IGRlY2woY25hbWUpICsgJ1xuXG4nICsgYXNzaWduKGNuYW1lKSArICdcbic7CgogIGluc3QgKz0gYFxuICBzd2l0Y2gobWFnaWMpIHtcbmA7CgogIGNvbnN0IG91dCA9IHsKICAgIG1lbnVtOiBgZW51bSB7XG5gLAogICAgcGVudW06IGBlbnVtIHtcbmAsCiAgICBmbnM6IGBzdGF0aWMgY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkganNfJHtjaWR9X3Byb3RvX2Z1bmNzW10gPSB7XG5gLAogICAgcGdldDogYHN0YXRpYyBKU1ZhbHVlXG5qc18ke2NpZH1fZ2V0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBtYWdpYykge1xuICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDtcbmAgKyBpbnN0LAogICAgcHNldDogYHN0YXRpYyBKU1ZhbHVlXG5qc18ke2NpZH1fc2V0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIEpTVmFsdWVDb25zdCB2YWx1ZSwgaW50IG1hZ2ljKSB7XG4gIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEO1xuYCArIGluc3QsCiAgICBtZm46IGBzdGF0aWMgSlNWYWx1ZVxuanNfJHtjaWR9X21ldGhvZChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljKSB7XG4gIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEO1xuYCArIGluc3QsCiAgICBzZm46IGBzdGF0aWMgSlNWYWx1ZVxuanNfJHtjaWR9X2Z1bmN0aW9ucyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljKSB7XG4gIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEO1xuYCArIGluc3QsCiAgfTsKICBjb25zdCBtZXRob2RzID0ge30sCiAgICBuYW1lcyA9IFtdOwoKICBmb3IobGV0IG1ldGhvZCBvZiBtZW1iZXJzLm1ldGhvZHMpIHsKICAgIGlmKG5hbWVzLmluZGV4T2YobWV0aG9kLm5hbWUpID09IC0xKSBuYW1lcy5wdXNoKG1ldGhvZC5uYW1lKTsKCiAgICBtZXRob2RzW21ldGhvZC5uYW1lXSA/Pz0gW107CiAgICBtZXRob2RzW21ldGhvZC5uYW1lXS5wdXNoKG1ldGhvZCk7CiAgfQoKICBmb3IobGV0IG5hbWUgb2YgbmFtZXMpIHsKICAgIGNvbnN0IG1ldGhvZGxpc3QgPSBtZXRob2RzW25hbWVdOwogICAgY29uc3QgW21ldGhvZF0gPSBtZXRob2RsaXN0OwoKICAgIGNvbnN0IHsgcGFyYW1ldGVycywgcmV0dXJuVHlwZSB9ID0gbWV0aG9kOwogICAgY29uc3QgY25hbWUgPSAnTUVUSE9EXycgKyBNYWtlSWQoZGVjYW1lbGl6ZShuYW1lLCAnXycpKS50b1VwcGVyQ2FzZSgpLnJlcGxhY2VBbGwoJ19fJywgJ194Jyk7CgogICAgb3V0LmZucyArPSBgICBKU19DRlVOQ19NQUdJQ19ERUYoIiR7bmFtZX0iLCAke3BhcmFtZXRlcnMubGVuZ3RofSwgIGpzXyR7Y2lkfV9tZXRob2QsICR7Y25hbWV9KSxcbmA7CiAgICBvdXQubWVudW0gKz0gYCAgJHtjbmFtZX0sXG5gOwogICAgb3V0Lm1mbiArPSBgICAgIGNhc2UgJHtjbmFtZX06IHtcbmA7CgogICAgaWYocGFyYW1ldGVycy5sZW5ndGggPiAwKSB7CiAgICAgIGNvbnN0IHR5cGVzID0ge30sCiAgICAgICAgdG0gPSBuZXcgTWFwKCk7CiAgICAgIGxldCBpID0gMDsKCiAgICAgIGZvcihsZXQgW25hbWUgPSBgYXJnJHtpfWAsIHBhcmFtXSBvZiBwYXJhbWV0ZXJzKSB7CiAgICAgICAgY29uc3QgeyBkZXN1Z2FyZWQsIHF1YWxUeXBlIH0gPSBwYXJhbTsKCiAgICAgICAgbGV0IHR5cGUgPSBkZXN1Z2FyZWQgPz8gcXVhbFR5cGUgPz8gcGFyYW07CgogICAgICAgIHN3aXRjaCAodHlwZSkgewogICAgICAgICAgY2FzZSAnaW50JzoKICAgICAgICAgICAgdHlwZSA9ICdpbnQzMl90JzsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICd1bnNpZ25lZCBpbnQnOgogICAgICAgICAgICB0eXBlID0gJ3VpbnQzMl90JzsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICAgIGNvbnNvbGUubG9nKCcnLCB7IG5hbWUsIHBhcmFtLCB0eXBlIH0pOwoKICAgICAgICB0eXBlc1t0eXBlXSA/Pz0gW107CiAgICAgICAgdHlwZXNbdHlwZV0ucHVzaChuYW1lKTsKCiAgICAgICAgdG0uc2V0KHR5cGUgKyAnJywgdHlwZSk7CgogICAgICAgICsraTsKICAgICAgfQoKICAgICAgY29uc3QgdG9fanN0eXBlID0gdHlwZSA9PiAoeyBpbnQ6ICdJbnQzMicsICd1bnNpZ25lZCBpbnQnOiAnVWludDMyJywgZG91YmxlOiAnRmxvYXQ2NCcsIGZsb2F0OiAnRmxvYXQ2NCcsIGludDMyX3Q6ICdJbnQzMicsIHVpbnQzMl90OiAnVWludDMyJywgaW50NjRfdDogJ0ludDY0JywgdWludDY0X3Q6ICdJbmRleCcgfVt0eXBlXSk7CgogICAgICBmb3IobGV0IHR5cGUgaW4gdHlwZXMpIHsKICAgICAgICBjb25zdCBqc3R5cGUgPSB0b19qc3R5cGUodHlwZSk7CiAgICAgICAgbGV0IHQgPSB0bS5nZXQodHlwZSk7CgogICAgICAgIGlmKGpzdHlwZSA9PSB1bmRlZmluZWQpIG91dC5tZm4gKz0gYCAgICBgICsgZGVjbCh0Py5wb2ludGVlID8/IHQgPz8gdHlwZSwgdHlwZXNbdHlwZV0uam9pbignLCAnKSkgKyAnXG4nOwogICAgICAgIGVsc2Ugb3V0Lm1mbiArPSBgICAgICAgJHt0eXBlfSAke3R5cGVzW3R5cGVdLmpvaW4oJywgJyl9O1xuYDsKICAgICAgfQoKICAgICAgb3V0Lm1mbiArPSBgXG5gOwoKICAgICAgaSA9IDA7CgogICAgICBmb3IobGV0IFtuYW1lID0gYGFyZyR7aX1gLCBwYXJhbV0gb2YgcGFyYW1ldGVycykgewogICAgICAgIGNvbnN0IHsgZGVzdWdhcmVkLCBxdWFsVHlwZSB9ID0gcGFyYW07CiAgICAgICAgbGV0IHR5cGUgPSBkZXN1Z2FyZWQgPz8gcXVhbFR5cGUgPz8gcGFyYW07CgogICAgICAgIGNvbnN0IGpzdHlwZSA9IHRvX2pzdHlwZSh0eXBlKTsKCiAgICAgICAgaWYoanN0eXBlID09IHVuZGVmaW5lZCkgb3V0Lm1mbiArPSBgICAgIGAgKyBhc3NpZ24odHlwZT8ucG9pbnRlZSA/PyB0eXBlLCBuYW1lKS5yZXBsYWNlQWxsKCdcbicsICdcbiAgICAnKSArICdcbic7CiAgICAgICAgZWxzZSBvdXQubWZuICs9IGAgICAgICBKU19UbyR7anN0eXBlfShjdHgsICYke25hbWV9LCBhcmd2WyR7aX1dKTtcbmA7CgogICAgICAgIC8vIGNvbnNvbGUubG9nKCcnLCB7IG5hbWUsIGRlc3VnYXJlZCwgdHlwZUFsaWFzIH0pOwogICAgICAgICsraTsKICAgICAgfQoKICAgICAgb3V0Lm1mbiArPSBgXG5gOwogICAgfQoKICAgIGxldCBwYXJhbXMgPSBbXTsKCiAgICBmb3IobGV0IFtuYW1lLCBwYXJhbV0gb2YgcGFyYW1ldGVycykgcGFyYW1zLnB1c2gobmFtZSA/PyAnb3RoZXInKTsKCiAgICBsZXQgY2FsbCA9IGBwdHItPiR7bmFtZX0oYCArIHBhcmFtcy5qb2luKCcsICcpICsgYClgOwoKICAgIGlmKHJldHVyblR5cGUpIHsKICAgICAgc3dpdGNoIChyZXR1cm5UeXBlICsgJycpIHsKICAgICAgICBjYXNlICd2b2lkJzoKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICdmbG9hdCc6CiAgICAgICAgY2FzZSAnZG91YmxlJzoKICAgICAgICAgIGNhbGwgPSBgcmV0ID0gSlNfTmV3RmxvYXQ2NChjdHgsICR7Y2FsbH0pYDsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICdpbnQnOgogICAgICAgIGNhc2UgJ2ludDMyX3QnOgogICAgICAgICAgY2FsbCA9IGByZXQgPSBKU19OZXdJbnQzMihjdHgsICR7Y2FsbH0pYDsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICd1bnNpZ25lZCBpbnQnOgogICAgICAgIGNhc2UgJ3VpbnQzMl90JzoKICAgICAgICAgIGNhbGwgPSBgcmV0ID0gSlNfTmV3VWludDMyKGN0eCwgJHtjYWxsfSlgOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgJ2xvbmcnOgogICAgICAgIGNhc2UgJ3Vuc2lnbmVkIGxvbmcnOgogICAgICAgIGNhc2UgJ2ludDY0X3QnOgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICBjYWxsID0gYHJldCA9IEpTX05ld0ludDY0KGN0eCwgJHtjYWxsfSlgOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICBvdXQubWZuICs9IGAgICAgICAke2NhbGx9O1xuYDsKICAgIG91dC5tZm4gKz0gYCAgICAgIGJyZWFrO1xuICAgIH1cbmA7CiAgfQoKICBmb3IobGV0IGZpZWxkIG9mIG1lbWJlcnMuZmllbGRzKSB7CiAgICBjb25zdCB7IG5hbWUsIGRlc3VnYXJlZCwgdHlwZUFsaWFzLCBhY2Nlc3MsIHN0b3JhZ2VDbGFzcyB9ID0gZmllbGQ7CgogICAgaWYoc3RvcmFnZUNsYXNzID09ICdzdGF0aWMnKSBjb250aW51ZTsKICAgIGlmKGZpZWxkLmFzdC5zdG9yYWdlQ2xhc3MgPT0gJ3N0YXRpYycpIGNvbnRpbnVlOwoKICAgIGNvbnN0IGNuYW1lID0gJ1BST1BfJyArIE1ha2VJZChkZWNhbWVsaXplKG5hbWUsICdfJykpLnRvVXBwZXJDYXNlKCkucmVwbGFjZUFsbCgnX18nLCAnX3gnKTsKCiAgICBvdXQuZm5zICs9IGAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCIke25hbWV9IiwganNfJHtjaWR9X2dldCwganNfJHtjaWR9X3NldCwgJHtjbmFtZX0pLFxuYDsKICAgIG91dC5wZW51bSArPSBgICAke2NuYW1lfSxcbmA7CiAgICBvdXQucGdldCArPSBgICAgIGNhc2UgJHtjbmFtZX06IHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbmA7CiAgICBvdXQucHNldCArPSBgICAgIGNhc2UgJHtjbmFtZX06IHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbmA7CiAgfQoKICBmb3IobGV0IGVuIG9mIG1lbWJlcnMuZW51bXMpIHsKICAgIGNvbnN0IHsgbmFtZSwgbWVtYmVycyB9ID0gZW47CgogICAgLy9vdXQuZm5zICs9IGAgIC8qIGVudW0gJHtuYW1lfSAqL1xuYDsKCiAgICBmb3IobGV0IFtuYW1lLCB2YWx1ZV0gb2YgbWVtYmVycykgewogICAgICBvdXQuZm5zICs9IGAgIEpTX1BST1BfSU5UNjRfREVGKCIke25hbWV9IiwgJHt2YWx1ZX0sIEpTX1BST1BfQ09ORklHVVJBQkxFKSxcbmA7CiAgICB9CiAgfQoKICBvdXQuZm5zICs9IGAgIEpTX1BST1BfU1RSSU5HX0RFRigiW1N5bWJvbC50b1N0cmluZ1RhZ10iLCAiJHtjbmFtZX0iLCBKU19QUk9QX0NPTkZJR1VSQUJMRSksXG5gOwoKICBvdXQuZm5zICs9IGB9O1xuYDsKICBvdXQubWVudW0gKz0gYH07XG5gOwogIG91dC5wZW51bSArPSBgfTtcbmA7CgogIG91dC5wZ2V0ICs9IGAgIH1cblxuICByZXR1cm4gcmV0O1xufTtcbmA7CiAgb3V0LnBzZXQgKz0gYCAgfVxuXG4gIHJldHVybiByZXQ7XG59O1xuYDsKICBvdXQubWZuICs9IGAgIH1cblxuICByZXR1cm4gcmV0O1xufTtcbmA7CgogIHJldHVybiBvdXQubWVudW0gKyBgXG5gICsgb3V0Lm1mbiArIGBcbmAgKyAobWVtYmVycy5maWVsZHMubGVuZ3RoID4gMCA/IG91dC5wZW51bSArIGBcbmAgKyBvdXQucGdldCArIGBcbmAgKyBvdXQucHNldCArIGBcbmAgOiAnJykgKyBvdXQuZm5zOwp9Cgphc3luYyBmdW5jdGlvbiBBU1RTaGVsbCguLi5hcmdzKSB7CiAgbGV0IGluc3BlY3RPcHRpb25zID0gewogICAgZGVwdGg6IDIsCiAgICAvKmJyZWFrTGVuZ3RoOiAyNDAsICovIGN1c3RvbUluc3BlY3Q6IHRydWUsCiAgICBjb21wYWN0OiBmYWxzZSwKICAgIGRlcHRoOiBJbmZpbml0eSwKICAgIG1heEFycmF5TGVuZ3RoOiBJbmZpbml0eSwKICAgIGhpZGVLZXlzOiBbJ2xvYycsICdyYW5nZSddLAogIH07CgogIGdsb2JhbFRoaXMuY29uc29sZSA9IG5ldyBDb25zb2xlKHsgaW5zcGVjdE9wdGlvbnMgfSk7CgogIGdsb2JhbFRoaXMuZmlsZXMgPSBmaWxlcyA9IHt9OwoKICBiYXNlID0gcGF0aC5iYXNlbmFtZShzY3JpcHRBcmdzWzBdLCAnLmpzJykucmVwbGFjZSgvXC5bYS16XSokLywgJycpOwogIGNtZGhpc3QgPSBgLiR7YmFzZX0tY21kaGlzdG9yeWA7CiAgY29uZmlnID0gYC4ke2Jhc2V9LWNvbmZpZ2A7CgogIHBhcmFtcyA9IGdsb2JhbFRoaXMucGFyYW1zID0gZ2V0T3B0KAogICAgewogICAgICBpbmNsdWRlOiBbdHJ1ZSwgKGEsIHApID0+IChwIHx8IFtdKS5jb25jYXQoW2FdKSwgJ0knXSwKICAgICAgZGVmaW5lOiBbdHJ1ZSwgKGEsIHApID0+IChwIHx8IFtdKS5jb25jYXQoW2FdKSwgJ0QnXSwKICAgICAgbGliczogW3RydWUsIChhLCBwKSA9PiAocCB8fCBbXSkuY29uY2F0KFthXSksICdsJ10sCiAgICAgIGRlYnVnOiBbZmFsc2UsIG51bGwsICd4J10sCiAgICAgIGZvcmNlOiBbZmFsc2UsIG51bGwsICdmJ10sCiAgICAgIHRhcmdldDogW3RydWUsIG51bGwsICd0J10sCiAgICAgIGV4ZWM6IFt0cnVlLCBudWxsLCAnZSddLAogICAgICAnc3lzdGVtLWluY2x1ZGVzJzogW2ZhbHNlLCBudWxsLCAncyddLAogICAgICAnbm8tcmVtb3ZlLWVtcHR5JzogW2ZhbHNlLCBudWxsLCAnRSddLAogICAgICAnb3V0cHV0LWRpcic6IFt0cnVlLCBudWxsLCAnZCddLAogICAgICBjb21waWxlcjogWydjbGFuZycsIG51bGwsICdjJ10sCiAgICAgICdAJzogJ2lucHV0JywKICAgIH0sCiAgICBhcmdzLAogICk7CgogIGRlZnMgPSBwYXJhbXMuZGVmaW5lIHx8IFtdOwogIGluY2x1ZGVzID0gcGFyYW1zLmluY2x1ZGUgfHwgW107CiAgbGlicyA9IHBhcmFtcy5saWJzIHx8IFtdOwogIHNvdXJjZXMgPSBwYXJhbXNbJ0AnXSB8fCBbXTsKCiAgZGVmaW5lKGdsb2JhbFRoaXMsIHsKICAgIGRlZnMsCiAgICBpbmNsdWRlcywKICAgIGxpYnMsCiAgICAvKiBwcmV0dGllci1pZ25vcmUgKi8gZ2V0IGZsYWdzKCkgewogICAgICByZXR1cm4gWyAuLi4ocGFyYW1zLnRhcmdldD8gW2AtLXRhcmdldD0ke3BhcmFtcy50YXJnZXR9YF0gOiBbXSksICAuLi5pbmNsdWRlcy5maWx0ZXIodiA9PiB0eXBlb2YgdiA9PSAnc3RyaW5nJykubWFwKHYgPT4gYC1JJHt2fWApLCAuLi5kZWZzLm1hcChkID0+IGAtRCR7ZH1gKSwgLi4ubGlicy5tYXAobCA9PiBgLWwke2x9YCldOwogICAgfSwKICB9KTsKCiAgYXN5bmMgZnVuY3Rpb24gQ29tcGlsZShmaWxlLCAuLi5hcmdzKSB7CiAgICBsZXQgcjsKCiAgICAvKiBpZihwYXJhbXMudGFyZ2V0KQogICAgICBhcmdzLnVuc2hpZnQoYC0tdGFyZ2V0PSR7cGFyYW1zLnRhcmdldH1gKTsqLwoKICAgIHRyeSB7CiAgICAgIHIgPSBnbG9iYWxUaGlzLnIgPSBhd2FpdCBBc3REdW1wKHBhcmFtcy5jb21waWxlciwgZmlsZSwgWy4uLmdsb2JhbFRoaXMuZmxhZ3MsIC4uLmFyZ3NdLCBwYXJhbXMuZm9yY2UpOwogICAgfSBjYXRjaChlKSB7CiAgICAgIGNvbnNvbGUubG9nKCdDb21waWxlIEVSUk9SOicsIGUubWVzc2FnZSArICdcbicgKyBlLnN0YWNrKTsKICAgICAgcmV0dXJuIGU7CiAgICB9CiAgICByLnNvdXJjZSA9IGZpbGU7CgogICAgZ2xvYmFsVGhpcy5maWxlc1tmaWxlXSA9IHI7CgogICAgbGV0IGFzdDJwYXRoID0gbWFwV3JhcHBlcihuZXcgV2Vha01hcCgpKTsKCiAgICBkZWZpbmUociwgewogICAgICBzZWxlY3QobmFtZV9vcl9pZCwgcHJlZCA9IG4gPT4gdHJ1ZSkgewogICAgICAgIHJldHVybiB0aGlzLmRhdGEuaW5uZXIuZmlsdGVyKG5hbWVPcklkUHJlZChuYW1lX29yX2lkLCBwcmVkKSk7CiAgICAgIH0sCiAgICAgIGdldEJ5SWRPck5hbWUobmFtZV9vcl9pZCwgcHJlZCA9IG4gPT4gdHJ1ZSkgewogICAgICAgIGxldCBub2RlID0gdGhpcy5kYXRhLmlubmVyLmZpbmRMYXN0KG5hbWVPcklkUHJlZChuYW1lX29yX2lkLCBwcmVkKSk7CgogICAgICAgIG5vZGUgPz89IHRoaXMuY2xhc3Nlcy5maW5kTGFzdChuYW1lT3JJZFByZWQobmFtZV9vcl9pZCwgcHJlZCkpOwogICAgICAgIG5vZGUgPz89IERlZXBGaW5kKHRoaXMuZGF0YSwgbmFtZU9ySWRQcmVkKG5hbWVfb3JfaWQsIHByZWQpKTsKICAgICAgICByZXR1cm4gbm9kZTsKICAgICAgfSwKICAgICAgZ2V0VHlwZTogbWVtb2l6ZShmdW5jdGlvbiBnZXRUeXBlKG5hbWVfb3JfaWQpIHsKICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcy5nZXRCeUlkT3JOYW1lKG5hbWVfb3JfaWQsIG4gPT4gIS8oRnVuY3Rpb25EZWNsfE5hbWVzcGFjZURlY2wpLy50ZXN0KG4ua2luZCkgJiYgL0RlY2wvLnRlc3Qobi5raW5kKSk7CiAgICAgICAgLy9sZXQgcmVzdWx0ID0gdGhpcy5nZXROYW1lc3BhY2UobmFtZV9vcl9pZCwgdGhpcy5kYXRhLCBuID0+ICEvKEZ1bmN0aW9uRGVjbCkvLnRlc3Qobi5raW5kKSAmJiAvRGVjbC8udGVzdChuLmtpbmQpKTsKCiAgICAgICAgcmVzdWx0ID8/PSBHZXRUeXBlKG5hbWVfb3JfaWQsIHRoaXMuZGF0YSk7CgogICAgICAgIGlmKHJlc3VsdCkgewogICAgICAgICAgbGV0IHR5cGUgPSBUeXBlRmFjdG9yeShyZXN1bHQsIHRoaXMuZGF0YSk7CiAgICAgICAgICBpZih0eXBlKSByZXN1bHQgPSB0eXBlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgfSksCiAgICAgIGdldE5hbWVzcGFjZShhcmcsIHJvb3QgPSB0aGlzLmRhdGEsIHByZWRpY2F0ZSA9ICgpID0+IHRydWUpIHsKICAgICAgICByZXR1cm4gR2V0TmFtZXNwYWNlKGFyZywgcm9vdCwgcHJlZGljYXRlKTsKICAgICAgfSwKICAgICAgbmFtZXNwYWNlT2Yobm9kZSkgewogICAgICAgIHJldHVybiBOYW1lc3BhY2VPZihub2RlPy5hc3QgPz8gbm9kZSwgdGhpcy5kYXRhKTsKICAgICAgfSwKICAgICAgZ2V0Q2xhc3M6IG1lbW9pemUoZnVuY3Rpb24gZ2V0Q2xhc3MobmFtZV9vcl9pZCkgewogICAgICAgIHJldHVybiBHZXRDbGFzcyhuYW1lX29yX2lkLCB0aGlzLmRhdGEpOwogICAgICB9KSwKICAgICAgZ2V0RnVuY3Rpb24obmFtZV9vcl9pZCkgewogICAgICAgIGxldCByZXN1bHQgPSBpc05vZGUobmFtZV9vcl9pZCkgPyBuYW1lX29yX2lkIDogdGhpcy5nZXRCeUlkT3JOYW1lKG5hbWVfb3JfaWQsIG4gPT4gLyhGdW5jdGlvbkRlY2wpLy50ZXN0KG4ua2luZCkpOwoKICAgICAgICBpZihyZXN1bHQpIHJldHVybiBuZXcgRnVuY3Rpb25EZWNsKHJlc3VsdCwgdGhpcy5kYXRhKTsKICAgICAgfSwKICAgICAgZ2V0VmFyaWFibGUobmFtZV9vcl9pZCkgewogICAgICAgIGxldCByZXN1bHQgPSBpc05vZGUobmFtZV9vcl9pZCkgPyBuYW1lX29yX2lkIDogdGhpcy5nZXRCeUlkT3JOYW1lKG5hbWVfb3JfaWQsIG4gPT4gLyhWYXJEZWNsKS8udGVzdChuLmtpbmQpKTsKCiAgICAgICAgaWYocmVzdWx0KSByZXR1cm4gbmV3IFZhckRlY2wocmVzdWx0LCB0aGlzLmRhdGEpOwogICAgICB9LAogICAgICBnZXRMb2Mobm9kZSkgewogICAgICAgIHJldHVybiBDb21wbGV0ZUxvY2F0aW9uKG5vZGUpOwogICAgICB9LAogICAgfSk7CgogICAgZGVmaW5lR2V0dGVyKAogICAgICByLAogICAgICAndHJlZScsCiAgICAgIG1lbW9pemUoKCkgPT4gbmV3IFRyZWUoci5kYXRhKSksCiAgICApOwogICAgcmV0dXJuIGRlZmluZShyLCB7CiAgICAgIHBhdGhPZihuZWVkbGUsIG1heERlcHRoID0gMTApIHsKICAgICAgICBsZXQgcCA9IGFzdDJwYXRoKG5lZWRsZT8uYXN0ID8/IG5lZWRsZSk7CiAgICAgICAgaWYocCkgcmV0dXJuIHA7CgogICAgICAgIGlmKCdhc3QnIGluIG5lZWRsZSkgbmVlZGxlID0gbmVlZGxlLmFzdDsKCiAgICAgICAgZm9yKGxldCBbbm9kZSwgcGF0aF0gb2YgRGVlcFNlbGVjdChyLmRhdGEsIG4gPT4gdHlwZW9mIG4gPT0gJ29iamVjdCcgJiYgbiAhPSBudWxsLCBkZWVwLlJFVFVSTl9WQUxVRV9QQVRILCBtYXhEZXB0aCkpIGlmKG5vZGUgPT09IG5lZWRsZSkgcmV0dXJuIG5ldyBQb2ludGVyKHBhdGgpOwogICAgICB9LAogICAgfSk7CiAgfQoKICBPYmplY3QuYXNzaWduKGdsb2JhbFRoaXMsIHsKICAgIERlZXBTZWxlY3QsCiAgICBEZWVwR2V0LAogICAgRGVlcEZpbmQsCiAgICBEZWVwUGF0aE9mLAogICAgU0laRU9GX1BPSU5URVIsCiAgICBUeXBlLAogICAgUG9pbnRlclR5cGUsCiAgICBSZWZlcmVuY2VUeXBlLAogICAgRmllbGREZWNsLAogICAgTmFtZUZvciwKICAgIEFzdER1bXAsCiAgICBTb3VyY2VEZXBlbmRlbmNpZXMsCiAgICBOb2RlUHJpbnRlciwKICAgIE5vZGVUeXBlLAogICAgTm9kZU5hbWUsCiAgICBHZXRMb2MsCiAgICBSYXdMb2NhdGlvbiwKICAgIENvbXBsZXRlTG9jYXRpb24sCiAgICBSYXdSYW5nZSwKICAgIENvbXBsZXRlUmFuZ2UsCiAgICBHZXRUeXBlU3RyLAogICAgUHJpbnRSYW5nZSwKICAgIE92ZXJsYXBSYW5nZSwKICAgIFBhcmVudE5vZGUsCiAgICBOZXh0U2libGluZywKICAgIFByZXZpb3VzU2libGluZywKICAgIEZpcnN0Q2hpbGQsCiAgICBMYXN0Q2hpbGQsCiAgICBHZW5lcmF0ZUluc3BlY3RTdHJ1Y3QsCiAgICBHZW5lcmF0ZVN0cnVjdENsYXNzLAogICAgSW5zcGVjdFN0cnVjdCwKICAgIE1ha2VTdHJ1Y3RDbGFzcywKICAgIERpckl0ZXJhdG9yLAogICAgUmVjdXJzaXZlRGlySXRlcmF0b3IsCiAgICBJbmNsdWRlQWxsLAogICAgVGVybWluYWwsCiAgICBQcmludEFzdCwKICAgIENvbmNhdEl0ZXJhdG9yLAogICAgU3RyaW5nR2VuZXJhdG9yLAogICAgUmVhZEZpbGUsCiAgICBXcml0ZUZpbGUsCiAgICBNYWtlRkZJLAogICAgTWFrZVF1aWNrSlNDbGFzcywKICAgIFBhcnNlRUNNQVNjcmlwdCwKICAgIFByaW50RUNNQVNjcmlwdCwKICAgIFByb2Nlc3NGaWxlLAogICAgdG9BcnJheUJ1ZmZlciwKICAgIHRvU3RyaW5nLAogICAgQ29uc3RhbnRzLAogICAgUHJpbnRDQXJyYXksCiAgICBHZXRQYXJhbXMsCiAgICBMaXN0LAogICAgU2hlbGwsCiAgICBQYXJzZVN0cnVjdHMsCiAgfSk7CgogIFBvaW50ZXIucHJvdG90eXBlLmNoYWluID0gZnVuY3Rpb24oc3RlcCwgbGltaXQgPSBJbmZpbml0eSkgewogICAgbGV0IHB0ciA9IHRoaXMsCiAgICAgIHJldCA9IFtdLAogICAgICBsZW4gPSBwdHIubGVuZ3RoOwoKICAgIGZvcig7OykgewogICAgICBpZihyZXQubGVuZ3RoID49IGxpbWl0KSBicmVhazsKICAgICAgcmV0LnVuc2hpZnQocHRyKTsKCiAgICAgIGxlbiAtPSBzdGVwOwogICAgICBpZihsZW4gPD0gMCkgYnJlYWs7CiAgICAgIHB0ciA9IHB0ci5zbGljZSgwLCAtc3RlcCk7CiAgICB9CgogICAgcmV0dXJuIHJldDsKICB9OwoKICBPYmplY3QuYXNzaWduKGdsb2JhbFRoaXMsIHsKICAgIFBvaW50ZXIsCiAgICBUcmVlLAogICAgZGVlcCwKICAgIHBhdGgsCiAgICBDb21waWxlLAogICAgU2VsZWN0TG9jYXRpb25zLAogICAgTG9jYXRpb25TdHJpbmcsCiAgICBUYWJsZSwKICAgIFN0cnVjdHMsCiAgICBOb2RlLAogICAgVHlwZSwKICAgIFJlY29yZERlY2wsCiAgICBFbnVtRGVjbCwKICAgIFR5cGVkZWZEZWNsLAogICAgVmFyRGVjbCwKICAgIEZpbmRUeXBlLAogICAgSGllciwKICAgIFBhdGhPZiwKICAgIEZ1bmN0aW9uRGVjbCwKICAgIExvY2F0aW9uLAogICAgUmFuZ2UsCiAgICBUeXBlRmFjdG9yeSwKICAgIFNwYXduQ29tcGlsZXIsCiAgICBBc3REdW1wLAogICAgTm9kZVR5cGUsCiAgICBOb2RlTmFtZSwKICAgIEdldExvYywKICAgIEdldENsYXNzLAogICAgR2V0QmFzZXMsCiAgICBHZXRCeU5hbWUsCiAgICBHZXROYW1lc3BhY2UsCiAgICBOYW1lc3BhY2VPZiwKICAgIEdldFR5cGUsCiAgICBHZXRUeXBlU3RyLAogICAgR2V0VHlwZU5vZGUsCiAgICBHZXRGaWVsZHMsCiAgICBQYXRoUmVtb3ZlTG9jLAogICAgRkZJX0Z1bmN0aW9uLAogICAgbGliZGlycywKICAgIGxpYmRpcnMzMiwKICAgIGxpYmRpcnM2NCwKICAgIExpYnJhcnlFeHBvcnRzLAogICAgTWVtYmVyTmFtZXMsCiAgICBHZXRJbXBvcnRzLAogICAgR2V0SWRlbnRpZmllcnMsCiAgICBOYW1lc3BhY2VzLAogICAgVW5zZXRMb2MsCiAgfSk7CiAgLy9nbG9iYWxUaGlzLlV0aWwgPSBVdGlsOwogIGdsb2JhbFRoaXMuRiA9IGFyZyA9PiAkLmdldEZ1bmN0aW9uKGFyZyk7CiAgZ2xvYmFsVGhpcy5UID0gYXJnID0+ICQuZ2V0VHlwZShhcmcpOwoKICBsYXp5UHJvcGVydHkoZ2xvYmFsVGhpcywgJ1AnLCAoKSA9PiB7CiAgICBsZXQgcHJpbnRlciA9IE5vZGVQcmludGVyKCQuZGF0YSk7CgogICAgcmV0dXJuIG5vZGUgPT4gewogICAgICBpZignYXN0JyBpbiBub2RlKSBub2RlID0gbm9kZS5hc3Q7CiAgICAgIHByaW50ZXIuY2xlYXIoKTsKICAgICAgcmV0dXJuIHByaW50ZXIucHJpbnQobm9kZSk7CiAgICB9OwogIH0pOwoKICAvL2NvbnNvbGUubG9nKCdMb2FkaW5nIGhpc3RvcnknKTsKCiAgY29uc3QgdW5pdGhpc3QgPSBgLiR7YmFzZX0tdW5pdGhpc3RvcnlgOwogIGxldCBpdGVtcyA9IFtdLAogICAgaGlzdCA9IFJlYWRKU09OKHVuaXRoaXN0KSB8fCBbXTsKCiAgY29uc29sZS5sb2coJ0xvYWRpbmcgc291cmNlczonICsgc291cmNlcy5tYXAocyA9PiAnICcgKyBzKS5qb2luKCcsJykpOwoKICBnbG9iYWxUaGlzWydfJ10gPSBpdGVtczsKCiAgZm9yKGxldCBzb3VyY2Ugb2Ygc291cmNlcykgewogICAgbGV0IGl0ZW0gPSBhd2FpdCBQcm9jZXNzRmlsZShzb3VyY2UpOwoKICAgIGdsb2JhbFRoaXNbJyQnXSA9IGl0ZW07CgogICAgLyppZigvXC5qcyQvLnRlc3Qoc291cmNlKSkgaXRlbSA9IFBhcnNlRUNNQVNjcmlwdChzb3VyY2UpOwogICAgZWxzZSBpdGVtID0gYXdhaXQgQ29tcGlsZShzb3VyY2UpOyovCgogICAgaWYoaXRlbSkgewogICAgICBwdXNoVW5pcXVlKGhpc3QsIFsuLi5mbGFncywgc291cmNlXSk7CiAgICAgIGl0ZW1zLnB1c2goaXRlbSk7CiAgICB9CiAgfQoKICBXcml0ZUZpbGUodW5pdGhpc3QsIEpTT04uc3RyaW5naWZ5KGhpc3QsIG51bGwsIDIpKTsKCiAgLy8gZ2xvYmFsVGhpcy4kID0gaXRlbXMubGVuZ3RoID09IDEgPyBpdGVtc1swXSA6IGl0ZW1zOwogIGF3YWl0IENvbW1hbmRMaW5lKCk7Cn0KCmxldCBlcnJvcjsKCnRyeSB7CiAgY29uc3QgYXJndiA9IHNjcmlwdEFyZ3Muc2xpY2UoMSk7CiAgQVNUU2hlbGwoLi4uYXJndik7Cn0gY2F0Y2goZSkgewogIGVycm9yID0gZTsKfSBmaW5hbGx5IHsKICBpZihlcnJvcikgewogICAgY29uc29sZS5sb2coJ0ZBSUw6ICcgKyBlcnJvci5tZXNzYWdlLCAnXG4gICcgKyBuZXcgU3RhY2soZXJyb3Iuc3RhY2ssIGZyID0+IGZyLmZ1bmN0aW9uTmFtZSAhPSAnZXNmYWN0b3J5JykudG9TdHJpbmcoKS5yZXBsYWNlKC9cbi9nLCAnXG4gICcpKTsKICAgIGNvbnNvbGUubG9nKCdGQUlMJyk7CiAgICBzdGQuZXhpdCgxKTsKICB9Cn0KAAAAAAAAAAC7sgAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAABWXAAAAAAAAFZcAAAAAAAAAAAAAAIBwQA"
				],
				[
					2855,
					1,
					"revert",
					null,
					"BAAAAAAAAAAAAAAAAAAAAAAAAADFsgAAaW1wb3J0IHsgRGVlcEZpbmQsIERlZXBTZWxlY3QsIERlZXBQYXRoT2YsIERlZXBHZXQsIEFzdER1bXAsIENvbXBsZXRlTG9jYXRpb24sIENvbXBsZXRlUmFuZ2UsIEVudW1EZWNsLCBGaW5kVHlwZSwgRnVuY3Rpb25EZWNsLCBHZXRGaWVsZHMsIEdldExvYywgR2V0UGFyYW1zLCBHZXRDbGFzcywgR2V0QmFzZXMsIEdldEJ5TmFtZSwgR2V0VHlwZSwgR2V0VHlwZU5vZGUsIEdldFR5cGVTdHIsIEhpZXIsIGlzTm9kZSwgTGlzdCwgTG9jYXRpb24sIE5vZGUsIE5vZGVOYW1lLCBOb2RlUHJpbnRlciwgTm9kZVR5cGUsIFBhdGhPZiwgUGF0aFJlbW92ZUxvYywgUHJpbnRBc3QsIFJhbmdlLCBSYXdMb2NhdGlvbiwgUmF3UmFuZ2UsIFJlY29yZERlY2wsIFNJWkVPRl9QT0lOVEVSLCBTb3VyY2VEZXBlbmRlbmNpZXMsIFNwYXduQ29tcGlsZXIsIFR5cGUsIFR5cGVkZWZEZWNsLCBUeXBlRmFjdG9yeSwgVmFyRGVjbCwgbmFtZU9ySWRQcmVkLCBOYW1lc3BhY2VPZiwgR2V0TmFtZXNwYWNlLCBQb2ludGVyVHlwZSwgUmVmZXJlbmNlVHlwZSwgRmllbGREZWNsLCBOYW1lRm9yLCB9IGZyb20gJy4vY2xhbmctYXN0LmpzJzsKaW1wb3J0IHsgRGlySXRlcmF0b3IsIFJlY3Vyc2l2ZURpckl0ZXJhdG9yIH0gZnJvbSAnLi9kaXItaGVscGVycy5qcyc7CmltcG9ydCB7IExvYWRIaXN0b3J5LCBSZWFkRmlsZSwgUmVhZEpTT04sIFdyaXRlRmlsZSwgV3JpdGVKU09OIH0gZnJvbSAnLi9pby1oZWxwZXJzLmpzJzsKaW1wb3J0ICogYXMgZGVlcCBmcm9tICcuL2xpYi9kZWVwLmpzJzsKaW1wb3J0ICogYXMgRUNNQVNjcmlwdCBmcm9tICcuL2xpYi9lY21hc2NyaXB0LmpzJzsKaW1wb3J0ICogYXMgZnMgZnJvbSAnLi9saWIvZmlsZXN5c3RlbS5qcyc7CmltcG9ydCB7IGRlZmluZSwgcHJvcGVydGllcywgbm9uZW51bWVyYWJsZSwgZGVmaW5lR2V0dGVyLCBnZXRPcHQsIGlzT2JqZWN0LCBsYXp5UHJvcGVydHksIG1lbW9pemUsIHB1c2hVbmlxdWUsIHRvQXJyYXlCdWZmZXIsIHRvU3RyaW5nLCB3ZWFrTWFwcGVyIH0gZnJvbSAnLi9saWIvbWlzYy5qcyc7CmltcG9ydCB7IGV4dGVuZEFycmF5IH0gZnJvbSAnZXh0ZW5kQXJyYXknOwppbXBvcnQgKiBhcyBwYXRoIGZyb20gJy4vbGliL3BhdGguanMnOwppbXBvcnQgeyBQb2ludGVyIH0gZnJvbSAnLi9saWIvcG9pbnRlci5qcyc7CmltcG9ydCBUcmVlIGZyb20gJy4vbGliL3RyZWUuanMnOwppbXBvcnQgeyBzcGxpdCwgZGVjYW1lbGl6ZSwgY2FtZWxpemUsIGNsYXNzTmFtZSwgbWFwV3JhcHBlciB9IGZyb20gJ3V0aWwnOwppbXBvcnQgeyBTaGVsbCwgU3Bhd24gfSBmcm9tICcuL29zLWhlbHBlcnMuanMnOwppbXBvcnQgKiBhcyBUZXJtaW5hbCBmcm9tICd0ZXJtaW5hbCc7CmltcG9ydCB7IENvbnNvbGUgfSBmcm9tICdjb25zb2xlJzsKaW1wb3J0IHsgUkVQTCB9IGZyb20gJ3JlcGwnOwppbXBvcnQgeyBpbnNwZWN0IH0gZnJvbSAnaW5zcGVjdCc7Ci8vaW1wb3J0IFBvcnRhYmxlU3Bhd24gZnJvbSAnLi9saWIvc3Bhd24uanMnOwoKZXh0ZW5kQXJyYXkoQXJyYXkucHJvdG90eXBlKTsKCmdsb2JhbFRoaXMuZnMgPSBmczsKCmxldCBwYXJhbXM7CmxldCBmaWxlczsKbGV0IHNwYXduLCBiYXNlLCBjbWRoaXN0LCBjb25maWc7CmxldCBkZWZzLCBpbmNsdWRlcywgbGlicywgc291cmNlczsKbGV0IGxpYmRpcnMgPSBbCiAgJy9saWInLAogICcvbGliL2kzODYtbGludXgtZ251JywKICAnL2xpYi94ODZfNjQtbGludXgtZ251JywKICAnL2xpYjMyJywKICAnL2xpYngzMicsCiAgJy91c3IvbGliJywKICAnL3Vzci9saWIvaTM4Ni1saW51eC1nbnUnLAogICcvdXNyL2xpYi9pMzg2LWxpbnV4LWdudS9pNjg2L3NzZTInLAogICcvdXNyL2xpYi9pMzg2LWxpbnV4LWdudS9zc2UyJywKICAnL3Vzci9saWIveDg2XzY0LWxpbnV4LWdudScsCiAgJy91c3IvbGliL3g4Nl82NC1saW51eC1nbnUvbGliZmFrZXJvb3QnLAogICcvdXNyL2xpYjMyJywKICAnL3Vzci9saWJ4MzInLAogICcvdXNyL2xvY2FsL2xpYicsCiAgJy91c3IvbG9jYWwvbGliL2kzODYtbGludXgtZ251JywKICAnL3Vzci9sb2NhbC9saWIveDg2XzY0LWxpbnV4LWdudScsCl07CmxldCBsaWJkaXJzMzIgPSBsaWJkaXJzLmZpbHRlcihkID0+IC8oMzIkfGlbMC05XTg2KS8udGVzdChkKSk7CmxldCBsaWJkaXJzNjQgPSBsaWJkaXJzLmZpbHRlcihkID0+ICEvKDMyJHxpWzAtOV04NikvLnRlc3QoZCkpOwoKY29uc3QgdHJhY2VQcm94eSA9IChvYmosIGhhbmRsZXIpID0+IHsKICBsZXQgcHJveHk7CiAgaGFuZGxlciA9IC8qaGFuZGxlciB8fCAqLyBmdW5jdGlvbihuYW1lLCBhcmdzKSB7CiAgICBjb25zb2xlLmxvZyhgQ2FsbGluZyBtZXRob2QgJyR7bmFtZX0nOmAsIC4uLmFyZ3MpOwogIH07CiAgLy9jb25zb2xlLmxvZygnaGFuZGxlcicsIHsgaGFuZGxlciB9LCBoYW5kbGVyICsgJycpOwogIHByb3h5ID0gbmV3IFByb3h5KG9iaiwgewogICAgZ2V0KHRhcmdldCwga2V5LCByZWNlaXZlcikgewogICAgICBsZXQgbWVtYmVyID0gUmVmbGVjdC5nZXQob2JqLCBrZXksIHJlY2VpdmVyKTsKICAgICAgaWYoMCAmJiB0eXBlb2YgbWVtYmVyID09ICdmdW5jdGlvbicpIHsKICAgICAgICBsZXQgbWV0aG9kID0gbWVtYmVyOyAvLyBtZW1iZXIuYmluZChvYmopOwogICAgICAgIG1lbWJlciA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgLy8gICAgICAgICAgaGFuZGxlci5jYWxsKHJlY2VpdmVyLCBrZXksIGFyZ3VtZW50cyk7CiAgICAgICAgICByZXR1cm4gbWV0aG9kLmFwcGx5KG9iaiwgYXJndW1lbnRzKTsKICAgICAgICB9OwogICAgICAgIG1lbWJlciA9IG1ldGhvZC5iaW5kKG9iaik7CiAgICAgICAgY29uc29sZS5sb2coJ1V0aWwudHJhY2VQcm94eScsIGtleSwgKG1lbWJlciArICcnKS5yZXBsYWNlKC9cblxzKy9nLCAnICcpLnNwbGl0KGxpbmVTcGxpdClbMF0pOwogICAgICB9CiAgICAgIHJldHVybiBtZW1iZXI7CiAgICB9LAogIH0pOwogIHJldHVybiBwcm94eTsKfTsKCmNvbnN0IENvbmNhdEl0ZXJhdG9yID0gaXRlcmF0b3IgPT4gewogIGxldCByZXN1bHQsCiAgICBzID0gJyc7CgogIGlmKCEoJ25leHQnIGluIGl0ZXJhdG9yKSkgewogICAgaWYoU3ltYm9sLml0ZXJhdG9yIGluIGl0ZXJhdG9yKSBpdGVyYXRvciA9IGl0ZXJhdG9yW1N5bWJvbC5pdGVyYXRvcl0oKTsKICB9CgogIHdoaWxlKChyZXN1bHQgPSBpdGVyYXRvci5uZXh0KCkpICYmICFyZXN1bHQuZG9uZSkgewogICAgaWYocyAhPSAnJykgcyArPSAnXG4nOwogICAgcyArPSByZXN1bHQudmFsdWU7CiAgfQoKICByZXR1cm4gczsKfTsKCmNvbnN0IFN0cmluZ0dlbmVyYXRvciA9CiAgZ2VuID0+CiAgKC4uLmFyZ3MpID0+IHsKICAgIGNvbnN0IGl0ZXJhdG9yID0gZ2VuKC4uLmFyZ3MpOwoKICAgIHJldHVybiBPYmplY3QuYXNzaWduKGl0ZXJhdG9yLCB7CiAgICAgIHRvU3RyaW5nKCkgewogICAgICAgIHJldHVybiBDb25jYXRJdGVyYXRvcih0aGlzKTsKICAgICAgfSwKICAgIH0pOwogIH07Cgphc3luYyBmdW5jdGlvbiBJbXBvcnRNb2R1bGUobW9kdWxlUGF0aCwgLi4uYXJncykgewogIGxldCBkb25lID0gZmFsc2UsCiAgICBtb2R1bGVOYW1lID0gcGF0aC5iYXNlbmFtZShtb2R1bGVQYXRoLCAnLmpzJyk7CgogIHJldHVybiBhd2FpdCBpbXBvcnQobW9kdWxlUGF0aCkudGhlbihtb2R1bGUgPT4gewogICAgZG9uZSA9IHRydWU7CiAgICBtb2R1bGUgPSBPYmplY3QuY3JlYXRlKAogICAgICBudWxsLAogICAgICBnZXRNZW1iZXJOYW1lcyhtb2R1bGUsIEluZmluaXR5LCAwKS5yZWR1Y2UoCiAgICAgICAgKGFjYywgaXRlbSkgPT4gKHsKICAgICAgICAgIC4uLmFjYywKICAgICAgICAgIFtpdGVtXTogeyB2YWx1ZTogbW9kdWxlW2l0ZW1dLCBlbnVtZXJhYmxlOiB0cnVlIH0sCiAgICAgICAgfSksCiAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobW9kdWxlKSwKICAgICAgKSwKICAgICk7CgogICAgaWYoIWdsb2JhbFRoaXMubW9kdWxlcykgZ2xvYmFsVGhpcy5tb2R1bGVzID0ge307CiAgICBnbG9iYWxUaGlzLm1vZHVsZXNbbW9kdWxlTmFtZV0gPSBtb2R1bGU7CgogICAgT2JqZWN0LmFzc2lnbihnbG9iYWxUaGlzLCBtb2R1bGUpOwogICAgcmV0dXJuIHsgbW9kdWxlTmFtZSwgbW9kdWxlUGF0aCwgbW9kdWxlIH07CiAgfSk7CiAgLyouY2F0Y2goZSA9PiB7CiAgICAgIGRvbmUgPSB0cnVlOwogICAgICByZXR1cm4geyBtb2R1bGVOYW1lLCBtb2R1bGVQYXRoLCBtb2R1bGU6IGUubWVzc2FnZSB9OwogICAgfSkqLwp9CgpmdW5jdGlvbiBDb21tYW5kTGluZSgpIHsKICBsZXQgbG9nID0gY29uc29sZS5yZWFsbG9nOwogIC8vIGxldCBvdXRwdXRMb2cgPSBmcy5vcGVuU3luYygnb3V0cHV0LmxvZycsICd3KycpOwoKICBsZXQgcmVwbDsKICByZXBsID0gZ2xvYmFsVGhpcy5yZXBsID0gbmV3IFJFUEwoJ0FTVCcsIGZhbHNlKTsKCiAgbGV0IGNmZyA9IFJlYWRKU09OKGNvbmZpZyk7CgogIGlmKGNmZykgT2JqZWN0LmFzc2lnbihjb25zb2xlLm9wdGlvbnMsIGNmZy5pbnNwZWN0T3B0aW9ucyk7CgogIHJlcGwuaW1wb3J0TW9kdWxlID0gSW1wb3J0TW9kdWxlOwogIHJlcGwuaGlzdG9yeSA9IExvYWRIaXN0b3J5KGNtZGhpc3QpOwogIE9iamVjdC5hc3NpZ24ocmVwbC5kaXJlY3RpdmVzLCB7CiAgICBjOiBbCiAgICAgICguLi5hcmdzKSA9PiB7CiAgICAgICAgQ29tcGlsZSguLi5hcmdzKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0sCiAgICAgICdjb21waWxlIHNvdXJjZScsCiAgICBdLAogICAgbDogWwogICAgICAoLi4uYXJncykgPT4gewogICAgICAgIFByb2Nlc3NGaWxlKC4uLmFyZ3MpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfSwKICAgICAgJ2xvYWQgc291cmNlIGZpbGUnLAogICAgXSwKICAgIGk6IFsKICAgICAgKG1vZHVsZSwgLi4uYXJncykgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCdhcmdzJywgYXJncyk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHJldHVybiByZXF1aXJlKG1vZHVsZSk7CiAgICAgICAgfSBjYXRjaChlKSB7fQogICAgICAgIGltcG9ydChtb2R1bGUpLnRoZW4obSA9PiAoZ2xvYmFsVGhpc1ttb2R1bGVdID0gbSkpOwogICAgICB9LAogICAgICAnaW1wb3J0IG1vZHVsZScsCiAgICBdLAogIH0pOwogIHJlcGwuc2hvdyA9IHZhbHVlID0+IHsKICAgIGxldCBmaXJzdCwgc3RyOwogICAgaWYoaXNPYmplY3QodmFsdWUpICYmIChmaXJzdCA9IHZhbHVlLmZpcnN0ID8/IHZhbHVlWzBdKSAmJiBpc09iamVjdChmaXJzdCkgJiYgKCdpZCcgaW4gZmlyc3QgfHwgJ2tpbmQnIGluIGZpcnN0KSkgc3RyID0gVGFibGUodmFsdWUpOwogICAgZWxzZSBpZih0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHN0ciA9IHZhbHVlOwogICAgZWxzZQogICAgICBzdHIgPSBpbnNwZWN0KHZhbHVlLCB7CiAgICAgICAgLi4uKGNmZz8uaW5zcGVjdE9wdGlvbnMgPz8ge30pLAogICAgICAgIC4uLnJlcGwuaW5zcGVjdE9wdGlvbnMsCiAgICAgICAgaGlkZUtleXM6IFsnbG9jJywgJ3JhbmdlJ10sCiAgICAgIH0pOwogICAgc3RkLm91dC5wdXRzKHN0ciArICdcbicpOwogIH07CgogIHJlcGwubG9hZFNhdmVPcHRpb25zKCk7CiAgcmVwbC5pbnNwZWN0T3B0aW9ucyA/Pz0gY29uc29sZS5vcHRpb25zOwoKICBnbG9iYWxUaGlzLnByaW50Tm9kZSA9IGFyZyA9PiB7CiAgICBjb25zb2xlLmxvZyhOb2RlUHJpbnRlcigkLmRhdGEpLnByaW50KGFyZykpOwogIH07CgogIC8qbGV0IGRlYnVnTG9nID0gZnMub3BlblN5bmMoJ2RlYnVnLmxvZycsICdhJyk7CiAgcmVwbC5kZWJ1Z0xvZyA9IGRlYnVnTG9nOwogIHJlcGwuZGVidWcgPSAoLi4uYXJncykgPT4gewogICAgbGV0IHMgPSAnJzsKICAgIGZvcihsZXQgYXJnIG9mIGFyZ3MpIHsKICAgICAgaWYocykgcyArPSAnICc7CiAgICAgIGlmKHR5cGVvZiBhcmcgIT0gJ3N0cnBpbmcnIHx8IGFyZy5pbmRleE9mKCdceDFiJykgPT0gLTEpIHMgKz0gaW5zcGVjdChhcmcsIHsgZGVwdGg6IEluZmluaXR5LCBkZXB0aDogNiwgY29tcGFjdDogZmFsc2UgfSk7CiAgICAgIGVsc2UgcyArPSBhcmc7CiAgICB9CiAgICBmcy53cml0ZVN5bmMoZGVidWdMb2csIHMgKyAnXG4nKTsKICAgIGlmKGRlYnVnTG9nLmZsdXNoKSBkZWJ1Z0xvZy5mbHVzaCgpOwogIH07Ki8KCiAgcmVwbC5hZGRDbGVhbnVwSGFuZGxlcigoKSA9PiB7CiAgICBUZXJtaW5hbC5tb3VzZXRyYWNraW5nRGlzYWJsZSgpOwogICAgbGV0IGhpc3QgPSByZXBsLmhpc3RvcnkuZmlsdGVyKChpdGVtLCBpLCBhKSA9PiBhLmxhc3RJbmRleE9mKGl0ZW0pID09IGkpOwogICAgV3JpdGVGaWxlKAogICAgICBjbWRoaXN0LAogICAgICBoaXN0CiAgICAgICAgLmZpbHRlcihlbnRyeSA9PiAoZW50cnkgKyAnJykudHJpbSgpICE9ICcnKQogICAgICAgIC5tYXAoZW50cnkgPT4gZW50cnkucmVwbGFjZSgvXG4vZywgJ1xcbicpICsgJ1xuJykKICAgICAgICAuam9pbignJyksCiAgICApOwoKICAgIGxldCBjZmcgPSB7IGluc3BlY3RPcHRpb25zOiBjb25zb2xlLm9wdGlvbnMgfTsKICAgIFdyaXRlSlNPTihjb25maWcsIGNmZyk7CgogICAgY29uc29sZS5sb2coYEVYSVQgKHdyb3RlICR7aGlzdC5sZW5ndGh9IGhpc3RvcnkgZW50cmllcylgKTsKICAgIHN0ZC5leGl0KDApOwogIH0pOwoKICAvL2F0ZXhpdCgoKSA9PiByZXBsLmNsZWFudXAoKSk7CgogIHJlcGwgPSB0cmFjZVByb3h5KHJlcGwpOwoKICBpZihwYXJhbXMuZXhlYykgcmVwbC5ldmFsQW5kUHJpbnQocGFyYW1zLmV4ZWMpOwogIGVsc2UgcmVwbC5ydW4oZmFsc2UpOwp9CgpmdW5jdGlvbiogSW5jbHVkZUFsbChkaXIsIG1heERlcHRoID0gSW5maW5pdHksIHByZWQgPSBlbnRyeSA9PiAvXC5bY2hdJC8udGVzdChlbnRyeSkpIHsKICBmb3IobGV0IGVudHJ5IG9mIFJlY3Vyc2l2ZURpckl0ZXJhdG9yKGRpciwgbWF4RGVwdGgsIHByZWQpKSB5aWVsZCBgI2luY2x1ZGUgIiR7ZW50cnl9ImA7Cn0KCmZ1bmN0aW9uIFNlbGVjdExvY2F0aW9ucyhub2RlKSB7CiAgcmV0dXJuIFsuLi5EZWVwU2VsZWN0KG5vZGUsIG4gPT4gWydvZmZzZXQnLCAnbGluZScsICdmaWxlJ10uc29tZShwcm9wID0+IG5bcHJvcF0gIT09IHVuZGVmaW5lZCkpXTsKfQoKZnVuY3Rpb24gTG9jYXRpb25TdHJpbmcobG9jKSB7CiAgaWYodHlwZW9mIGxvYyA9PSAnb2JqZWN0JyAmJiBsb2MgIT0gbnVsbCkgewogICAgbGV0IGZpbGUgPSBsb2MuZmlsZSA/PyAobG9jLmluY2x1ZGVkRnJvbSAmJiBsb2MuaW5jbHVkZWRGcm9tLmZpbGUpOwoKICAgIGlmKHR5cGVvZiBsb2MubGluZSA9PSAnbnVtYmVyJykgcmV0dXJuIGAke2ZpbGUgPyBmaWxlICsgJzonIDogJyd9JHtsb2MubGluZX0ke3R5cGVvZiBsb2MuY29sID09ICdudW1iZXInID8gJzonICsgbG9jLmNvbCA6ICcnfWA7CiAgICByZXR1cm4gYCR7ZmlsZSA/IGZpbGUgOiAnJ31AJHtsb2Mub2Zmc2V0fWA7CiAgfQp9Cgpjb25zdCBUeXBlTWFwID0gd2Vha01hcHBlcihub2RlID0+IG5ldyBUeXBlKG5vZGUpKTsKCmZ1bmN0aW9uIFN0cnVjdHMobm9kZXMpIHsKICByZXR1cm4gbm9kZXMKICAgIC5maWx0ZXIobm9kZSA9PiBub2RlLmlubmVyICYmIG5vZGUuaW5uZXIuc29tZShmaWVsZCA9PiBmaWVsZC5raW5kID09ICdGaWVsZERlY2wnKSkKICAgIC5tYXAobm9kZSA9PiBbCiAgICAgIC8vZGVlcC5maW5kKG5vZGUsIG4gPT4gdHlwZW9mIG4ubGluZSA9PSAnbnVtYmVyJyksCiAgICAgIG5ldyBMb2NhdGlvbihHZXRMb2Mobm9kZSkpLAogICAgICAoKG5vZGUudGFnVXNlZCA/IG5vZGUudGFnVXNlZCArICcgJyA6ICcnKSArIChub2RlLm5hbWUgPz8gJycpKS50cmltKCksCiAgICAgIG5ldyBNYXAobm9kZS5pbm5lci5tYXAoKGZpZWxkLCBpKSA9PiAoL0F0dHIvLnRlc3QoZmllbGQua2luZCkgPyBbU3ltYm9sKGZpZWxkLmtpbmQpLCBmaWVsZC5pZF0gOiBbZmllbGQubmFtZSB8fCBpLCAoZmllbGQudHlwZSAmJiBUeXBlRmFjdG9yeShmaWVsZC50eXBlKSkgfHwgZmllbGQua2luZF0pKSksCiAgICBdKTsKICAvKi5tYXAobm9kZSA9PiB0eXBlcyhub2RlKSkqLwp9CgpmdW5jdGlvbiBUYWJsZShsaXN0LCBwcmVkID0gKG4sIGwpID0+IHRydWUpIHsKICBsZXQgZW50cmllcyA9IFsuLi5saXN0XS5tYXAoKG4sIGkpID0+IChuID8gW2ksIExvY2F0aW9uU3RyaW5nKEdldExvYyhuKSksIG5dIDogdW5kZWZpbmVkKSkuZmlsdGVyKGUgPT4gZSk7CiAgbGV0IHR5cGVLZXkgPSAna2luZCcgaW4gbGlzdFswXSA/ICdraW5kJyA6ICd0eXBlJzsKICBsZXQga2V5cyA9IFsnaWQnLCB0eXBlS2V5LCAnbmFtZSddLmZpbHRlcihrID0+ICEhayk7CiAgbGV0IGl0ZW1zID0gZW50cmllcy5maWx0ZXIoKFtpLCBsLCBuXSkgPT4gcHJlZChuLCBsKSk7CiAgY29uc3QgZmlyc3QgPSBpdGVtc1swXVsyXTsKCiAgaWYoL0Z1bmN0aW9uLy50ZXN0KGZpcnN0W3R5cGVLZXldKSkgewogICAga2V5cyA9IFsKICAgICAgLi4ua2V5cywKICAgICAgZnVuY3Rpb24gcmV0dXJuVHlwZShuKSB7CiAgICAgICAgaWYobi50eXBlICYmIHR5cGVvZiBuLnR5cGUgPT0gJ29iamVjdCcpIHsKICAgICAgICAgIGNvbnN0IHsgcXVhbFR5cGUgfSA9IG4udHlwZTsKICAgICAgICAgIHJldHVybiBxdWFsVHlwZS5yZXBsYWNlKC9ccypcKC4qJC9nLCAnJyk7CiAgICAgICAgfQogICAgICAgIGlmKG5bdHlwZUtleV0pIHJldHVybiBuW3R5cGVLZXldOwogICAgICB9LAogICAgICBmdW5jdGlvbiBudW1BcmdzKG4pIHsKICAgICAgICBsZXQgcGFyYW1zID0gR2V0UGFyYW1zKG4pOwogICAgICAgIHJldHVybiBwYXJhbXMgPyBwYXJhbXMubGVuZ3RoIDogdW5kZWZpbmVkOwogICAgICB9LAogICAgICBmdW5jdGlvbiBQYXJhbXMobikgewogICAgICAgIGxldCBwYXJhbXMgPSBHZXRQYXJhbXMobik7CiAgICAgICAgcmV0dXJuIHBhcmFtcyA/IHBhcmFtcy5tYXAocCA9PiBQcmludEFzdChwKSkuam9pbignLCcpIDogdW5kZWZpbmVkOwogICAgICB9LAogICAgXTsKICB9CiAga2V5cyA9IFsnbicsIC4uLmtleXMsICdsb2NhdGlvbiddOwogIGNvbnN0IG5hbWVzID0ga2V5cy5tYXAoayA9PiAodHlwZW9mIGsgPT0gJ2Z1bmN0aW9uJyA/IGsubmFtZSA6IGspKTsKICBsZXQgcm93cyA9IGl0ZW1zLm1hcCgoW2ksIGwsIG5dKSA9PiBPYmplY3QuZnJvbUVudHJpZXMoW1snbicsIGldLCAuLi5rZXlzLnNsaWNlKDEsIC0xKS5tYXAoKGssIGopID0+IFtuYW1lc1tqICsgMV0sICh0eXBlb2YgayA9PSAnc3RyaW5nJyA/IG5ba10gOiBrKG4pKSA/PyAnJ10pLCBbJ2xvY2F0aW9uJywgbF1dKSk7CiAgbGV0IHNpemVzID0ge307CgogIGZvcihsZXQgcm93IG9mIHJvd3MpIHsKICAgIGZvcihsZXQgW2osIGldIG9mIG5hbWVzLmVudHJpZXMoKSkgewogICAgICBjb25zdCBjb2wgPSByb3dbaV0gKyAnJzsKICAgICAgaWYoKHNpemVzW2ldID8/IDApIDwgY29sLmxlbmd0aCkgc2l6ZXNbaV0gPSBjb2wubGVuZ3RoOwogICAgfQogIH0KCiAgbGV0IHdpZHRoID0gbmFtZXMucmVkdWNlKChhY2MsIG5hbWUpID0+IChhY2MgPyBhY2MgKyAzICsgc2l6ZXNbbmFtZV0gOiBzaXplc1tuYW1lXSksIDApOwogIGlmKHdpZHRoID4gcmVwbC50ZXJtV2lkdGgpIHNpemVzWydQYXJhbXMnXSAtPSB3aWR0aCAtIHJlcGwudGVybVdpZHRoOwoKICBmdW5jdGlvbiBwYWRUcnVuYyhsZW4sIHBhZCA9ICcgJykgewogICAgbGV0IG0gPSAncGFkJyArIChsZW4gPj0gMCA/ICdFbmQnIDogJ1N0YXJ0Jyk7CiAgICBsZW4gPSBNYXRoLmFicyhsZW4pOwoKICAgIHJldHVybiBzID0+IHsKICAgICAgcyA9IHMgKyAnJzsKICAgICAgcmV0dXJuIHMubGVuZ3RoID4gbGVuID8gcy5zbGljZSgwLCBsZW4pIDogc1ttXShsZW4sIHBhZCk7CiAgICB9OwogIH0KCiAgY29uc3QgdHJ1bmMgPSBuYW1lcy5tYXAoKG5hbWUsIGkpID0+IHBhZFRydW5jKChpID09IDAgPyAtMSA6IDEpICogc2l6ZXNbbmFtZV0pKTsKICBjb25zdCBwYWQgPSAoY29scywgcGFkLCBzZXApID0+IHsKICAgIGlmKCFBcnJheS5pc0FycmF5KGNvbHMpKSBjb2xzID0gbmFtZXMubWFwKChrZXksIGkpID0+IGNvbHNba2V5XSk7CiAgICByZXR1cm4gY29scwogICAgICAubWFwKChzLCBjb2wpID0+IHRydW5jW2NvbF0ocywgcGFkKSkKICAgICAgLmpvaW4oc2VwID8/ICcg4pSCICcpCiAgICAgIC50cmltRW5kKCk7CiAgfTsKCiAgcmV0dXJuICgKICAgIHBhZChuYW1lcykgKwogICAgJ1xuJyArCiAgICBwYWQoCiAgICAgIG5hbWVzLnJlZHVjZSgoYWNjLCBuKSA9PiAoeyAuLi5hY2MsIFtuXTogJycgfSksIHt9KSwKICAgICAgJ+KUgCcsCiAgICAgICfilIDilLzilIAnLAogICAgKSArCiAgICAnXG4nICsKICAgIHJvd3MucmVkdWNlKChhY2MsIHJvdykgPT4gewogICAgICByZXR1cm4gYWNjICsgcGFkKHJvdykuc2xpY2UoMCwgcmVwbC5jb2x1bW5zKSArICdcbic7CiAgICB9LCAnJykKICApOwp9CgpmdW5jdGlvbiBQcmludFJhbmdlKHJhbmdlLCBmaWxlKSB7CiAgaWYoJ3JhbmdlJyBpbiByYW5nZSkgcmFuZ2UgPSByYW5nZS5yYW5nZTsKCiAgY29uc3QgeyBiZWdpbiwgZW5kIH0gPSByYW5nZTsKCiAgZmlsZSA/Pz0gYmVnaW4uZmlsZSA/PyAkLnNvdXJjZTsKCiAgbGV0IGRhdGEgPSBSZWFkRmlsZShmaWxlLCAndXRmLTgnKTsKICByZXR1cm4gZGF0YSA/IGRhdGEuc2xpY2UoYmVnaW4ub2Zmc2V0LCBlbmQub2Zmc2V0ICsgKGVuZC50b2tMZW4gfCAwKSkgOiBudWxsOwp9CgpmdW5jdGlvbiBPdmVybGFwUmFuZ2UocjEsIHIyKSB7CiAgY29uc3QgR2V0UmFuZ2UgPSByID0+IFtyLmJlZ2luLm9mZnNldCwgci5lbmQub2Zmc2V0ICsgKHIuZW5kLnRva0xlbiB8IDApXTsKICBjb25zdCBJblJhbmdlID0gKGksIHIpID0+IGkgPj0gclswXSAmJiBpIDwgclsxXTsKCiAgcjEgPSBHZXRSYW5nZShyMSk7CiAgcjIgPSBHZXRSYW5nZShyMik7CgogIGlmKEluUmFuZ2UocjFbMF0sIHIyKSB8fCBJblJhbmdlKHIxWzFdLCByMikpIHJldHVybiB0cnVlOwogIGlmKEluUmFuZ2UocjJbMF0sIHIxKSB8fCBJblJhbmdlKHIyWzFdLCByMSkpIHJldHVybiB0cnVlOwoKICByZXR1cm4gZmFsc2U7Cn0KCmZ1bmN0aW9uIFBhcmVudE5vZGUobm9kZSwgYXN0ID0gJC5kYXRhKSB7CiAgbGV0IHAgPSBQYXRoT2Yobm9kZSwgYXN0KTsKCiAgcmV0dXJuIHAudXAoMikuZGVyZWYoYXN0KTsKfQoKZnVuY3Rpb24gTmV4dFNpYmxpbmcobm9kZSwgYXN0ID0gJC5kYXRhKSB7CiAgbGV0IHAgPSBQYXRoT2Yobm9kZSwgYXN0KTsKICBwW3AubGVuZ3RoIC0gMV0gKz0gMTsKCiAgcmV0dXJuIHAuZGVyZWYoYXN0KTsKfQoKZnVuY3Rpb24gUHJldmlvdXNTaWJsaW5nKG5vZGUsIGFzdCA9ICQuZGF0YSkgewogIGxldCBwID0gUGF0aE9mKG5vZGUsIGFzdCk7CiAgcFtwLmxlbmd0aCAtIDFdICs9IDE7CiAgcmV0dXJuIHAuZGVyZWYoYXN0KTsKfQoKZnVuY3Rpb24gRmlyc3RDaGlsZChub2RlLCBhc3QgPSAkLmRhdGEpIHsKICByZXR1cm4gUGF0aE9mKG5vZGUsIGFzdCkuZG93bignaW5uZXInLCAwKS5kZXJlZihhc3QpOwp9CgpmdW5jdGlvbiBMYXN0Q2hpbGQobm9kZSwgYXN0ID0gJC5kYXRhKSB7CiAgbGV0IGEgPSBQYXRoT2Yobm9kZSwgYXN0KS5kb3duKCdpbm5lcicpLmRlcmVmKGFzdCk7CiAgcmV0dXJuIGFbYS5sZW5ndGggLSAxXTsKfQoKZnVuY3Rpb24gVGVybWluYXRlKGV4aXRDb2RlKSB7CiAgY29uc29sZS5sb2coJ1Rlcm1pbmF0ZScsIGV4aXRDb2RlKTsKCiAgZXhpdChleGl0Q29kZSk7Cn0KCmZ1bmN0aW9uIFBhcnNlU3RydWN0cyh0ZXh0KSB7CiAgY29uc3QgcmUgPSAvKFteXG5dKilccj9cbi9nbXk7CiAgbGV0IGxpbmUsCiAgICBmaWVsZHMsCiAgICBzdHJ1Y3RzID0gW107CgogIHdoaWxlKChsaW5lID0gcmUuZXhlYyh0ZXh0KSkpIHsKICAgIGlmKC9eXHMqJC9nLnRlc3QobGluZVsxXSkpIGNvbnRpbnVlOwogICAgbGV0IGNvbHVtbnMgPSBsaW5lWzFdLnNwbGl0KC9ccysvZyk7CgogICAgaWYoaXNOYU4oK2NvbHVtbnNbMV0pKSBjb250aW51ZTsKCiAgICBsZXQgW25hbWVdID0gY29sdW1uczsKCiAgICBpZihmaWVsZHMgJiYgbmFtZVswXSA9PSAnLicpIHsKICAgICAgbGV0IFssIG9mZnNldCwgc2l6ZV0gPSBjb2x1bW5zOwogICAgICBmaWVsZHMucHVzaChbbmFtZSwgK29mZnNldCwgK3NpemVdKTsKICAgIH0gZWxzZSB7CiAgICAgIHN0cnVjdHMucHVzaChbbmFtZSwgeyBzaXplOiArY29sdW1uc1sxXSwgZmllbGRzOiAoZmllbGRzID0gW10pIH1dKTsKICAgIH0KICB9CgogIHJldHVybiBuZXcgTWFwKHN0cnVjdHMpOwp9Cgpjb25zdCBHZW5lcmF0ZUluc3BlY3RTdHJ1Y3QgPSBTdHJpbmdHZW5lcmF0b3IoZnVuY3Rpb24qIChkZWNsLCBpbmNsdWRlcykgewogIGxldCB7IG5hbWUsIG1lbWJlcnMgfSA9IGRlY2w7CgogIGluY2x1ZGVzID8/PSBbZGVjbC5sb2MuZmlsZS5yZXBsYWNlKC9eXC91c3JcL2luY2x1ZGVcLy8sICcnKV07CgogIC8vY29uc29sZS5sb2coJ0dlbmVyYXRlSW5zcGVjdFN0cnVjdCcsIHsgbmFtZSwgbWVtYmVycywgaW5jbHVkZXMgfSk7CgogIHlpZWxkICcjaW5jbHVkZSA8c3RkaW8uaD4nOwogIHlpZWxkICcjaW5jbHVkZSA8c3RkZGVmLmg+JzsKCiAgaWYoTWVtYmVyTmFtZXMobWVtYmVycykuc29tZShuYW1lID0+IC86Ly50ZXN0KG5hbWUpKSkKICAgIHlpZWxkIGAKc2l6ZV90CmJ5dGVfZmlyc3Rub3QoY29uc3Qgdm9pZCogcCwgc2l6ZV90IGxlbiwgdW5zaWduZWQgY2hhciB2KSB7CiAgY29uc3QgdW5zaWduZWQgY2hhciogeDsKICBmb3IoeCA9IHA7IGxlbjsgbGVuLS0sIHgrKykKICAgIGlmKCp4ICE9IHYpIGJyZWFrOwogIHJldHVybiB4IC0gKGNvbnN0IHVuc2lnbmVkIGNoYXIqKXA7Cn0KCnNpemVfdApieXRlX2xhc3Rub3QoY29uc3Qgdm9pZCogcCwgc2l6ZV90IGxlbiwgdW5zaWduZWQgY2hhciB2KSB7CiAgY29uc3QgdW5zaWduZWQgY2hhciogeDsKICBmb3IoeCA9IChjb25zdCB1bnNpZ25lZCBjaGFyKilwICsgbGVuIC0gMTsgbGVuOyBsZW4tLSwgeC0tKQogICAgaWYoKnggIT0gdikgYnJlYWs7CiAgcmV0dXJuIHggLSAoY29uc3QgdW5zaWduZWQgY2hhciopcDsKfQoKc2l6ZV90CmJpdF9maXJzdG5vdCh1bnNpZ25lZCBjaGFyIHYsIHVuc2lnbmVkIGNoYXIgYikgewogIGludCBpOwogIGZvcihpID0gMDsgaSA8IDg7IGkrKywgdiA+Pj0gMSkgCiAgICBpZigodiAmIDEpID09ICFiKSBicmVhazsKICByZXR1cm4gaTsKfQoKc2l6ZV90CmJpdF9sYXN0bm90KHVuc2lnbmVkIGNoYXIgdiwgdW5zaWduZWQgY2hhciBiKSB7CiAgaW50IGk7CiAgZm9yKGkgPSA3OyBpID49IDA7IGktLSkgCiAgICBpZighISh2ICYgKDEgPDwgaSkpID09ICFiKSBicmVhazsKICByZXR1cm4gaSA+PSAwID8gaSA6IDg7Cn0KCnNpemVfdApmaXJzdG5vdChjb25zdCB2b2lkKiBwLCBzaXplX3QgbGVuLCB1bnNpZ25lZCBjaGFyIHYpIHsKIGNvbnN0IGNoYXIqIHggPSBwOwogc2l6ZV90IGkgPSBieXRlX2ZpcnN0bm90KHAsIGxlbiwgdik7CiByZXR1cm4gaSAqIDggKyBiaXRfZmlyc3Rub3QoeFtpXSwgdik7Cn0KCnNpemVfdApsYXN0bm90KGNvbnN0IHZvaWQqIHAsIHNpemVfdCBsZW4sIHVuc2lnbmVkIGNoYXIgdikgewogY29uc3QgdW5zaWduZWQgY2hhciogeCA9IHA7CiBzaXplX3QgaSA9IGJ5dGVfbGFzdG5vdChwLCBsZW4sIHYpOwogcmV0dXJuIGkgKiA4ICsgYml0X2xhc3Rub3QoeFtpXSwgdik7Cn0KCnNpemVfdApiaXRzaXplKGNvbnN0IHZvaWQqIHAsIHNpemVfdCBsZW4pIHsKIHJldHVybiBsYXN0bm90KHAsIGxlbiwgMHhmZikgKyAxIC0gZmlyc3Rub3QocCwgbGVuLCAweGZmKTsKfQoKYDsKCiAgZm9yKGxldCBpbmNsdWRlIG9mIGluY2x1ZGVzKSB5aWVsZCBgI2luY2x1ZGUgIiR7aW5jbHVkZX0iYDsKICB5aWVsZCBgJHtuYW1lfSBzdmFyO2A7CiAgeWllbGQgYGludCBtYWluKCkge2A7CiAgeWllbGQgYCAgcHJpbnRmKCIke25hbWV9ICV6dVxcbiIsIHNpemVvZihzdmFyKSAqIDgpO2A7CgogIGZvcihsZXQgbWVtYmVyIG9mIE1lbWJlck5hbWVzKG1lbWJlcnMpKSB7CiAgICBpZih0cnVlIC8qKHR5cGUgPT0gbnVsbCB8fCB0eXBlb2YgdHlwZS5zaXplID09ICdudW1iZXInKSAmJiBtZW1iZXIgIT0gdW5kZWZpbmVkKi8pIHsKICAgICAgbGV0IGZpZWxkID0gbWVtYmVyLnJlcGxhY2UoLzouKi8sICcnKTsKICAgICAgaWYoLzovLnRlc3QobWVtYmVyKSkgewogICAgICAgIHlpZWxkIGAKICBtZW1zZXQoJnN2YXIsIDB4ZmYsIHNpemVvZihzdmFyKSk7CiAgc3Zhci4ke2ZpZWxkfSA9IDA7CiAgcHJpbnRmKCIuJHtmaWVsZH0gJXp1ICV6aVxcbiIsIGZpcnN0bm90KCZzdmFyLCBzaXplb2Yoc3ZhciksIDB4ZmYpLCBiaXRzaXplKCZzdmFyLCBzaXplb2Yoc3ZhcikpKTtgOwogICAgICB9IGVsc2UgewogICAgICAgIHlpZWxkIGAgIHByaW50ZigiLiR7ZmllbGR9ICV6dSAlenVcXG4iLCBvZmZzZXRvZigke25hbWV9LCAke2ZpZWxkfSkgKiA4LCBzaXplb2Yoc3Zhci4ke2ZpZWxkfSkgKiA4KTtgOwogICAgICB9CiAgICB9CiAgfQoKICB5aWVsZCBgICByZXR1cm4gMDtgOwogIHlpZWxkIGB9YDsKfSk7CgpmdW5jdGlvbiBJbnNwZWN0U3RydWN0KGRlY2wsIGluY2x1ZGVzLCBjb21waWxlciA9ICdjbGFuZycpIHsKICBpZih0eXBlb2YgZGVjbCA9PSAnc3RyaW5nJykgewogICAgbGV0IG5hbWUgPSAoZGVjbC5pbmRleE9mKCcgJykgIT0gLTEgPyAnJyA6ICdzdHJ1Y3QgJykgKyBkZWNsOwogICAgZGVjbCA9IFR5cGUuZ2V0KG5hbWUsICQuZGF0YSk7CiAgICBkZWNsID8/PSAkLmdldFR5cGUobmFtZSk7CiAgICBkZWNsLm5hbWUgPSBuYW1lOwogIH0KICBjb25zb2xlLmxvZygnSW5zcGVjdFN0cnVjdCcsIGRlY2wpOwoKICBjb25zdCBjb2RlID0gWy4uLkdlbmVyYXRlSW5zcGVjdFN0cnVjdChkZWNsLCBpbmNsdWRlcyldLmpvaW4oJ1xuJyk7CiAgY29uc3QgcHJvZ3JhbSA9IGAvdG1wL2luc3BlY3QtJHtkZWNsLm5hbWUucmVwbGFjZSgvIC9nLCAnXycpfWA7CiAgV3JpdGVGaWxlKHByb2dyYW0gKyAnLmMnLCBjb2RlKTsKCiAgbGV0IGNvbW1hbmQgPSBbY29tcGlsZXIsICctTzInLCAnLWcnLCAnLXcnLCAnLW8nLCBwcm9ncmFtLCBwcm9ncmFtICsgJy5jJywgLi4uZmxhZ3NdOwogIGNvbnNvbGUubG9nKCdJbnNwZWN0U3RydWN0JywgeyBjb21tYW5kOiBjb21tYW5kLmpvaW4oJyAnKSB9KTsKCiAgbGV0IHJlc3VsdCA9IG9zLmV4ZWMoY29tbWFuZCk7CgogIGlmKHJlc3VsdCA9PSAwKSB7CiAgICBsZXQgW2ZkLCBzdGRvdXRdID0gb3MucGlwZSgpOwoKICAgIG9zLmV4ZWMoWyhwcm9ncmFtLnN0YXJ0c1dpdGgoJy8nKSA/ICcnIDogYC4vYCkgKyBwcm9ncmFtXSwgeyBzdGRvdXQgfSk7CiAgICBsZXQgb3V0cHV0ID0gZnMucmVhZEFsbChmZCk7CgogICAgbGV0IGxpbmVzID0gb3V0cHV0LnRyaW0oKS5zcGxpdCgnXG4nKTsKICAgIGxldCBmaXJzdExpbmUgPSBsaW5lcy5zaGlmdCgpOwoKICAgIGxldCBbbmFtZSwgc2l6ZV0gPSBbLi4uc3BsaXQoZmlyc3RMaW5lLCBbLi4uZmlyc3RMaW5lXS5sYXN0SW5kZXhPZignICcpKV07CgogICAgbmFtZSA9IG5hbWUucmVwbGFjZSgvXihzdHJ1Y3R8dW5pb258ZW51bSlcIC8sICcnKTsKCiAgICAvL2NvbnNvbGUubG9nKCJsaW5lczoiLCBsaW5lcyk7CiAgICByZXN1bHQgPSBsaW5lcwogICAgICAubWFwKGxpbmUgPT4gKHR5cGVvZiBsaW5lID09ICdzdHJpbmcnID8gbGluZS5zcGxpdCgnICcpIDogbGluZSkpCiAgICAgIC5tYXAobGluZSA9PiBsaW5lLm1hcCgoY29sLCBpKSA9PiAoaXNOYU4oK2NvbCkgPyBjb2wgOiArY29sKSkpCiAgICAgIC5tYXAoKFtmaWVsZCwgb2Zmc2V0LCBzaXplXSkgPT4gW2ZpZWxkLnJlcGxhY2UoLzouKi8sICcnKS5yZXBsYWNlKC9eXC4vLCBuYW1lICsgJy4nKSwgb2Zmc2V0LCBzaXplXSk7CgogICAgbGV0IGVuZCA9IDA7CiAgICByZXN1bHQgPSByZXN1bHQucmVkdWNlKChhY2MsIGxpbmUpID0+IHsKICAgICAgaWYoYWNjLmxlbmd0aCkgewogICAgICAgIGlmKGVuZCA8IGFjYy5sYXN0WzFdICsgYWNjLmxhc3RbMl0pIGVuZCA9IGFjYy5sYXN0WzFdICsgYWNjLmxhc3RbMl07CgogICAgICAgIGlmKGVuZCA8IGxpbmVbMV0pIGFjYy5wdXNoKFtudWxsLCBlbmQsIGxpbmVbMV0gLSBlbmRdKTsKICAgICAgfQogICAgICBhY2MucHVzaChsaW5lKTsKICAgICAgcmV0dXJuIGFjYzsKICAgIH0sIFtdKTsKCiAgICByZXN1bHQudW5zaGlmdChbbmFtZSwgJy0nLCArc2l6ZV0pOwoKICAgIGRlZmluZShyZXN1bHQsIHsKICAgICAgdG9TdHJpbmcoc2VwID0gJyAnKSB7CiAgICAgICAgcmV0dXJuIHRoaXMubWFwKGxpbmUgPT4gbGluZS5qb2luKHNlcCkucmVwbGFjZSgnLicsICcgJykpLmpvaW4oJ1xuJyk7CiAgICAgIH0sCiAgICB9KTsKICB9CgogIHJldHVybiByZXN1bHQ7Cn0KCmZ1bmN0aW9uIFJvdW5kVG8odmFsdWUsIGFsaWduKSB7CiAgcmV0dXJuIE1hdGguZmxvb3IoKHZhbHVlICsgKGFsaWduIC0gMSkpIC8gYWxpZ24pICogYWxpZ247Cn0KCmZ1bmN0aW9uIE1ha2VTdHJ1Y3RDbGFzcyhkZWNsLCBmaWxlbmFtZSkgewogIGxldCBjb2RlID0gWy4uLkdlbmVyYXRlU3RydWN0Q2xhc3MoZGVjbCldLmpvaW4oJ1xuJyk7CgogIFdyaXRlRmlsZSgoZmlsZW5hbWUgPz8gZGVjbC5uYW1lLnJlcGxhY2UoL1teQS1aYS16MC05X10vZywgJy0nKSkgKyAnLmpzJywgY29kZSk7CgogIGlmKCFmaWxlbmFtZSkgcmV0dXJuIGNvZGU7Cn0KCmZ1bmN0aW9uKiBHZW5lcmF0ZVN0cnVjdENsYXNzKGRlY2wsIGZmaVByZWZpeCA9ICcnKSB7CiAgbGV0IG5hbWU7CgogIGlmKGRlY2wgaW5zdGFuY2VvZiBUeXBlZGVmRGVjbCkgewogICAgbmFtZSA9IGRlY2wubmFtZTsKICAgIGRlY2wgPSBkZWNsLnR5cGU7CiAgfQoKICBsZXQgeyBzaXplLCBtZW1iZXJzID0gW10gfSA9IGRlY2w7CiAgbmFtZSA/Pz0gZGVjbC5uYW1lOwoKICBsZXQgY2xhc3NOYW1lID0gbmFtZS5yZXBsYWNlKC9zdHJ1Y3RccyovLCAnJyk7CgogIHlpZWxkIGBjbGFzcyAke2NsYXNzTmFtZX0gZXh0ZW5kcyBBcnJheUJ1ZmZlciB7YDsKICB5aWVsZCBgICBjb25zdHJ1Y3RvcihvYmogPSB7fSkge1xuICAgIHN1cGVyKCR7c2l6ZX0pO1xuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb2JqKTtcbiAgfWA7CiAgeWllbGQgYCAgZ2V0IFtTeW1ib2wudG9TdHJpbmdUYWddKCkgeyByZXR1cm4gXGBbJHtuYW1lfSBAIFwke3RoaXN9IF1cYDsgfWA7CgogIGxldCBmaWVsZHMgPSBbXSwKICAgIG9mZnNldCA9IDA7CgogIGNvbnNvbGUubG9nKCdHZW5lcmF0ZVN0cnVjdENsYXNzJywgeyBkZWNsLCBtZW1iZXJzIH0pOwoKICBmb3IobGV0IFtuYW1lLCB0eXBlXSBvZiBtZW1iZXJzKSB7CiAgICBpZigvcmVzZXJ2ZWQvLnRlc3QobmFtZSkpIGNvbnRpbnVlOwoKICAgIGlmKHR5cGUuc2l6ZSA9PSA4KSBvZmZzZXQgPSBSb3VuZFRvKG9mZnNldCwgOCk7CiAgICBsZXQgZGVzdWdhcmVkID0gdHlwZS5kZXN1Z2FyZWQgJiYgdHlwZS5kZXN1Z2FyZWQgIT0gdHlwZSA/IGAgKCR7dHlwZS5kZXN1Z2FyZWR9KWAgOiAnJzsKICAgIGxldCBwb2ludGVyID0gdHlwZS5wb2ludGVyOwoKICAgIHlpZWxkICcnOwoKICAgIGxldCBzdWJzY3JpcHQgPSB0eXBlLnN1YnNjcmlwdCA/PyAnJzsKCiAgICB5aWVsZCBgICAvKiAke29mZnNldH06ICR7dHlwZX0ke2Rlc3VnYXJlZH0gJHtuYW1lfSR7c3Vic2NyaXB0fSAqL2A7CgogICAgdHJ5IHsKICAgICAgeWllbGQqIEdlbmVyYXRlR2V0U2V0KG5hbWUsIG9mZnNldCwgdHlwZSwgZmZpUHJlZml4KS5tYXAobGluZSA9PiBgICAke2xpbmV9YCk7CiAgICB9IGNhdGNoKGUpIHt9CgogICAgZmllbGRzLnB1c2gobmFtZSk7CgogICAgb2Zmc2V0ICs9IFJvdW5kVG8odHlwZS5zaXplLCA0KTsKICB9CgogIHlpZWxkICcnOwogIHlpZWxkIGAgIHN0YXRpYyBmcm9tKGFkZHJlc3MpIHtcbiAgICBsZXQgcmV0ID0gJHtmZmlQcmVmaXh9dG9BcnJheUJ1ZmZlcihhZGRyZXNzLCAke29mZnNldH0pO1xuICAgIHJldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2YocmV0LCAke2NsYXNzTmFtZX0ucHJvdG90eXBlKTtcbiAgfWA7CiAgeWllbGQgJyc7CgogIHlpZWxkIGAgIHRvU3RyaW5nKCkge1xuICAgIGNvbnN0IHsgJHtmaWVsZHMuam9pbignLCAnKX0gfSA9IHRoaXM7XG4gICAgcmV0dXJuIFxgJHtuYW1lfSB7JHtbLi4ubWVtYmVyc10KICAgIC5tYXAoKFtmaWVsZCwgbWVtYmVyXSkgPT4gJ1xcblxcdC4nICsgZmllbGQgKyAnID0gJyArIChtZW1iZXIuaXNQb2ludGVyKCkgPyAnMHgnIDogJycpICsgJyR7JyArIGZpZWxkICsgKG1lbWJlci5pc1BvaW50ZXIoKSA/ICcudG9TdHJpbmcoMTYpJyA6ICcnKSArICd9JykKICAgIC5qb2luKCcsJyl9XFxufVxgO1xuICB9YDsKICB5aWVsZCAnfSc7Cn0KCmZ1bmN0aW9uIEdlbmVyYXRlR2V0U2V0KG5hbWUsIG9mZnNldCwgdHlwZSwgZmZpUHJlZml4KSB7CiAgY29uc3QgeyBzaXplLCBzaWduZWQgfSA9IHR5cGU7CiAgY29uc3QgZmxvYXRpbmcgPSB0eXBlLmlzRmxvYXRpbmdQb2ludCgpOwogIGNvbnN0IHBvaW50ZXIgPSB0eXBlLmdldFBvaW50ZXIoJC5kYXRhKTsKCiAgbGV0IGN0b3IgPSBCeXRlTGVuZ3RoMlR5cGVkQXJyYXkoc2l6ZSwgc2lnbmVkLCBmbG9hdGluZyk7CiAgbGV0IHRvSGV4ID0gdiA9PiB2OwoKICBpZih0eXBlLmlzUG9pbnRlcigpKSB0b0hleCA9IHYgPT4gYCcweCcrJHt2fS50b1N0cmluZygxNilgOwoKICBjb25zdCBhID0gW107CgogIGlmKHBvaW50ZXIpIHsKICAgIGNvbnN0IHsgbmFtZSwgc2l6ZSwgc2lnbmVkLCBkZXN1Z2FyZWQgfSA9IHBvaW50ZXI7CiAgICBhLnVuc2hpZnQoYC8qICR7bmFtZX0ke2Rlc3VnYXJlZCA/IGAgKCR7ZGVzdWdhcmVkfSlgIDogJyd9ICR7c2l6ZX0gJHtzaWduZWR9ICovYCk7CiAgICBjb25zb2xlLmxvZygnR2VuZXJhdGVTdHJ1Y3RDbGFzcycsIHsgcG9pbnRlciB9KTsKICB9CgogIHJldHVybiBbCiAgICAuLi5hLAogICAgYHNldCAke25hbWV9KHZhbHVlKSB7IGlmKHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPSBudWxsICYmIHZhbHVlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHZhbHVlID0gJHtmZmlQcmVmaXh9dG9Qb2ludGVyKHZhbHVlKTsgbmV3ICR7Y3Rvcn0odGhpcywgJHtvZmZzZXR9KVswXSA9ICR7Qnl0ZUxlbmd0aDJWYWx1ZSgKICAgICAgc2l6ZSwKICAgICAgc2lnbmVkLAogICAgICBmbG9hdGluZywKICAgICl9OyB9YCwKICAgIGBnZXQgJHtuYW1lfSgpIHsgcmV0dXJuICR7dG9IZXgoYG5ldyAke2N0b3J9KHRoaXMsICR7b2Zmc2V0fSlbMF1gKX07IH1gLAogIF07Cn0KCmZ1bmN0aW9uIEJ5dGVMZW5ndGgyVHlwZWRBcnJheShieXRlTGVuZ3RoLCBzaWduZWQsIGZsb2F0aW5nKSB7CiAgaWYoZmxvYXRpbmcpIHsKICAgIHN3aXRjaCAoYnl0ZUxlbmd0aCkgewogICAgICBjYXNlIDQ6CiAgICAgICAgcmV0dXJuICdGbG9hdDMyQXJyYXknOwogICAgICBjYXNlIDg6CiAgICAgICAgcmV0dXJuICdGbG9hdDY0QXJyYXknOwogICAgICBkZWZhdWx0OgogICAgICAgIHRocm93IG5ldyBFcnJvcihgRmxvYXRpbmcgcG9pbnQsIGJ1dCAke2J5dGVMZW5ndGh9IHNpemVgKTsKICAgIH0KICB9CgogIHN3aXRjaCAoYnl0ZUxlbmd0aCkgewogICAgY2FzZSAxOgogICAgICByZXR1cm4gc2lnbmVkID8gJ0ludDhBcnJheScgOiAnVWludDhBcnJheSc7CiAgICBjYXNlIDI6CiAgICAgIHJldHVybiBzaWduZWQgPyAnSW50MTZBcnJheScgOiAnVWludDE2QXJyYXknOwogICAgY2FzZSA0OgogICAgICByZXR1cm4gc2lnbmVkID8gJ0ludDMyQXJyYXknIDogJ1VpbnQzMkFycmF5JzsKICAgIGNhc2UgODoKICAgICAgcmV0dXJuIGZsb2F0aW5nID8gJ0Zsb2F0NjRBcnJheScgOiBzaWduZWQgPyAnQmlnSW50NjRBcnJheScgOiAnQmlnVWludDY0QXJyYXknOwogICAgZGVmYXVsdDoKICAgICAgcmV0dXJuIHNpZ25lZCA/ICdJbnQ4QXJyYXknIDogJ1VpbnQ4QXJyYXknOwogIH0KfQoKZnVuY3Rpb24gQnl0ZUxlbmd0aDJWYWx1ZShieXRlTGVuZ3RoLCBzaWduZWQsIGZsb2F0aW5nKSB7CiAgaWYoYnl0ZUxlbmd0aCA9PSA4ICYmICFmbG9hdGluZykgcmV0dXJuICdCaWdJbnQodmFsdWUpJzsKICByZXR1cm4gJ3ZhbHVlJzsKfQoKZXhwb3J0IGNsYXNzIEZGSV9GdW5jdGlvbiB7CiAgY29uc3RydWN0b3Iobm9kZSwgcHJlZml4ID0gJycpIHsKICAgIGNvbnN0IHsgbmFtZSwgcmV0dXJuVHlwZSA9ICd2b2lkJywgcGFyYW1ldGVycyA9IFtdIH0gPSBub2RlOwoKICAgIC8vY29uc29sZS5sb2coJ0ZGSV9GdW5jdGlvbi5jb25zdHJ1Y3RvcicsIG5vZGUsIHsgbmFtZSwgcGFyYW1ldGVycyB9KTsKCiAgICB0aGlzLm5hbWUgPSBuYW1lOwogICAgdGhpcy5wcmVmaXggPSBwcmVmaXg7CiAgICB0aGlzLnJldHVyblR5cGUgPSByZXR1cm5UeXBlLmZmaTsKICAgIHRoaXMucGFyYW1ldGVycyA9IFsuLi4ocGFyYW1ldGVycyB8fCBbXSldLm1hcCgoW25hbWUsIHR5cGVdLCBpZHgpID0+IFtuYW1lID8/IGBhcmcke2lkeCArIDF9YCwgdHlwZS5mZmldKTsKICB9CgogIGdlbmVyYXRlRGVmaW5lKGZwLCBsaWIpIHsKICAgIGNvbnN0IHsgcHJlZml4LCBuYW1lLCByZXR1cm5UeXBlLCBwYXJhbWV0ZXJzIH0gPSB0aGlzOwogICAgZnAgPz89IChuYW1lLCBsaWIpID0+IGAke3ByZWZpeH1kbHN5bSgke2xpYiA/PyAnUlRMRF9ERUZBVUxUJ30sICcke25hbWV9JylgOwogICAgbGV0IGNvZGUgPSBgJyR7bmFtZX0nLCAke2ZwKG5hbWUsIGxpYil9LCBudWxsLCAnJHtyZXR1cm5UeXBlfSdgOwogICAgY29uc3QgY29sb3JUZXh0ID0geCA9PiB4OwoKICAgIC8vY29uc29sZS5sb2coJ2Z1bmN0aW9uJywgY29sb3JUZXh0KG5hbWUsIDEsIDMzKSwgJ3JldHVyblR5cGU6JywgY29sb3JUZXh0KHJldHVyblR5cGUsIDEsIDMxKSk7CgogICAgbGV0IHBhcmFtSW5kZXggPSAwOwoKICAgIGZvcihsZXQgW3BhcmFtTmFtZSwgdHlwZV0gb2YgcGFyYW1ldGVycykgewogICAgICArK3BhcmFtSW5kZXg7CgogICAgICAvL2NvbnNvbGUubG9nKGBwYXJhbSAjJHtwYXJhbUluZGV4fWAsIC4uLihwYXJhbU5hbWUgPyBbJ25hbWU6JywgcGFyYW1OYW1lXSA6IFtdKSwgJ3R5cGU6JywgdHlwZSk7CgogICAgICBjb2RlICs9ICcsICc7CiAgICAgIGNvZGUgKz0gYCcke3R5cGV9J2A7CiAgICB9CiAgICByZXR1cm4gYCR7cHJlZml4fWRlZmluZSgke2NvZGV9KTtgOwogIH0KCiAgZ2VuZXJhdGVEb2MoKSB7CiAgICBjb25zdCB7IHByZWZpeCwgbmFtZSwgcmV0dXJuVHlwZSwgcGFyYW1ldGVycyB9ID0gdGhpczsKICAgIGNvbnN0IGxpbmVzID0gW107CiAgICBjb25zdCBjb2x1bW5zID0gWzEwLCAxNl07CgogICAgY29uc3QgcHVzaCA9ICguLi5hcmdzKSA9PgogICAgICBsaW5lcy5wdXNoKAogICAgICAgIFsuLi5hcmdzXQogICAgICAgICAgLm1hcChmaWVsZCA9PiAodHlwZW9mIGZpZWxkICE9ICdzdHJpbmcnID8gJycgOiBmaWVsZCkpCiAgICAgICAgICAubWFwKChmaWVsZCwgY29sKSA9PiBmaWVsZC5wYWRFbmQoY29sdW1uc1tjb2xdID8/IDApKQogICAgICAgICAgLmpvaW4oJycpLAogICAgICApOwoKICAgIHB1c2goJy8qKicpOwogICAgcHVzaChgQGZ1bmN0aW9uYCwgYCR7bmFtZX1gKTsKCiAgICBpZihwYXJhbWV0ZXJzLmxlbmd0aCkgcHVzaCgpOwoKICAgIGxldCBqcyA9IHR5cGUgPT4gewogICAgICBsZXQgdHlwZU9iaiA9IFR5cGUuZGVjbGFyYXRpb25zLmdldCh0eXBlKTsKICAgICAgcmV0dXJuIHR5cGVPYmogPyB0eXBlT2JqLnRvSlMoKSA6IHR5cGU7CiAgICB9OwoKICAgIGZvcihsZXQgW3BhcmFtTmFtZSwgdHlwZV0gb2YgcGFyYW1ldGVycykgcHVzaChgQHBhcmFtYCwgYHske2pzKHR5cGUpfX1gLCBwYXJhbU5hbWUpOwoKICAgIGlmKHJldHVyblR5cGUgIT0gJ3ZvaWQnKSB7CiAgICAgIHB1c2goKTsKICAgICAgcHVzaChgQHJldHVybmAsIGB7JHtqcyhyZXR1cm5UeXBlKX19YCk7CiAgICB9CgogICAgcmV0dXJuIGxpbmVzLmpvaW4oJ1xuICogJykgKyAnXG4gKi9cbic7CiAgfQoKICBnZW5lcmF0ZUNhbGwoKSB7CiAgICBjb25zdCB7IHByZWZpeCwgbmFtZSwgcmV0dXJuVHlwZSwgcGFyYW1ldGVycyB9ID0gdGhpczsKICAgIGNvbnN0IHBhcmFtTmFtZXMgPSBwYXJhbWV0ZXJzLm1hcCgoW25hbWUsIHR5cGVdKSA9PiBuYW1lKTsKICAgIGxldCBjb2RlID0gYGZ1bmN0aW9uICR7bmFtZX0oJHtwYXJhbU5hbWVzLmpvaW4oJywgJyl9KSB7XG5gOwoKICAgIGNvZGUgKz0gYCAgJHtyZXR1cm5UeXBlICE9ICd2b2lkJyA/ICdyZXR1cm4gJyA6ICcnfSR7cHJlZml4fWNhbGwoJyR7bmFtZX0nLCAke3BhcmFtTmFtZXMuam9pbignLCAnKX0pO1xuYDsKICAgIGNvZGUgKz0gYH1gOwoKICAgIHJldHVybiBjb2RlOwogIH0KCiAgZ2VuZXJhdGUoZnAsIGxpYiwgZXhwKSB7CiAgICByZXR1cm4gW3RoaXMuZ2VuZXJhdGVEZWZpbmUoZnAsIGxpYiksICdcbicsIGV4cCA/ICdleHBvcnQgJyA6ICcnLCB0aGlzLmdlbmVyYXRlQ2FsbCgpLCAnXG4nXS5qb2luKCcnKTsKICB9CgogIGdlbmVyYXRlRnVuY3Rpb24oZnAsIGxpYikgewogICAgY29uc3QgeyBwcmVmaXgsIG5hbWUsIHJldHVyblR5cGUsIHBhcmFtZXRlcnMgfSA9IHRoaXM7CiAgICBjb25zdCBwYXJhbU5hbWVzID0gcGFyYW1ldGVycy5tYXAoKFtuYW1lLCB0eXBlXSkgPT4gbmFtZSk7CgogICAgbGV0IGNvZGUgPSBgbmV3IEZ1bmN0aW9uKCR7cGFyYW1OYW1lcy5tYXAocCA9PiBgJyR7cH0nYCkuam9pbignLCAnKX0sIGA7CiAgICBjb2RlICs9IGAncmV0dXJuICR7cHJlZml4fWNhbGwoIiR7bmFtZX0iJHtwYXJhbU5hbWVzLm1hcChwID0+IGAsICR7cH1gKS5qb2luKCcnKX0pJyk7YDsKCiAgICByZXR1cm4gY29kZTsKICB9CgogIGNvbXBpbGVGdW5jdGlvbihmcCwgbGliKSB7CiAgICBsZXQgY29kZSA9IHRoaXMuZ2VuZXJhdGVDYWxsKGZwLCBsaWIpOwogICAgbGV0IGZuID0gbmV3IEZ1bmN0aW9uKGByZXR1cm4gJHtjb2RlfWApOwoKICAgIHJldHVybiBmbigpOwogIH0KfQoKZnVuY3Rpb24gRmRSZWFkZXIoZmQsIGJ1ZmZlclNpemUgPSAxMDI0KSB7CiAgbGV0IGJ1ZiA9IGZzLmJ1ZmZlcihidWZmZXJTaXplKTsKCiAgcmV0dXJuIG5ldyBSZXBlYXRlcihhc3luYyAocHVzaCwgc3RvcCkgPT4gewogICAgbGV0IHJldDsKCiAgICBkbyB7CiAgICAgIGxldCByID0gYXdhaXQgZnMud2FpdFJlYWQoZmQpOwogICAgICByZXQgPSBmcy5yZWFkKGZkLCBidWYpOwoKICAgICAgaWYocmV0ID4gMCkgewogICAgICAgIGxldCBkYXRhID0gYnVmLnNsaWNlKDAsIHJldCk7CiAgICAgICAgYXdhaXQgcHVzaChmcy5idWZmZXJUb1N0cmluZyhkYXRhKSk7CiAgICAgIH0KICAgIH0gd2hpbGUocmV0ID09IGJ1ZmZlclNpemUpOwoKICAgIHN0b3AoKTsKICAgIGZzLmNsb3NlKGZkKTsKICB9KTsKfQoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIENvbW1hbmRSZWFkKGFyZ3MpIHsKICBsZXQgY2hpbGQgPSBTcGF3bihhcmdzLCB7CiAgICBibG9jazogZmFsc2UsCiAgICBzdGRpbzogWydpbmhlcml0JywgJ3BpcGUnLCAnaW5oZXJpdCddLAogIH0pOwoKICBsZXQgb3V0cHV0ID0gJycsCiAgICBkb25lID0gZmFsc2UsCiAgICBidWYgPSBuZXcgQXJyYXlCdWZmZXIoMTAyNCk7CgogIGlmKHBsYXRmb3JtID09ICdxdWlja2pzJykgewogICAgbGV0IHsgZmQgfSA9IGNoaWxkLnN0ZG91dDsKCiAgICBmb3IoOzspIHsKICAgICAgMTsKICAgICAgbGV0IHI7CiAgICAgIGF3YWl0IGZzLndhaXRSZWFkKGZkKTsKICAgICAgciA9IFJlYWRPdXRwdXQoZmQpOwogICAgICBpZihyID4gMCAmJiByIDwgYnVmLmJ5dGVMZW5ndGgpIGJyZWFrOwogICAgfQoKICAgIGxldCByZXN1bHQgPSBhd2FpdCBjaGlsZC53YWl0KCk7CgogICAgcmV0dXJuIG91dHB1dC50cmltRW5kKCk7CiAgfSBlbHNlIHsKICAgIEFjcXVpcmVSZWFkZXIoY2hpbGQuc3Rkb3V0LCBhc3luYyByZWFkZXIgPT4gewogICAgICBsZXQgcjsKCiAgICAgIHdoaWxlKChyID0gYXdhaXQgcmVhZGVyLnJlYWQoKSkpIGlmKCFyLmRvbmUpIGVycm9ycyArPSByLnZhbHVlLnRvU3RyaW5nKCk7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIFJlYWRPdXRwdXQoZmQpIHsKICAgIGxldCBidWYgPSBuZXcgQXJyYXlCdWZmZXIoMTAyNCk7CiAgICBsZXQgciA9IG9zLnJlYWQoZmQsIGJ1ZiwgMCwgYnVmLmJ5dGVMZW5ndGgpOwoKICAgIG91dHB1dCArPSBmcy5idWZmZXJUb1N0cmluZyhidWYuc2xpY2UoMCwgcikpOwoKICAgIHJldHVybiByOwogIH0KfQoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIExpYnJhcnlFeHBvcnRzKGZpbGUpIHsKICBjb25zb2xlLmxvZyhgTGlicmFyeUV4cG9ydHM6YCwgZmlsZSk7CgogIGxldCBvdXRwdXQgPSBhd2FpdCBDb21tYW5kUmVhZChbJy9vcHQvZGlldC9iaW4vb2JqZHVtcCcsICctVCcsIGZpbGVdKTsKICBvdXRwdXQgPSBvdXRwdXQucmVwbGFjZSgvLipEWU5BTUlDIFNZTUJPTCBUQUJMRTpccy9tLCAnJyk7CgogIGxldCBsaW5lcyA9IG91dHB1dC5zcGxpdCgvXG4vZykuZmlsdGVyKGxpbmUgPT4gL1xzQmFzZVxzLy50ZXN0KGxpbmUpKTsKICBsZXQgY29sdW1ucyA9IGNvbEluZGV4ZXMobGluZXNbMF0pOwogIGxldCBlbnRyaWVzID0gbGluZXMubWFwKGxpbmUgPT4gY29sU3BsaXQobGluZSwgY29sdW1ucykubWFwKGNvbHVtbiA9PiBjb2x1bW4udHJpbUVuZCgpKSk7CgogIGVudHJpZXMuc29ydCgoYSwgYikgPT4gYVswXS5sb2NhbGVDb21wYXJlKGJbMF0pKTsKCiAgcmV0dXJuIGVudHJpZXMubWFwKGVudHJ5ID0+IGVudHJ5W2VudHJ5Lmxlbmd0aCAtIDFdLnRyaW1TdGFydCgpKTsKfQoKZnVuY3Rpb24gU2F2ZUxpYnJhcmllcygpIHsKICBjb25zdCBsYXllcnMgPSBPYmplY3QudmFsdWVzKFsuLi5wcm9qZWN0LnNjaGVtYXRpYy5sYXllcnMsIC4uLnByb2plY3QuYm9hcmQubGF5ZXJzXS5yZWR1Y2UoKGFjYywgW24sIGVdKSA9PiAoeyAuLi5hY2MsIFtuXTogZS5yYXcgfSksIHt9KSk7Cn0KCmZ1bmN0aW9uIFByb2Nlc3NGaWxlKGZpbGUsIGRlYnVnID0gdHJ1ZSkgewogIGNvbnN0IGV4dCA9IHBhdGguZXh0bmFtZShmaWxlKTsKICBsZXQgcmV0ID0gbnVsbDsKCiAgc3dpdGNoIChleHQpIHsKICAgIGNhc2UgJy5qcyc6CiAgICAgIHJldCA9IFBhcnNlRUNNQVNjcmlwdChmaWxlLCBkZWJ1Zyk7CiAgICAgIGJyZWFrOwogICAgY2FzZSAnLmNwcCc6CiAgICBjYXNlICcuY3h4JzoKICAgIGNhc2UgJy5jYyc6CiAgICBjYXNlICcuYyc6CiAgICBjYXNlICcuaCc6CiAgICAgIHJldCA9IENvbXBpbGUoZmlsZSAvKiwgZGVidWcqLyk7CiAgICAgIGJyZWFrOwogIH0KCiAgcmV0dXJuIHJldDsKfQoKZnVuY3Rpb24gUGFyc2VFQ01BU2NyaXB0KGZpbGUsIHBhcmFtcyA9IHt9KSB7CiAgbGV0IGRhdGEsIGIsIHJldDsKICBjb25zdCB7IGRlYnVnIH0gPSBwYXJhbXM7CgogIGlmKGZpbGUgPT0gJy0nKSBmaWxlID0gJy9kZXYvc3RkaW4nOwoKICBpZihmaWxlICYmIGZzLmV4aXN0c1N5bmMoZmlsZSkpIHsKICAgIGRhdGEgPSBSZWFkRmlsZShmaWxlLCAndXRmOCcpOwogICAgY29uc29sZS5sb2coJ29wZW5lZDonLCBmaWxlKTsKICB9IGVsc2UgewogICAgZmlsZSA9ICdzdGRpbic7CiAgICBkYXRhID0gc291cmNlOwogIH0KCiAgY29uc29sZS5sb2coJ09LLCBkYXRhOiAnLCBhYmJyZXZpYXRlKGVzY2FwZShkYXRhKSkpOwoKICBpZihkZWJ1ZykgRUNNQVNjcmlwdFBhcnNlci5pbnN0cnVtZW50YXRlKCk7CgogIGNvbnNvbGUubG9nKCdFQ01BU2NyaXB0UGFyc2VyOicsIEVDTUFTY3JpcHRQYXJzZXIpOwoKICBsZXQgcGFyc2VyLCBhc3QsIGVycm9yOwoKICBnbG9iYWxUaGlzLnBhcnNlciA9IHBhcnNlciA9IG51bGw7CiAgZ2xvYmFsVGhpcy5wYXJzZXIgPSBwYXJzZXIgPSBuZXcgRUNNQVNjcmlwdFBhcnNlcihkYXRhID8gZGF0YS50b1N0cmluZygpIDogZGF0YSwgZmlsZSwgZGVidWcpOwoKICB0cnkgewogICAgYXN0ID0gcGFyc2VyLnBhcnNlUHJvZ3JhbSgpOwogIH0gY2F0Y2goZXJyKSB7CiAgICBjb25zdCB0b2tlbnMgPSBbLi4ucGFyc2VyLnByb2Nlc3NlZCwgLi4ucGFyc2VyLnRva2Vuc107CiAgICBjb25zdCB0b2tlbiA9IHRva2Vuc1t0b2tlbnMubGVuZ3RoIC0gMV07CgogICAgY29uc29sZS5sb2coJ3BhcnNlUHJvZ3JhbSB0b2tlbicsIHRva2VuKTsKCiAgICBpZihlcnIgIT09IG51bGwpIHsKICAgICAgY29uc29sZS5sb2coJ3BhcnNlUHJvZ3JhbSBFUlJPUiBtZXNzYWdlOicsIGVycj8ubWVzc2FnZSk7CiAgICAgIGNvbnNvbGUubG9nKCdwYXJzZVByb2dyYW0gRVJST1Igc3RhY2s6XG4gICcgKyBuZXcgU3RhY2soZXJyPy5zdGFjaywgKGZyLCBpKSA9PiBmci5mdW5jdGlvbk5hbWUgIT0gJ2VzZmFjdG9yeScgJiYgaSA8IDUpLnRvU3RyaW5nKCkucmVwbGFjZSgvXG4vZywgJ1xuICAnKSk7CgogICAgICB0aHJvdyBlcnI7CiAgICB9IGVsc2UgewogICAgICBjb25zb2xlLmxvZygncGFyc2VQcm9ncmFtIEVSUk9SOicsIGVycik7CiAgICAgIHRocm93IG5ldyBFcnJvcigncGFyc2VQcm9ncmFtJyk7CiAgICB9CiAgfQoKICBwYXJzZXIuYWRkQ29tbWVudHNUb05vZGVzKGFzdCk7CiAgcmV0dXJuIGFzdDsKfQoKLypmdW5jdGlvbiBQYXJzZUVDTUFTY3JpcHQoZmlsZSwgZGVidWcgPSBmYWxzZSkgewogIGNvbnNvbGUubG9nKGBQYXJzaW5nICcke2ZpbGV9Jy4uLmApOwogIGxldCBkYXRhID0gUmVhZEZpbGUoZmlsZSwgJ3V0Zi04Jyk7CiAgbGV0IGFzdCwgZXJyb3I7CiAgbGV0IHBhcnNlcjsKICBjb25zb2xlLmxvZygnZGF0YScsIGRhdGEpOwogIGdsb2JhbFRoaXMucGFyc2VyID0gcGFyc2VyID0gbmV3IEVDTUFTY3JpcHRQYXJzZXIoZGF0YT8udG9TdHJpbmcgPyBkYXRhLnRvU3RyaW5nKCkgOiBkYXRhLCBmaWxlLCBkZWJ1Zyk7CgogIGdsb2JhbFRoaXMuYXN0ID0gYXN0ID0gcGFyc2VyLnBhcnNlUHJvZ3JhbSgpOwogIHBhcnNlci5hZGRDb21tZW50c1RvTm9kZXMoYXN0KTsKCiAgZ2xvYmFsVGhpcy5maWxlc1tmaWxlXSA9IGFzdDsKCiAgcmV0dXJuIHsKICAgIGFzdCwKICAgIGdldCBkYXRhKCkgewogICAgICByZXR1cm4gdGhpcy5hc3Q7CiAgICB9CiAgfTsKfSovCgpmdW5jdGlvbiBQcmludEVDTUFTY3JpcHQoYXN0LCBjb21tZW50cywgcHJpbnRlciA9IG5ldyBFQ01BU2NyaXB0LlByaW50ZXIoeyBpbmRlbnQ6IDQgfSwgY29tbWVudHMpKSB7CiAgcmV0dXJuIHByaW50ZXIucHJpbnQoYXN0KTsKfQoKZnVuY3Rpb24gUHJpbnRDQXJyYXkoc3RyaW5ncykgewogIGxldCBvID0gJyc7CgogIGZvcihsZXQgc3RyIG9mIHN0cmluZ3MpIHsKICAgIGlmKG8gIT0gJycpIG8gKz0gJywgJzsKCiAgICBpZih0eXBlb2Ygc3RyID09ICdzdHJpbmcnKSBvICs9ICciJyArIHN0ciArICciJzsKICAgIGVsc2UgbyArPSAnMCc7CiAgfQoKICAvKiBzdHJpbmdzLm1hcChzdHIgPT4gKHR5cGVvZiBzdHIgPT0gJ3N0cmluZycgJiYgc3RyID8gJyInICsgc3RyICsgJyInIDogJyIiJykpLm1hcChzdHIgPT4gc3RyICE9ICcnID8gc3RyIDogJyIiJykuam9pbignLFxuJykgKyovCgogIG8gKz0gYCB9KTtgOwogIHJldHVybiBgKChjb25zdCBjaGFyKmNvbnN0IFtdKXsgYCArIG87Cn0KCmZ1bmN0aW9uIE5hbWVzcGFjZXMobm9kZVBhdGgsIGFzdCA9ICQuZGF0YSkgewogIGxldCBwdHIgPSBuZXcgUG9pbnRlcihub2RlUGF0aCk7CiAgbGV0IHB0cnMgPSBwdHIuY2hhaW4oMik7CiAgbGV0IGdldCA9IHAgPT4gRGVlcEdldChhc3QsIHApOwoKICBsZXQgbnMgPSBwdHJzLm1hcChwID0+IGdldChwKSkuZmlsdGVyKG4gPT4gbi5raW5kID09ICdOYW1lc3BhY2VEZWNsJyk7CiAgcmV0dXJuIG5zOwp9CgpmdW5jdGlvbiogQ29uc3RhbnRzKG5vZGUsIHQgPSAobmFtZSwgdmFsdWUpID0+IFtuYW1lLCAhaXNOYU4oK3ZhbHVlKSA/ICt2YWx1ZSA6IHZhbHVlXSkgewogIGZvcihsZXQgaW5uZXIgb2Ygbm9kZS5pbm5lcikgewogICAgeWllbGQgdCguLi5QcmludEFzdChpbm5lcikuc3BsaXQoLyA9IC9nKSk7CiAgfQp9CgpNZW1iZXJOYW1lcy5VUFBFUiA9IDE7Ck1lbWJlck5hbWVzLk1FVEhPRFMgPSAyOwpNZW1iZXJOYW1lcy5QUk9QRVJUSUVTID0gNDsKCmZ1bmN0aW9uIEdldEltcG9ydHMoYXN0ID0gJC5kYXRhKSB7CiAgY29uc3QgciA9IFtdOwoKICBmb3IobGV0IFtuLCBwXSBvZiBEZWVwU2VsZWN0KCQuZGF0YSwgbiA9PiAobi50eXBlID8/IG4ua2luZCkuc3RhcnRzV2l0aCgnSW1wb3J0JykpKSByLnB1c2gobik7CgogIHJldHVybiByOwp9CgpmdW5jdGlvbiBHZXRJZGVudGlmaWVycyhub2Rlcywga2V5ID0gbnVsbCkgewogIGNvbnN0IHIgPSBbXTsKCiAgZm9yKGxldCBub2RlIG9mIG5vZGVzKSBmb3IgKGxldCBuIG9mIERlZXBTZWxlY3Qobm9kZSwgKG4sIGspID0+IChuLnR5cGUgPz8gbi5raW5kKSA9PSAnSWRlbnRpZmllcicgJiYgKGtleSA9PT0gbnVsbCB8fCBrID09IGtleSkpKSByLnB1c2gobi5uYW1lKTsKCiAgcmV0dXJuIHI7Cn0KCmZ1bmN0aW9uIE1lbWJlck5hbWVzKG1lbWJlcnMsIGZsYWdzID0gMCkgewogIGxldCByZXQgPSBbXTsKCiAgaWYobWVtYmVycy5tZW1iZXJzKSBtZW1iZXJzID0gbWVtYmVycy5tZW1iZXJzOwoKICBpZighQXJyYXkuaXNBcnJheShtZW1iZXJzKSkgewogICAgZm9yKGxldCBwdHIgb2YgWy4uLkRlZXBTZWxlY3QobWVtYmVycywgbiA9PiBuLmtpbmQuZW5kc1dpdGgoJ0RlY2wnKSAmJiBuLm5hbWUsIGRlZXAuUkVUVVJOX1BBVEgpXS5tYXAocGF0aCA9PiBuZXcgUG9pbnRlcihwYXRoKSkpIHsKICAgICAgbGV0IHB0cnMgPSBwdHIuY2hhaW4oMik7CgogICAgICBjb25zb2xlLmxvZygncHRyczonLCBwdHJzKTsKCiAgICAgIGxldCBuYW1lcyA9IHB0cnMubWFwKHAgPT4gRGVlcEdldChtZW1iZXJzLCBbLi4ucCwgJ25hbWUnXSwgZGVlcC5OT19USFJPVykpOwogICAgICBsZXQga2luZHMgPSBwdHJzLm1hcChwID0+IERlZXBHZXQobWVtYmVycywgWy4uLnAsICdraW5kJ10sIGRlZXAuTk9fVEhST1cpKTsKCiAgICAgIGNvbnNvbGUubG9nKCdraW5kczonLCBraW5kcyk7CiAgICAgIGNvbnNvbGUubG9nKCduYW1lczonLCBuYW1lcyk7CgogICAgICByZXQucHVzaChuYW1lcy5maWx0ZXIobmFtZSA9PiBuYW1lKS5qb2luKCcuJykpOwogICAgfQogIH0gZWxzZSB7CiAgICBjb25zdCBtZW1iZXJOYW1lUG9pbnRlcnMgPSBbLi4uRGVlcFNlbGVjdChtZW1iZXJzLCBuID0+IEFycmF5LmlzQXJyYXkobikgJiYgbi5sZW5ndGggPT0gMiAmJiB0eXBlb2YgblswXSA9PSAnc3RyaW5nJyAmJiBuWzFdICE9PSBudWxsKV0ubWFwKChbbm9kZSwgcHRyXSkgPT4gcHRyKTsKICAgIC8vY29uc29sZS5sb2coJ21lbWJlck5hbWVQb2ludGVycycsIG1lbWJlck5hbWVQb2ludGVycyk7CgogICAgZm9yKGxldCBwdHIgb2YgbWVtYmVyTmFtZVBvaW50ZXJzLm1hcChwYXRoID0+IG5ldyBQb2ludGVyKHBhdGgpKSkgewogICAgICBsZXQgcHRycyA9IHB0ci5jaGFpbigzKSwKICAgICAgICBuYW1lcyA9IHB0cnMubWFwKHAgPT4gRGVlcEdldChtZW1iZXJzLCBbLi4ucCwgMF0pKTsKCiAgICAgIHJldC5wdXNoKG5hbWVzLmZpbHRlcihuYW1lID0+IG5hbWUpLmpvaW4oJy4nKSk7CiAgICB9CiAgfQoKICBpZihmbGFncyAmIE1lbWJlck5hbWVzLlVQUEVSKSByZXQgPSByZXQubWFwKG5hbWUgPT4gZGVjYW1lbGl6ZShuYW1lLCAnXycpLnRvVXBwZXJDYXNlKCkpOwoKICByZXR1cm4gcmV0Owp9CgpmdW5jdGlvbiBVbnNldExvYyhub2RlLCBwcmVkID0gKHYsIHApID0+IHRydWUpIHsKICBmb3IobGV0IFt2LCBwXSBvZiBEZWVwU2VsZWN0KG5vZGUsICh2LCBrKSA9PiBrID09ICdsb2MnIHx8IGsgPT0gJ3JhbmdlJywgZGVlcC5SRVRVUk5fVkFMVUVfUEFUSCkpIGlmKHByZWQoRGVlcEdldChub2RlLCBbLi4ucF0uc2xpY2UoMCwgLTEpKSwgWy4uLnBdLmxhc3QpKSBkZWVwLnVuc2V0KG5vZGUsIHApOwoKICByZXR1cm4gbm9kZTsKfQoKZnVuY3Rpb24gTWFrZUZGSShub2RlLCBsaWIsIGV4cCwgZnApIHsKICBpZihBcnJheS5pc0FycmF5KG5vZGUpKQogICAgcmV0dXJuIChmdW5jdGlvbiogKCkgewogICAgICBsZXQgaSA9IDA7CgogICAgICBpZighZnApIHlpZWxkIGBpbXBvcnQgeyBkbG9wZW4sIGRlZmluZSwgZGxlcnJvciwgZGxjbG9zZSwgZGxzeW0sIGNhbGwsIGVycm5vLCBSVExEX05PVyB9IGZyb20gJ2ZmaSc7XG5gOwoKICAgICAgaWYobGliKSB7CiAgICAgICAgbGV0IGxpYnZhciA9IGxpYi5yZXBsYWNlKC9cLnNvKCR8XC4uKikvZywgJycpLnJlcGxhY2UoL1teQS1aYS16MC05X10vZywgJ18nKTsKCiAgICAgICAgeWllbGQgYGNvbnN0ICR7bGlidmFyfSA9IGRsb3BlbignJHtsaWJ9JywgUlRMRF9OT1cpO1xuYDsKCiAgICAgICAgbGliID0gbGlidmFyOwogICAgICB9CgogICAgICBmb3IobGV0IGl0ZW0gb2Ygbm9kZSkgewogICAgICAgIGxldCBvdXQgPSAnJzsKICAgICAgICAvL2NvbnNvbGUubG9nKGBNYWtlRkZJIGl0ZW0gIyR7aSArIDF9LyR7bm9kZS5sZW5ndGh9YCk7CgogICAgICAgIHRyeSB7CiAgICAgICAgICBsZXQgcmV0ID0gTWFrZUZGSShpdGVtLCBsaWIsIGV4cCwgZnApOwoKICAgICAgICAgIGlmKHR5cGVvZiByZXQgPT0gJ3N0cmluZycgJiYgcmV0Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgaWYob3V0KSBvdXQgKz0gJ1xuJzsKICAgICAgICAgICAgb3V0ICs9IHJldDsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhgRVJST1IgaXRlbSBbJHtpfV06YCwgZXJyb3IubWVzc2FnZSArICdcbicgKyBlcnJvci5zdGFjayk7CiAgICAgICAgfQoKICAgICAgICBpKys7CgogICAgICAgIHlpZWxkIG91dDsKICAgICAgfQogICAgfSkoKTsKCiAgdHJ5IHsKICAgIGlmKCEobm9kZSBpbnN0YW5jZW9mIE5vZGUpKSBub2RlID0gVHlwZUZhY3Rvcnkobm9kZSwgJC5kYXRhKTsKICB9IGNhdGNoKGUpIHsKICAgIGNvbnNvbGUuZXJyb3IoJ1R5cGVGYWN0b3J5JywgZT8ubWVzc2FnZSk7CiAgfQoKICBpZih0eXBlb2Ygbm9kZSA9PSAnb2JqZWN0JyAmJiBub2RlICYmIG5vZGUua2luZCA9PSAnRnVuY3Rpb25EZWNsJykgbm9kZSA9IG5ldyBGdW5jdGlvbkRlY2wobm9kZSk7CgogIGlmKG5vZGUgaW5zdGFuY2VvZiBGdW5jdGlvbkRlY2wpIHsKICAgIGNvbnNvbGUubG9nKCdub2RlJywgKGdsb2JhbFRoaXMubm9kZSA9IG5vZGUpKTsKCiAgICBsZXQgZmZpID0gbmV3IEZGSV9GdW5jdGlvbihub2RlKTsKCiAgICBsZXQgcHJvdG9TdHIgPSBQcmludEFzdChub2RlLmFzdCwgJC5kYXRhKQogICAgICAucmVwbGFjZSgvXihbXlxuXChdKilcbi8sICckMSAnKQogICAgICAuc3BsaXQoL1xuL2cpWzBdCiAgICAgIC5yZXBsYWNlKC9cIHskLywgJzsnKTsKCiAgICBwcm90b1N0ciA9IHByb3RvU3RyLnJlcGxhY2UoL15ccypleHRlcm5ccysvLCAnJyk7CgogICAgcmV0dXJuIChmZmkuZ2VuZXJhdGVEb2MoZnAsIGxpYiwgZXhwKSA/PyBgLyogJHtwcm90b1N0cn0gKi9cbmApICsgZmZpLmdlbmVyYXRlKGZwLCBsaWIsIGV4cCk7CiAgfSBlbHNlIGlmKG5vZGUgaW5zdGFuY2VvZiBSZWNvcmREZWNsIHx8IG5vZGUgaW5zdGFuY2VvZiBUeXBlZGVmRGVjbCkgewogICAgcmV0dXJuIEdlbmVyYXRlU3RydWN0Q2xhc3Mobm9kZSk7CiAgICAvL3JldHVybiBbLi4uR2VuZXJhdGVTdHJ1Y3RDbGFzcyhub2RlKV0uam9pbignXG4nKTsKICB9Cn0KCmZ1bmN0aW9uIE1ha2VJZChuYW1lKSB7CiAgbGV0IHMgPSAnJzsKCiAgbmFtZSA9IG5hbWUucmVwbGFjZUFsbCgnOjonLCAnXycpOwoKICBmb3IobGV0IGNoIG9mIG5hbWUpIHsKICAgIGlmKC9bQS1aYS16MC05X10vLnRlc3QoY2gpKSB7CiAgICAgIHMgKz0gY2g7CiAgICAgIGNvbnRpbnVlOwogICAgfQoKICAgIHMgKz0gJ19fJyArIGNoLmNvZGVQb2ludEF0KDApLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpOwogIH0KCiAgcmV0dXJuIHM7Cn0KCmZ1bmN0aW9uIE1ha2VRdWlja0pTQ2xhc3Mobm9kZSwgYXN0ID0gJCkgewogIGNvbnN0IGNpZCA9IE1ha2VJZChkZWNhbWVsaXplKG5vZGUubmFtZSwgJycpKS50b0xvd2VyQ2FzZSgpOwogIGNvbnN0IGNuYW1lID0gYXN0Lm5hbWVzcGFjZU9mKG5vZGUpICsgJyc7CgogIGNvbnN0IFtkZWNsLCBhc3NpZ25dID0gWwogICAgKGNuYW1lLCB2bmFtZSA9ICdwdHInKSA9PiBgICAke2NuYW1lfSogJHt2bmFtZX07YCwKICAgIChjbmFtZSwgdm5hbWUgPSAncHRyJykgPT4gYCAgaWYoISgke3ZuYW1lfSA9IHN0YXRpY19jYXN0PCR7Y25hbWV9Kj4oSlNfR2V0T3BhcXVlMihjdHgsIHRoaXNfdmFsLCBqc18ke2NpZH1fY2xhc3NfaWQpKSkpXG4gICAgcmV0dXJuIEpTX0VYQ0VQVElPTjtgLAogIF07CgogIGNvbnN0IG1lbWJlcnMgPSB7CiAgICBmaWVsZHM6IFsuLi5ub2RlLm1lbWJlcnNdLmZpbHRlcihuID0+IGNsYXNzTmFtZShuKSA9PSAnRmllbGREZWNsJyAmJiAhWydwcm90ZWN0ZWQnLCAncHJpdmF0ZSddLmluY2x1ZGVzKG4uYWNjZXNzKSAmJiAhKG4uc3RvcmFnZUNsYXNzID09ICdzdGF0aWMnIHx8IG4uYXN0LnN0b3JhZ2VDbGFzcyA9PSAnc3RhdGljJykpLAogICAgc3RhdGljOiBbLi4ubm9kZS5tZW1iZXJzXS5maWx0ZXIobiA9PiBjbGFzc05hbWUobikgPT0gJ1R5cGUnICYmIChuLnN0b3JhZ2VDbGFzcyA9PSAnc3RhdGljJyB8fCBuLmFzdC5zdG9yYWdlQ2xhc3MgPT0gJ3N0YXRpYycpKSwKICAgIG1ldGhvZHM6IFsuLi5ub2RlLm1lbWJlcnNdLmZpbHRlcihuID0+IG4uYXN0LmtpbmQgPT0gJ0NYWE1ldGhvZERlY2wnICYmICFbJ3Byb3RlY3RlZCcsICdwcml2YXRlJ10uaW5jbHVkZXMobi5hY2Nlc3MpICYmICEobi5zdG9yYWdlQ2xhc3MgPT0gJ3N0YXRpYycgfHwgbi5hc3Quc3RvcmFnZUNsYXNzID09ICdzdGF0aWMnKSksCiAgICBmdW5jdGlvbnM6IFsuLi5ub2RlLm1lbWJlcnNdLmZpbHRlcihuID0+IG4uYXN0LmtpbmQgPT0gJ0NYWE1ldGhvZERlY2wnICYmICFbJ3Byb3RlY3RlZCcsICdwcml2YXRlJ10uaW5jbHVkZXMobi5hY2Nlc3MpICYmIChuLnN0b3JhZ2VDbGFzcyA9PSAnc3RhdGljJyB8fCBuLmFzdC5zdG9yYWdlQ2xhc3MgPT0gJ3N0YXRpYycpKSwKICAgIGVudW1zOiBbLi4ubm9kZS5tZW1iZXJzXS5maWx0ZXIobiA9PiBuLmFzdC5raW5kID09ICdFbnVtRGVjbCcpLAogICAgY3Rvcl9kdG9yOiBbLi4ubm9kZS5tZW1iZXJzXS5maWx0ZXIobiA9PiAhKG4uYXN0LmtpbmQgPT0gJ0NYWE1ldGhvZERlY2wnIHx8IGNsYXNzTmFtZShuKSA9PSAnVHlwZScpKSwKICB9OwoKICBsZXQgaW5zdCA9IGRlY2woY25hbWUpICsgJ1xuXG4nICsgYXNzaWduKGNuYW1lKSArICdcbic7CgogIGluc3QgKz0gYFxuICBzd2l0Y2gobWFnaWMpIHtcbmA7CgogIGNvbnN0IG91dCA9IHsKICAgIG1lbnVtOiBgZW51bSB7XG5gLAogICAgcGVudW06IGBlbnVtIHtcbmAsCiAgICBmbnM6IGBzdGF0aWMgY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkganNfJHtjaWR9X3Byb3RvX2Z1bmNzW10gPSB7XG5gLAogICAgcGdldDogYHN0YXRpYyBKU1ZhbHVlXG5qc18ke2NpZH1fZ2V0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBtYWdpYykge1xuICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDtcbmAgKyBpbnN0LAogICAgcHNldDogYHN0YXRpYyBKU1ZhbHVlXG5qc18ke2NpZH1fc2V0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIEpTVmFsdWVDb25zdCB2YWx1ZSwgaW50IG1hZ2ljKSB7XG4gIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEO1xuYCArIGluc3QsCiAgICBtZm46IGBzdGF0aWMgSlNWYWx1ZVxuanNfJHtjaWR9X21ldGhvZChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljKSB7XG4gIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEO1xuYCArIGluc3QsCiAgICBzZm46IGBzdGF0aWMgSlNWYWx1ZVxuanNfJHtjaWR9X2Z1bmN0aW9ucyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljKSB7XG4gIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEO1xuYCArIGluc3QsCiAgfTsKICBjb25zdCBtZXRob2RzID0ge30sCiAgICBuYW1lcyA9IFtdOwoKICBmb3IobGV0IG1ldGhvZCBvZiBtZW1iZXJzLm1ldGhvZHMpIHsKICAgIGlmKG5hbWVzLmluZGV4T2YobWV0aG9kLm5hbWUpID09IC0xKSBuYW1lcy5wdXNoKG1ldGhvZC5uYW1lKTsKCiAgICBtZXRob2RzW21ldGhvZC5uYW1lXSA/Pz0gW107CiAgICBtZXRob2RzW21ldGhvZC5uYW1lXS5wdXNoKG1ldGhvZCk7CiAgfQoKICBmb3IobGV0IG5hbWUgb2YgbmFtZXMpIHsKICAgIGNvbnN0IG1ldGhvZGxpc3QgPSBtZXRob2RzW25hbWVdOwogICAgY29uc3QgW21ldGhvZF0gPSBtZXRob2RsaXN0OwoKICAgIGNvbnN0IHsgcGFyYW1ldGVycywgcmV0dXJuVHlwZSB9ID0gbWV0aG9kOwogICAgY29uc3QgY25hbWUgPSAnTUVUSE9EXycgKyBNYWtlSWQoZGVjYW1lbGl6ZShuYW1lLCAnXycpKS50b1VwcGVyQ2FzZSgpLnJlcGxhY2VBbGwoJ19fJywgJ194Jyk7CgogICAgb3V0LmZucyArPSBgICBKU19DRlVOQ19NQUdJQ19ERUYoIiR7bmFtZX0iLCAke3BhcmFtZXRlcnMubGVuZ3RofSwgIGpzXyR7Y2lkfV9tZXRob2QsICR7Y25hbWV9KSxcbmA7CiAgICBvdXQubWVudW0gKz0gYCAgJHtjbmFtZX0sXG5gOwogICAgb3V0Lm1mbiArPSBgICAgIGNhc2UgJHtjbmFtZX06IHtcbmA7CgogICAgaWYocGFyYW1ldGVycy5sZW5ndGggPiAwKSB7CiAgICAgIGNvbnN0IHR5cGVzID0ge30sCiAgICAgICAgdG0gPSBuZXcgTWFwKCk7CiAgICAgIGxldCBpID0gMDsKCiAgICAgIGZvcihsZXQgW25hbWUgPSBgYXJnJHtpfWAsIHBhcmFtXSBvZiBwYXJhbWV0ZXJzKSB7CiAgICAgICAgY29uc3QgeyBkZXN1Z2FyZWQsIHF1YWxUeXBlIH0gPSBwYXJhbTsKCiAgICAgICAgbGV0IHR5cGUgPSBkZXN1Z2FyZWQgPz8gcXVhbFR5cGUgPz8gcGFyYW07CgogICAgICAgIHN3aXRjaCAodHlwZSkgewogICAgICAgICAgY2FzZSAnaW50JzoKICAgICAgICAgICAgdHlwZSA9ICdpbnQzMl90JzsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICd1bnNpZ25lZCBpbnQnOgogICAgICAgICAgICB0eXBlID0gJ3VpbnQzMl90JzsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICAgIGNvbnNvbGUubG9nKCcnLCB7IG5hbWUsIHBhcmFtLCB0eXBlIH0pOwoKICAgICAgICB0eXBlc1t0eXBlXSA/Pz0gW107CiAgICAgICAgdHlwZXNbdHlwZV0ucHVzaChuYW1lKTsKCiAgICAgICAgdG0uc2V0KHR5cGUgKyAnJywgdHlwZSk7CgogICAgICAgICsraTsKICAgICAgfQoKICAgICAgY29uc3QgdG9fanN0eXBlID0gdHlwZSA9PiAoeyBpbnQ6ICdJbnQzMicsICd1bnNpZ25lZCBpbnQnOiAnVWludDMyJywgZG91YmxlOiAnRmxvYXQ2NCcsIGZsb2F0OiAnRmxvYXQ2NCcsIGludDMyX3Q6ICdJbnQzMicsIHVpbnQzMl90OiAnVWludDMyJywgaW50NjRfdDogJ0ludDY0JywgdWludDY0X3Q6ICdJbmRleCcgfSlbdHlwZV07CgogICAgICBmb3IobGV0IHR5cGUgaW4gdHlwZXMpIHsKICAgICAgICBjb25zdCBqc3R5cGUgPSB0b19qc3R5cGUodHlwZSk7CiAgICAgICAgbGV0IHQgPSB0bS5nZXQodHlwZSk7CgogICAgICAgIGlmKGpzdHlwZSA9PSB1bmRlZmluZWQpIG91dC5tZm4gKz0gYCAgICBgICsgZGVjbCh0Py5wb2ludGVlID8/IHQgPz8gdHlwZSwgdHlwZXNbdHlwZV0uam9pbignLCAnKSkgKyAnXG4nOwogICAgICAgIGVsc2Ugb3V0Lm1mbiArPSBgICAgICAgJHt0eXBlfSAke3R5cGVzW3R5cGVdLmpvaW4oJywgJyl9O1xuYDsKICAgICAgfQoKICAgICAgb3V0Lm1mbiArPSBgXG5gOwoKICAgICAgaSA9IDA7CgogICAgICBmb3IobGV0IFtuYW1lID0gYGFyZyR7aX1gLCBwYXJhbV0gb2YgcGFyYW1ldGVycykgewogICAgICAgIGNvbnN0IHsgZGVzdWdhcmVkLCBxdWFsVHlwZSB9ID0gcGFyYW07CiAgICAgICAgbGV0IHR5cGUgPSBkZXN1Z2FyZWQgPz8gcXVhbFR5cGUgPz8gcGFyYW07CgogICAgICAgIGNvbnN0IGpzdHlwZSA9IHRvX2pzdHlwZSh0eXBlKTsKCiAgICAgICAgaWYoanN0eXBlID09IHVuZGVmaW5lZCkgb3V0Lm1mbiArPSBgICAgIGAgKyBhc3NpZ24odHlwZT8ucG9pbnRlZSA/PyB0eXBlLCBuYW1lKS5yZXBsYWNlQWxsKCdcbicsICdcbiAgICAnKSArICdcbic7CiAgICAgICAgZWxzZSBvdXQubWZuICs9IGAgICAgICBKU19UbyR7anN0eXBlfShjdHgsICYke25hbWV9LCBhcmd2WyR7aX1dKTtcbmA7CgogICAgICAgIC8vIGNvbnNvbGUubG9nKCcnLCB7IG5hbWUsIGRlc3VnYXJlZCwgdHlwZUFsaWFzIH0pOwogICAgICAgICsraTsKICAgICAgfQoKICAgICAgb3V0Lm1mbiArPSBgXG5gOwogICAgfQoKICAgIGxldCBwYXJhbXMgPSBbXTsKCiAgICBmb3IobGV0IFtuYW1lLCBwYXJhbV0gb2YgcGFyYW1ldGVycykgcGFyYW1zLnB1c2gobmFtZSA/PyAnb3RoZXInKTsKCiAgICBsZXQgY2FsbCA9IGBwdHItPiR7bmFtZX0oYCArIHBhcmFtcy5qb2luKCcsICcpICsgYClgOwoKICAgIGlmKHJldHVyblR5cGUpIHsKICAgICAgc3dpdGNoIChyZXR1cm5UeXBlICsgJycpIHsKICAgICAgICBjYXNlICd2b2lkJzoKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICdmbG9hdCc6CiAgICAgICAgY2FzZSAnZG91YmxlJzoKICAgICAgICAgIGNhbGwgPSBgcmV0ID0gSlNfTmV3RmxvYXQ2NChjdHgsICR7Y2FsbH0pYDsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICdpbnQnOgogICAgICAgIGNhc2UgJ2ludDMyX3QnOgogICAgICAgICAgY2FsbCA9IGByZXQgPSBKU19OZXdJbnQzMihjdHgsICR7Y2FsbH0pYDsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICd1bnNpZ25lZCBpbnQnOgogICAgICAgIGNhc2UgJ3VpbnQzMl90JzoKICAgICAgICAgIGNhbGwgPSBgcmV0ID0gSlNfTmV3VWludDMyKGN0eCwgJHtjYWxsfSlgOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgJ2xvbmcnOgogICAgICAgIGNhc2UgJ3Vuc2lnbmVkIGxvbmcnOgogICAgICAgIGNhc2UgJ2ludDY0X3QnOgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICBjYWxsID0gYHJldCA9IEpTX05ld0ludDY0KGN0eCwgJHtjYWxsfSlgOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICBvdXQubWZuICs9IGAgICAgICAke2NhbGx9O1xuYDsKICAgIG91dC5tZm4gKz0gYCAgICAgIGJyZWFrO1xuICAgIH1cbmA7CiAgfQoKICBmb3IobGV0IGZpZWxkIG9mIG1lbWJlcnMuZmllbGRzKSB7CiAgICBjb25zdCB7IG5hbWUsIGRlc3VnYXJlZCwgdHlwZUFsaWFzLCBhY2Nlc3MsIHN0b3JhZ2VDbGFzcyB9ID0gZmllbGQ7CgogICAgaWYoc3RvcmFnZUNsYXNzID09ICdzdGF0aWMnKSBjb250aW51ZTsKICAgIGlmKGZpZWxkLmFzdC5zdG9yYWdlQ2xhc3MgPT0gJ3N0YXRpYycpIGNvbnRpbnVlOwoKICAgIGNvbnN0IGNuYW1lID0gJ1BST1BfJyArIE1ha2VJZChkZWNhbWVsaXplKG5hbWUsICdfJykpLnRvVXBwZXJDYXNlKCkucmVwbGFjZUFsbCgnX18nLCAnX3gnKTsKCiAgICBvdXQuZm5zICs9IGAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCIke25hbWV9IiwganNfJHtjaWR9X2dldCwganNfJHtjaWR9X3NldCwgJHtjbmFtZX0pLFxuYDsKICAgIG91dC5wZW51bSArPSBgICAke2NuYW1lfSxcbmA7CiAgICBvdXQucGdldCArPSBgICAgIGNhc2UgJHtjbmFtZX06IHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbmA7CiAgICBvdXQucHNldCArPSBgICAgIGNhc2UgJHtjbmFtZX06IHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbmA7CiAgfQoKICBmb3IobGV0IGVuIG9mIG1lbWJlcnMuZW51bXMpIHsKICAgIGNvbnN0IHsgbmFtZSwgbWVtYmVycyB9ID0gZW47CgogICAgLy9vdXQuZm5zICs9IGAgIC8qIGVudW0gJHtuYW1lfSAqL1xuYDsKCiAgICBmb3IobGV0IFtuYW1lLCB2YWx1ZV0gb2YgbWVtYmVycykgewogICAgICBvdXQuZm5zICs9IGAgIEpTX1BST1BfSU5UNjRfREVGKCIke25hbWV9IiwgJHt2YWx1ZX0sIEpTX1BST1BfQ09ORklHVVJBQkxFKSxcbmA7CiAgICB9CiAgfQoKICBvdXQuZm5zICs9IGAgIEpTX1BST1BfU1RSSU5HX0RFRigiW1N5bWJvbC50b1N0cmluZ1RhZ10iLCAiJHtjbmFtZX0iLCBKU19QUk9QX0NPTkZJR1VSQUJMRSksXG5gOwoKICBvdXQuZm5zICs9IGB9O1xuYDsKICBvdXQubWVudW0gKz0gYH07XG5gOwogIG91dC5wZW51bSArPSBgfTtcbmA7CgogIG91dC5wZ2V0ICs9IGAgIH1cblxuICByZXR1cm4gcmV0O1xufTtcbmA7CiAgb3V0LnBzZXQgKz0gYCAgfVxuXG4gIHJldHVybiByZXQ7XG59O1xuYDsKICBvdXQubWZuICs9IGAgIH1cblxuICByZXR1cm4gcmV0O1xufTtcbmA7CgogIHJldHVybiBvdXQubWVudW0gKyBgXG5gICsgb3V0Lm1mbiArIGBcbmAgKyAobWVtYmVycy5maWVsZHMubGVuZ3RoID4gMCA/IG91dC5wZW51bSArIGBcbmAgKyBvdXQucGdldCArIGBcbmAgKyBvdXQucHNldCArIGBcbmAgOiAnJykgKyBvdXQuZm5zOwp9Cgphc3luYyBmdW5jdGlvbiBBU1RTaGVsbCguLi5hcmdzKSB7CiAgbGV0IGluc3BlY3RPcHRpb25zID0gewogICAgZGVwdGg6IDIsCiAgICAvKmJyZWFrTGVuZ3RoOiAyNDAsICovIGN1c3RvbUluc3BlY3Q6IHRydWUsCiAgICBjb21wYWN0OiBmYWxzZSwKICAgIGRlcHRoOiBJbmZpbml0eSwKICAgIG1heEFycmF5TGVuZ3RoOiBJbmZpbml0eSwKICAgIGhpZGVLZXlzOiBbJ2xvYycsICdyYW5nZSddLAogIH07CgogIGdsb2JhbFRoaXMuY29uc29sZSA9IG5ldyBDb25zb2xlKHsgaW5zcGVjdE9wdGlvbnMgfSk7CgogIGdsb2JhbFRoaXMuZmlsZXMgPSBmaWxlcyA9IHt9OwoKICBiYXNlID0gcGF0aC5iYXNlbmFtZShzY3JpcHRBcmdzWzBdLCAnLmpzJykucmVwbGFjZSgvXC5bYS16XSokLywgJycpOwogIGNtZGhpc3QgPSBgLiR7YmFzZX0tY21kaGlzdG9yeWA7CiAgY29uZmlnID0gYC4ke2Jhc2V9LWNvbmZpZ2A7CgogIHBhcmFtcyA9IGdsb2JhbFRoaXMucGFyYW1zID0gZ2V0T3B0KAogICAgewogICAgICBpbmNsdWRlOiBbdHJ1ZSwgKGEsIHApID0+IChwIHx8IFtdKS5jb25jYXQoW2FdKSwgJ0knXSwKICAgICAgZGVmaW5lOiBbdHJ1ZSwgKGEsIHApID0+IChwIHx8IFtdKS5jb25jYXQoW2FdKSwgJ0QnXSwKICAgICAgbGliczogW3RydWUsIChhLCBwKSA9PiAocCB8fCBbXSkuY29uY2F0KFthXSksICdsJ10sCiAgICAgIGRlYnVnOiBbZmFsc2UsIG51bGwsICd4J10sCiAgICAgIGZvcmNlOiBbZmFsc2UsIG51bGwsICdmJ10sCiAgICAgIHRhcmdldDogW3RydWUsIG51bGwsICd0J10sCiAgICAgIGV4ZWM6IFt0cnVlLCBudWxsLCAnZSddLAogICAgICAnc3lzdGVtLWluY2x1ZGVzJzogW2ZhbHNlLCBudWxsLCAncyddLAogICAgICAnbm8tcmVtb3ZlLWVtcHR5JzogW2ZhbHNlLCBudWxsLCAnRSddLAogICAgICAnb3V0cHV0LWRpcic6IFt0cnVlLCBudWxsLCAnZCddLAogICAgICBjb21waWxlcjogWydjbGFuZycsIG51bGwsICdjJ10sCiAgICAgICdAJzogJ2lucHV0JywKICAgIH0sCiAgICBhcmdzLAogICk7CgogIGRlZnMgPSBwYXJhbXMuZGVmaW5lIHx8IFtdOwogIGluY2x1ZGVzID0gcGFyYW1zLmluY2x1ZGUgfHwgW107CiAgbGlicyA9IHBhcmFtcy5saWJzIHx8IFtdOwogIHNvdXJjZXMgPSBwYXJhbXNbJ0AnXSB8fCBbXTsKCiAgZGVmaW5lKGdsb2JhbFRoaXMsIHsKICAgIGRlZnMsCiAgICBpbmNsdWRlcywKICAgIGxpYnMsCiAgICAvKiBwcmV0dGllci1pZ25vcmUgKi8gZ2V0IGZsYWdzKCkgewogICAgICByZXR1cm4gWyAuLi4ocGFyYW1zLnRhcmdldD8gW2AtLXRhcmdldD0ke3BhcmFtcy50YXJnZXR9YF0gOiBbXSksICAuLi5pbmNsdWRlcy5maWx0ZXIodiA9PiB0eXBlb2YgdiA9PSAnc3RyaW5nJykubWFwKHYgPT4gYC1JJHt2fWApLCAuLi5kZWZzLm1hcChkID0+IGAtRCR7ZH1gKSwgLi4ubGlicy5tYXAobCA9PiBgLWwke2x9YCldOwogICAgfSwKICB9KTsKCiAgYXN5bmMgZnVuY3Rpb24gQ29tcGlsZShmaWxlLCAuLi5hcmdzKSB7CiAgICBsZXQgcjsKCiAgICAvKiBpZihwYXJhbXMudGFyZ2V0KQogICAgICBhcmdzLnVuc2hpZnQoYC0tdGFyZ2V0PSR7cGFyYW1zLnRhcmdldH1gKTsqLwoKICAgIHRyeSB7CiAgICAgIHIgPSBnbG9iYWxUaGlzLnIgPSBhd2FpdCBBc3REdW1wKHBhcmFtcy5jb21waWxlciwgZmlsZSwgWy4uLmdsb2JhbFRoaXMuZmxhZ3MsIC4uLmFyZ3NdLCBwYXJhbXMuZm9yY2UpOwogICAgfSBjYXRjaChlKSB7CiAgICAgIGNvbnNvbGUubG9nKCdDb21waWxlIEVSUk9SOicsIGUubWVzc2FnZSArICdcbicgKyBlLnN0YWNrKTsKICAgICAgcmV0dXJuIGU7CiAgICB9CiAgICByLnNvdXJjZSA9IGZpbGU7CgogICAgZ2xvYmFsVGhpcy5maWxlc1tmaWxlXSA9IHI7CgogICAgbGV0IGFzdDJwYXRoID0gbWFwV3JhcHBlcihuZXcgV2Vha01hcCgpKTsKCiAgICBkZWZpbmUociwgewogICAgICBzZWxlY3QobmFtZV9vcl9pZCwgcHJlZCA9IG4gPT4gdHJ1ZSkgewogICAgICAgIHJldHVybiB0aGlzLmRhdGEuaW5uZXIuZmlsdGVyKG5hbWVPcklkUHJlZChuYW1lX29yX2lkLCBwcmVkKSk7CiAgICAgIH0sCiAgICAgIGdldEJ5SWRPck5hbWUobmFtZV9vcl9pZCwgcHJlZCA9IG4gPT4gdHJ1ZSkgewogICAgICAgIGxldCBub2RlID0gdGhpcy5kYXRhLmlubmVyLmZpbmRMYXN0KG5hbWVPcklkUHJlZChuYW1lX29yX2lkLCBwcmVkKSk7CgogICAgICAgIG5vZGUgPz89IHRoaXMuY2xhc3Nlcy5maW5kTGFzdChuYW1lT3JJZFByZWQobmFtZV9vcl9pZCwgcHJlZCkpOwogICAgICAgIG5vZGUgPz89IERlZXBGaW5kKHRoaXMuZGF0YSwgbmFtZU9ySWRQcmVkKG5hbWVfb3JfaWQsIHByZWQpKTsKICAgICAgICByZXR1cm4gbm9kZTsKICAgICAgfSwKICAgICAgZ2V0VHlwZTogbWVtb2l6ZShmdW5jdGlvbiBnZXRUeXBlKG5hbWVfb3JfaWQpIHsKICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcy5nZXRCeUlkT3JOYW1lKG5hbWVfb3JfaWQsIG4gPT4gIS8oRnVuY3Rpb25EZWNsfE5hbWVzcGFjZURlY2wpLy50ZXN0KG4ua2luZCkgJiYgL0RlY2wvLnRlc3Qobi5raW5kKSk7CiAgICAgICAgLy9sZXQgcmVzdWx0ID0gdGhpcy5nZXROYW1lc3BhY2UobmFtZV9vcl9pZCwgdGhpcy5kYXRhLCBuID0+ICEvKEZ1bmN0aW9uRGVjbCkvLnRlc3Qobi5raW5kKSAmJiAvRGVjbC8udGVzdChuLmtpbmQpKTsKCiAgICAgICAgcmVzdWx0ID8/PSBHZXRUeXBlKG5hbWVfb3JfaWQsIHRoaXMuZGF0YSk7CgogICAgICAgIGlmKHJlc3VsdCkgewogICAgICAgICAgbGV0IHR5cGUgPSBUeXBlRmFjdG9yeShyZXN1bHQsIHRoaXMuZGF0YSk7CiAgICAgICAgICBpZih0eXBlKSByZXN1bHQgPSB0eXBlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgfSksCiAgICAgIGdldE5hbWVzcGFjZShhcmcsIHJvb3QgPSB0aGlzLmRhdGEsIHByZWRpY2F0ZSA9ICgpID0+IHRydWUpIHsKICAgICAgICByZXR1cm4gR2V0TmFtZXNwYWNlKGFyZywgcm9vdCwgcHJlZGljYXRlKTsKICAgICAgfSwKICAgICAgbmFtZXNwYWNlT2Yobm9kZSkgewogICAgICAgIHJldHVybiBOYW1lc3BhY2VPZihub2RlPy5hc3QgPz8gbm9kZSwgdGhpcy5kYXRhKTsKICAgICAgfSwKICAgICAgZ2V0Q2xhc3M6IG1lbW9pemUoZnVuY3Rpb24gZ2V0Q2xhc3MobmFtZV9vcl9pZCkgewogICAgICAgIHJldHVybiBHZXRDbGFzcyhuYW1lX29yX2lkLCB0aGlzLmRhdGEpOwogICAgICB9KSwKICAgICAgZ2V0RnVuY3Rpb24obmFtZV9vcl9pZCkgewogICAgICAgIGxldCByZXN1bHQgPSBpc05vZGUobmFtZV9vcl9pZCkgPyBuYW1lX29yX2lkIDogdGhpcy5nZXRCeUlkT3JOYW1lKG5hbWVfb3JfaWQsIG4gPT4gLyhGdW5jdGlvbkRlY2wpLy50ZXN0KG4ua2luZCkpOwoKICAgICAgICBpZihyZXN1bHQpIHJldHVybiBuZXcgRnVuY3Rpb25EZWNsKHJlc3VsdCwgdGhpcy5kYXRhKTsKICAgICAgfSwKICAgICAgZ2V0VmFyaWFibGUobmFtZV9vcl9pZCkgewogICAgICAgIGxldCByZXN1bHQgPSBpc05vZGUobmFtZV9vcl9pZCkgPyBuYW1lX29yX2lkIDogdGhpcy5nZXRCeUlkT3JOYW1lKG5hbWVfb3JfaWQsIG4gPT4gLyhWYXJEZWNsKS8udGVzdChuLmtpbmQpKTsKCiAgICAgICAgaWYocmVzdWx0KSByZXR1cm4gbmV3IFZhckRlY2wocmVzdWx0LCB0aGlzLmRhdGEpOwogICAgICB9LAogICAgICBnZXRMb2Mobm9kZSkgewogICAgICAgIHJldHVybiBDb21wbGV0ZUxvY2F0aW9uKG5vZGUpOwogICAgICB9LAogICAgfSk7CgogICAgZGVmaW5lR2V0dGVyKAogICAgICByLAogICAgICAndHJlZScsCiAgICAgIG1lbW9pemUoKCkgPT4gbmV3IFRyZWUoci5kYXRhKSksCiAgICApOwogICAgcmV0dXJuIGRlZmluZShyLCB7CiAgICAgIHBhdGhPZihuZWVkbGUsIG1heERlcHRoID0gMTApIHsKICAgICAgICBsZXQgcCA9IGFzdDJwYXRoKG5lZWRsZT8uYXN0ID8/IG5lZWRsZSk7CiAgICAgICAgaWYocCkgcmV0dXJuIHA7CgogICAgICAgIGlmKCdhc3QnIGluIG5lZWRsZSkgbmVlZGxlID0gbmVlZGxlLmFzdDsKCiAgICAgICAgZm9yKGxldCBbbm9kZSwgcGF0aF0gb2YgRGVlcFNlbGVjdChyLmRhdGEsIG4gPT4gdHlwZW9mIG4gPT0gJ29iamVjdCcgJiYgbiAhPSBudWxsLCBkZWVwLlJFVFVSTl9WQUxVRV9QQVRILCBtYXhEZXB0aCkpIGlmKG5vZGUgPT09IG5lZWRsZSkgcmV0dXJuIG5ldyBQb2ludGVyKHBhdGgpOwogICAgICB9LAogICAgfSk7CiAgfQoKICBPYmplY3QuYXNzaWduKGdsb2JhbFRoaXMsIHsKICAgIERlZXBTZWxlY3QsCiAgICBEZWVwR2V0LAogICAgRGVlcEZpbmQsCiAgICBEZWVwUGF0aE9mLAogICAgU0laRU9GX1BPSU5URVIsCiAgICBUeXBlLAogICAgUG9pbnRlclR5cGUsCiAgICBSZWZlcmVuY2VUeXBlLAogICAgRmllbGREZWNsLAogICAgTmFtZUZvciwKICAgIEFzdER1bXAsCiAgICBTb3VyY2VEZXBlbmRlbmNpZXMsCiAgICBOb2RlUHJpbnRlciwKICAgIE5vZGVUeXBlLAogICAgTm9kZU5hbWUsCiAgICBHZXRMb2MsCiAgICBSYXdMb2NhdGlvbiwKICAgIENvbXBsZXRlTG9jYXRpb24sCiAgICBSYXdSYW5nZSwKICAgIENvbXBsZXRlUmFuZ2UsCiAgICBHZXRUeXBlU3RyLAogICAgUHJpbnRSYW5nZSwKICAgIE92ZXJsYXBSYW5nZSwKICAgIFBhcmVudE5vZGUsCiAgICBOZXh0U2libGluZywKICAgIFByZXZpb3VzU2libGluZywKICAgIEZpcnN0Q2hpbGQsCiAgICBMYXN0Q2hpbGQsCiAgICBHZW5lcmF0ZUluc3BlY3RTdHJ1Y3QsCiAgICBHZW5lcmF0ZVN0cnVjdENsYXNzLAogICAgSW5zcGVjdFN0cnVjdCwKICAgIE1ha2VTdHJ1Y3RDbGFzcywKICAgIERpckl0ZXJhdG9yLAogICAgUmVjdXJzaXZlRGlySXRlcmF0b3IsCiAgICBJbmNsdWRlQWxsLAogICAgVGVybWluYWwsCiAgICBQcmludEFzdCwKICAgIENvbmNhdEl0ZXJhdG9yLAogICAgU3RyaW5nR2VuZXJhdG9yLAogICAgUmVhZEZpbGUsCiAgICBXcml0ZUZpbGUsCiAgICBNYWtlRkZJLAogICAgTWFrZVF1aWNrSlNDbGFzcywKICAgIFBhcnNlRUNNQVNjcmlwdCwKICAgIFByaW50RUNNQVNjcmlwdCwKICAgIFByb2Nlc3NGaWxlLAogICAgdG9BcnJheUJ1ZmZlciwKICAgIHRvU3RyaW5nLAogICAgQ29uc3RhbnRzLAogICAgUHJpbnRDQXJyYXksCiAgICBHZXRQYXJhbXMsCiAgICBMaXN0LAogICAgU2hlbGwsCiAgICBQYXJzZVN0cnVjdHMsCiAgfSk7CgogIFBvaW50ZXIucHJvdG90eXBlLmNoYWluID0gZnVuY3Rpb24oc3RlcCwgbGltaXQgPSBJbmZpbml0eSkgewogICAgbGV0IHB0ciA9IHRoaXMsCiAgICAgIHJldCA9IFtdLAogICAgICBsZW4gPSBwdHIubGVuZ3RoOwoKICAgIGZvcig7OykgewogICAgICBpZihyZXQubGVuZ3RoID49IGxpbWl0KSBicmVhazsKICAgICAgcmV0LnVuc2hpZnQocHRyKTsKCiAgICAgIGxlbiAtPSBzdGVwOwogICAgICBpZihsZW4gPD0gMCkgYnJlYWs7CiAgICAgIHB0ciA9IHB0ci5zbGljZSgwLCAtc3RlcCk7CiAgICB9CgogICAgcmV0dXJuIHJldDsKICB9OwoKICBPYmplY3QuYXNzaWduKGdsb2JhbFRoaXMsIHsKICAgIFBvaW50ZXIsCiAgICBUcmVlLAogICAgZGVlcCwKICAgIHBhdGgsCiAgICBDb21waWxlLAogICAgU2VsZWN0TG9jYXRpb25zLAogICAgTG9jYXRpb25TdHJpbmcsCiAgICBUYWJsZSwKICAgIFN0cnVjdHMsCiAgICBOb2RlLAogICAgVHlwZSwKICAgIFJlY29yZERlY2wsCiAgICBFbnVtRGVjbCwKICAgIFR5cGVkZWZEZWNsLAogICAgVmFyRGVjbCwKICAgIEZpbmRUeXBlLAogICAgSGllciwKICAgIFBhdGhPZiwKICAgIEZ1bmN0aW9uRGVjbCwKICAgIExvY2F0aW9uLAogICAgUmFuZ2UsCiAgICBUeXBlRmFjdG9yeSwKICAgIFNwYXduQ29tcGlsZXIsCiAgICBBc3REdW1wLAogICAgTm9kZVR5cGUsCiAgICBOb2RlTmFtZSwKICAgIEdldExvYywKICAgIEdldENsYXNzLAogICAgR2V0QmFzZXMsCiAgICBHZXRCeU5hbWUsCiAgICBHZXROYW1lc3BhY2UsCiAgICBOYW1lc3BhY2VPZiwKICAgIEdldFR5cGUsCiAgICBHZXRUeXBlU3RyLAogICAgR2V0VHlwZU5vZGUsCiAgICBHZXRGaWVsZHMsCiAgICBQYXRoUmVtb3ZlTG9jLAogICAgRkZJX0Z1bmN0aW9uLAogICAgbGliZGlycywKICAgIGxpYmRpcnMzMiwKICAgIGxpYmRpcnM2NCwKICAgIExpYnJhcnlFeHBvcnRzLAogICAgTWVtYmVyTmFtZXMsCiAgICBHZXRJbXBvcnRzLAogICAgR2V0SWRlbnRpZmllcnMsCiAgICBOYW1lc3BhY2VzLAogICAgVW5zZXRMb2MsCiAgfSk7CiAgLy9nbG9iYWxUaGlzLlV0aWwgPSBVdGlsOwogIGdsb2JhbFRoaXMuRiA9IGFyZyA9PiAkLmdldEZ1bmN0aW9uKGFyZyk7CiAgZ2xvYmFsVGhpcy5UID0gYXJnID0+ICQuZ2V0VHlwZShhcmcpOwoKICBsYXp5UHJvcGVydHkoZ2xvYmFsVGhpcywgJ1AnLCAoKSA9PiB7CiAgICBsZXQgcHJpbnRlciA9IE5vZGVQcmludGVyKCQuZGF0YSk7CgogICAgcmV0dXJuIG5vZGUgPT4gewogICAgICBpZignYXN0JyBpbiBub2RlKSBub2RlID0gbm9kZS5hc3Q7CiAgICAgIHByaW50ZXIuY2xlYXIoKTsKICAgICAgcmV0dXJuIHByaW50ZXIucHJpbnQobm9kZSk7CiAgICB9OwogIH0pOwoKICAvL2NvbnNvbGUubG9nKCdMb2FkaW5nIGhpc3RvcnknKTsKCiAgY29uc3QgdW5pdGhpc3QgPSBgLiR7YmFzZX0tdW5pdGhpc3RvcnlgOwogIGxldCBpdGVtcyA9IFtdLAogICAgaGlzdCA9IFJlYWRKU09OKHVuaXRoaXN0KSB8fCBbXTsKCiAgY29uc29sZS5sb2coJ0xvYWRpbmcgc291cmNlczonICsgc291cmNlcy5tYXAocyA9PiAnICcgKyBzKS5qb2luKCcsJykpOwoKICBnbG9iYWxUaGlzWydfJ10gPSBpdGVtczsKCiAgZm9yKGxldCBzb3VyY2Ugb2Ygc291cmNlcykgewogICAgbGV0IGl0ZW0gPSBhd2FpdCBQcm9jZXNzRmlsZShzb3VyY2UpOwoKICAgIGdsb2JhbFRoaXNbJyQnXSA9IGl0ZW07CgogICAgLyppZigvXC5qcyQvLnRlc3Qoc291cmNlKSkgaXRlbSA9IFBhcnNlRUNNQVNjcmlwdChzb3VyY2UpOwogICAgZWxzZSBpdGVtID0gYXdhaXQgQ29tcGlsZShzb3VyY2UpOyovCgogICAgaWYoaXRlbSkgewogICAgICBwdXNoVW5pcXVlKGhpc3QsIFsuLi5mbGFncywgc291cmNlXSk7CiAgICAgIGl0ZW1zLnB1c2goaXRlbSk7CiAgICB9CiAgfQoKICBXcml0ZUZpbGUodW5pdGhpc3QsIEpTT04uc3RyaW5naWZ5KGhpc3QsIG51bGwsIDIpKTsKCiAgLy8gZ2xvYmFsVGhpcy4kID0gaXRlbXMubGVuZ3RoID09IDEgPyBpdGVtc1swXSA6IGl0ZW1zOwogIGF3YWl0IENvbW1hbmRMaW5lKCk7Cn0KCmxldCBlcnJvcjsKCnRyeSB7CiAgY29uc3QgYXJndiA9IHNjcmlwdEFyZ3Muc2xpY2UoMSk7CiAgQVNUU2hlbGwoLi4uYXJndik7Cn0gY2F0Y2goZSkgewogIGVycm9yID0gZTsKfSBmaW5hbGx5IHsKICBpZihlcnJvcikgewogICAgY29uc29sZS5sb2coJ0ZBSUw6ICcgKyBlcnJvci5tZXNzYWdlLCAnXG4gICcgKyBuZXcgU3RhY2soZXJyb3Iuc3RhY2ssIGZyID0+IGZyLmZ1bmN0aW9uTmFtZSAhPSAnZXNmYWN0b3J5JykudG9TdHJpbmcoKS5yZXBsYWNlKC9cbi9nLCAnXG4gICcpKTsKICAgIGNvbnNvbGUubG9nKCdGQUlMJyk7CiAgICBzdGQuZXhpdCgxKTsKICB9Cn0KAAAAAAAAAAC7sgAAAAAAAAAAAAAAAAAAAAAAAFa2AAAAAAAAAAAAAAAAAAAAAAAAVrYAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAD0CAAAAAAAAPQIAAAAAAAAAAAAAAAAAAA"
				]
			]
		}
	],
	"build_system": "",
	"build_system_choices":
	[
	],
	"build_varint": "",
	"command_palette":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"out",
				"Browse Mode: Outline (Right)"
			],
			[
				"doxy",
				"DoxyDoxygen: Comment All"
			],
			[
				"",
				":$ - EOF"
			],
			[
				"install",
				"Package Control: Install Package"
			],
			[
				"format",
				"JsPrettier: Format Code"
			],
			[
				"prett",
				"JsPrettier: Format Code"
			],
			[
				"ou",
				"Browse Mode: Outline (Right)"
			],
			[
				"instga",
				"Package Control: Install Package"
			],
			[
				"prettier",
				"JsPrettier: Format Code"
			],
			[
				"json",
				"Pretty JSON: Minify JSON"
			],
			[
				"jspr",
				"JsPrettier: Format Code"
			],
			[
				"outline",
				"Browse Mode: Outline (Right)"
			],
			[
				"color",
				"Color Highlight: Reset"
			],
			[
				"scheme",
				"Color Scheme Editor: Edit current color scheme"
			],
			[
				"edit cu",
				"Color Scheme Editor: Edit current color scheme"
			],
			[
				"insta",
				"Package Control: Install Package"
			],
			[
				"install pac",
				"Package Control: Install Package"
			],
			[
				"list pack",
				"Package Control: List Packages"
			],
			[
				"edit ",
				"Color Scheme Editor: Edit current color scheme"
			],
			[
				"edit",
				"Color Scheme Editor: Edit current color scheme"
			],
			[
				"remove",
				"Package Control: Remove Package"
			],
			[
				"outli",
				"Browse Mode: Outline (Right)"
			],
			[
				"debugger",
				"Preferences: Debugger Settings"
			],
			[
				"add re",
				"Package Control: Add Repository"
			],
			[
				"outlin",
				"Browse Mode: Outline (Right)"
			],
			[
				"INSTALL",
				"Package Control: Install Package"
			],
			[
				"disable",
				"Package Control: Disable Package"
			],
			[
				"Package Control: disable",
				"Package Control: Disable Package"
			],
			[
				"Package Control: ",
				"Package Control: Disable Package"
			],
			[
				"adap",
				"Debugger: Install Adapters"
			],
			[
				"install ada",
				"Debugger: Install Adapters"
			],
			[
				"adapter",
				"Debugger: Install Adapters"
			],
			[
				"debug",
				"Debugger: Install Adapters"
			],
			[
				"Package Control: remove",
				"Package Control: Remove Package"
			],
			[
				"debu",
				"Debugger: Install Adapters"
			],
			[
				"instal",
				"Package Control: Install Package"
			]
		],
		"width": 0.0
	},
	"console":
	{
		"height": 289.0,
		"history":
		[
		]
	},
	"distraction_free":
	{
		"menu_visible": true,
		"show_minimap": false,
		"show_open_files": false,
		"show_tabs": false,
		"side_bar_visible": false,
		"status_bar_visible": false
	},
	"expanded_folders":
	[
		"/home/roman/Projects/plot-cv"
	],
	"file_history":
	[
		"/home/roman/Projects/plot-cv/clang-ast.js",
		"/home/roman/Projects/plot-cv/soundcloud-tracks.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/console.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/fs.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/util.js",
		"/home/roman/Projects/plot-cv/lib/deep.js",
		"/home/roman/Projects/plot-cv/os-helpers.js",
		"/home/janos/Projects/plot-cv/out.gz",
		"/home/roman/Projects/plot-cv/quickjs/qjs-lws/libwebsockets/include/libwebsockets/lws-context-vhost.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-lws/test.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-lws/lws-context.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/events.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/web-platform-tests-streams/shared-storage/resources/util.sub.js",
		"/home/roman/Projects/plot-cv/quickjs/quickjs.c",
		"/home/roman/Projects/plot-cv/quickjs/quickjs.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-misc.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-repeater.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/src/property-enumeration.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/src/buffer-utils.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/src/qjsm.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/io.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/repl.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/src/utils.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/src/js-utils.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/include/stream-utils.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/include/utils.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/include/queue.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-mysql.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-blob.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-stream.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-stream.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-inspect.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/include/async-closure.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/resolve-imports.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/misc.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/xpath.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/xml.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-textcode.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/src/ringbuffer.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/inotify.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/extendObject.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/include/ringbuffer.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/include/js-utils.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/streams.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-sockets.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/cmake/functions.cmake",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/CMakeLists.txt",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/include/defines.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/src/async-closure.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/include/buffer-utils.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-sockets.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/fsPromises.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-syscallerror.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-syscallerror.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/web-platform-tests-streams/editing/crashtests/make-editable-div-inline-and-set-contenteditable-of-input-to-false.html",
		"/home/roman/Projects/plot-cv/quickjs.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/process.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-magic.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/tests/test_repeater.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-child-process.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/src/virtual-properties.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/src/child-process.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-predicate.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-pointer.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-pgsql.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-path.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-mmap.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-location.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-lexer.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-list.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-internal.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-gpio.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/list-exports.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-serial.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-tree-walker.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-directory.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-deep.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/include/char-utils.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-bjson.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-blob.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-queue.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-xml.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/src/path.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-archive.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/include/vector.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/src/predicate.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/src/lexer.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/src/inet_pton.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/include/path.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/xml-shell.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/testharnessreport.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/web-platform-tests-streams/streams/readable-streams/async-iterator.any.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/tests/test_streams.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/tests/test_stream.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/testharness.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/src/strverscmp.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/src/queue.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/src/mmap-win32.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/src/memmem.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/src/location.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/src/inet_ntop.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/src/getdents.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/src/debug.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/src/clock_gettime.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/tests/test_sockets.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/tests/test_repl.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/tests/test_pgsql.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/tests/test_childprocess.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/inst/x86_64-linux-debug/usr/local/lib/quickjs/repl.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/inst/x86_64-linux-gnu/usr/local/lib/quickjs/repl.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/inst/x86_64-linux-llvm/usr/local/lib/quickjs/repl.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/inst/x86_64-linux-release/usr/local/lib/quickjs/repl.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/inst/x86_64-linux-clang/usr/local/lib/quickjs/repl.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/parser/ebnf.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/lexer/bnf.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/tests/test_inotify.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/tests/test_deep.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/tests/test_blob.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/tests/test_predicate.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/tests/test_treewalker.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/tests/test_pointer.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/tests/test_op_overloading.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/tests/test_xml.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/inst/x86_64-linux-profile/usr/local/bin/list-exports.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/inst/x86_64-linux-clang/usr/local/bin/resolve-imports.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/inst/x86_64-linux-clang/usr/local/bin/list-exports.js"
	],
	"find":
	{
		"height": 27.0
	},
	"find_in_files":
	{
		"height": 138.0,
		"where_history":
		[
			""
		]
	},
	"find_state":
	{
		"case_sensitive": true,
		"find_history":
		[
			"TYPE_BIG_INT",
			"fs\\.",
			"fs'",
			"Symbol.for",
			"Newer",
			"remove",
			"fs\\.",
			"Writing",
			"base =",
			"unithist",
			"'FunctionDecl",
			"No such",
			"'Type.cons",
			"GetClass",
			"getClass",
			"nameOrIdPred",
			"Deep(Find|Select)\\(",
			"Deep(Find|Select).*name ==",
			"DeepFind.*name ==",
			"DeepFind",
			"decl\\(",
			"\n        ",
			"EnumDecl",
			"class EnumDecl",
			"EnumDecl",
			"ions.get",
			"ions.set",
			"GetClass",
			"getClass",
			"'Type.cons",
			"completeDef",
			"MakeId",
			"cid =",
			"GetByName",
			"GetClass",
			"getClass",
			"GetByName",
			"GetBasese",
			"GetByName",
			"Object.assign",
			"mapFunction\\b",
			"function Get",
			"NameFor",
			"DeepPathOf",
			"deep.pathOf",
			"NamespaceOf",
			"function NamespaceOf",
			"node2path",
			"deep\\.",
			"deep\\.get",
			"deep\\..get",
			"deep\\.",
			"deep\\.get",
			"deep.get",
			"deep\\.",
			"deep\\.select",
			"deep\\.",
			"deep\\.pathOf",
			"deep.pathOf",
			"export const ([\\w]+) = (\\(?)(.*[^)])(\\)?) => {",
			"export const ([\\w]+) = (\\(?)(.*)(\\)?) => {",
			"export const ([\\w]+) = (\\(?)(.*)(\\)?) => {\n",
			"pathOf",
			"deep\\.",
			"deep\\.find",
			"\n      ",
			"deep\\.find",
			"DeepFind",
			"DeepFind.*RETURN_",
			"deep\\.find",
			"deep.find",
			"DeepFind",
			"deep.find",
			"DeepFind.*RETURN",
			"DeepFind",
			"deep\\.find",
			"\\= \\$\\.data",
			"class Type\\b",
			"RecordDecl",
			"new RecordDecl",
			"= \\$\\.data",
			"NamespaceOf",
			"new RecordDecl",
			"NameFor",
			"class RecordDecl",
			"NameFor",
			"RecordDecl",
			"NamespaceOf",
			"class FunctionDecl",
			"new FunctionDecl",
			"GetClass",
			"class Type\\b",
			"'Access'",
			"storageClass",
			"new Type\\b",
			"WeakMap",
			"'CXX",
			"class FieldDecl",
			"class PointerType",
			"FieldDecl",
			"'FieldDecl",
			"class FieldDecl",
			"new FieldDecl",
			"FieldDecl",
			"'Field",
			"class RecordDecl",
			"class ClassDecl",
			"TrimSubscripts",
			"'Type.cons",
			"'Type.cosn",
			"NamespaceOf",
			"fromString",
			"class FunctionDecl ",
			"type",
			"GetClass",
			"fromString",
			"PointerType",
			"function TypeFactory",
			"TypeFactory",
			"}*/\n",
			"class Type ",
			"returnType",
			"getPointer",
			"removePointer",
			"isPointer",
			"nameOrIdPred",
			"GetClass",
			"getClass"
		],
		"highlight": true,
		"in_selection": false,
		"preserve_case": false,
		"regex": true,
		"replace_history":
		[
			"DeepGet",
			"DeepPathOf",
			"export function \\1(\\3) {",
			"DeepFind",
			"= globalThis['\\$'].data",
			"= globalThis['$'].data",
			"namespaceOf"
		],
		"reverse": false,
		"scrollbar_highlights": true,
		"show_context": true,
		"use_buffer2": true,
		"use_gitignore": true,
		"whole_word": false,
		"wrap": true
	},
	"groups":
	[
		{
			"sheets":
			[
				{
					"buffer": 0,
					"selected": true,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 11594,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"current_file": "/home/roman/Projects/plot-cv/clang-ast.js",
							"function_name_status_row": 0,
							"outline_rename_mode": false,
							"symkeys":
							[
								[
									848,
									861
								],
								[
									940,
									996
								],
								[
									1451,
									1510
								],
								[
									1998,
									2037
								],
								[
									2043,
									2049
								],
								[
									2219,
									2251
								],
								[
									2353,
									2390
								],
								[
									2544,
									2571
								],
								[
									2653,
									2683
								],
								[
									2750,
									2758
								],
								[
									2797,
									2824
								],
								[
									2873,
									2900
								],
								[
									2977,
									2981
								],
								[
									3004,
									3037
								],
								[
									3217,
									3260
								],
								[
									3545,
									3553
								],
								[
									3945,
									3949
								],
								[
									3968,
									3988
								],
								[
									4139,
									4171
								],
								[
									4333,
									4351
								],
								[
									4612,
									4629
								],
								[
									4936,
									4947
								],
								[
									4967,
									4974
								],
								[
									5001,
									5010
								],
								[
									5130,
									5136
								],
								[
									5248,
									5256
								],
								[
									5371,
									5380
								],
								[
									5406,
									5415
								],
								[
									5446,
									5450
								],
								[
									5511,
									5515
								],
								[
									5591,
									5607
								],
								[
									5864,
									5879
								],
								[
									5946,
									5955
								],
								[
									6016,
									6024
								],
								[
									6073,
									6082
								],
								[
									6129,
									6139
								],
								[
									6204,
									6214
								],
								[
									6251,
									6261
								],
								[
									6349,
									6360
								],
								[
									6566,
									6570
								],
								[
									6751,
									6762
								],
								[
									6993,
									6997
								],
								[
									7049,
									7063
								],
								[
									7113,
									7163
								],
								[
									7233,
									7288
								],
								[
									7293,
									7327
								],
								[
									7506,
									7510
								],
								[
									7591,
									7606
								],
								[
									7694,
									7750
								],
								[
									7824,
									7834
								],
								[
									8038,
									8045
								],
								[
									8162,
									8173
								],
								[
									8210,
									8239
								],
								[
									8300,
									8331
								],
								[
									8533,
									8543
								],
								[
									8598,
									8611
								],
								[
									8648,
									8677
								],
								[
									8738,
									8769
								],
								[
									8973,
									8983
								],
								[
									9038,
									9042
								],
								[
									9140,
									9166
								],
								[
									12158,
									12162
								],
								[
									13177,
									13189
								],
								[
									13312,
									13320
								],
								[
									13406,
									13417
								],
								[
									13540,
									13553
								],
								[
									13676,
									13688
								],
								[
									13782,
									13791
								],
								[
									13843,
									13854
								],
								[
									13943,
									13952
								],
								[
									14072,
									14088
								],
								[
									14146,
									14162
								],
								[
									14210,
									14223
								],
								[
									14370,
									14385
								],
								[
									14532,
									14547
								],
								[
									14804,
									14818
								],
								[
									14904,
									14916
								],
								[
									14983,
									14995
								],
								[
									15101,
									15118
								],
								[
									15204,
									15215
								],
								[
									15275,
									15288
								],
								[
									15431,
									15439
								],
								[
									15547,
									15557
								],
								[
									15764,
									15773
								],
								[
									17579,
									17589
								],
								[
									19681,
									19687
								],
								[
									19979,
									19990
								],
								[
									20091,
									20141
								],
								[
									20246,
									20254
								],
								[
									20324,
									20332
								],
								[
									22141,
									22171
								],
								[
									22250,
									22260
								],
								[
									22278,
									22304
								],
								[
									22433,
									22441
								],
								[
									22524,
									22532
								],
								[
									22710,
									22715
								],
								[
									22753,
									22760
								],
								[
									22844,
									22858
								],
								[
									23451,
									23455
								],
								[
									23536,
									23541
								],
								[
									25095,
									25099
								],
								[
									26001,
									26015
								],
								[
									26079,
									26089
								],
								[
									26174,
									26196
								],
								[
									26418,
									26426
								],
								[
									26548,
									26567
								],
								[
									26665,
									26673
								],
								[
									26691,
									26713
								],
								[
									26834,
									26842
								],
								[
									26947,
									26973
								],
								[
									27328,
									27336
								],
								[
									27451,
									27462
								],
								[
									27480,
									27506
								],
								[
									27578,
									27582
								],
								[
									27687,
									27697
								],
								[
									27757,
									27761
								],
								[
									27824,
									27828
								],
								[
									27878,
									27882
								],
								[
									28292,
									28302
								],
								[
									28334,
									28342
								],
								[
									28439,
									28448
								],
								[
									28466,
									28488
								],
								[
									28706,
									28718
								],
								[
									28736,
									28762
								],
								[
									28997,
									29005
								],
								[
									29068,
									29076
								],
								[
									30201,
									30220
								],
								[
									30336,
									30346
								],
								[
									30401,
									30409
								],
								[
									30518,
									30525
								],
								[
									30543,
									30565
								],
								[
									30910,
									30918
								],
								[
									31015,
									31024
								],
								[
									31048,
									31070
								],
								[
									31175,
									31186
								],
								[
									31204,
									31226
								],
								[
									31603,
									31620
								],
								[
									31638,
									31660
								],
								[
									31916,
									31924
								],
								[
									32035,
									32040
								],
								[
									32088,
									32111
								],
								[
									32233,
									32244
								],
								[
									32293,
									32305
								],
								[
									32367,
									32376
								],
								[
									32423,
									32433
								],
								[
									32471,
									32507
								],
								[
									33162,
									33174
								],
								[
									33220,
									33229
								],
								[
									33276,
									33286
								],
								[
									33466,
									33471
								],
								[
									33527,
									33535
								],
								[
									33628,
									33651
								],
								[
									33910,
									33926
								],
								[
									34145,
									34161
								],
								[
									34402,
									34415
								],
								[
									34561,
									34571
								],
								[
									34619,
									34630
								],
								[
									34722,
									34734
								],
								[
									34784,
									34797
								],
								[
									34845,
									34857
								],
								[
									34907,
									34920
								],
								[
									35168,
									35181
								],
								[
									35216,
									35231
								],
								[
									35311,
									35366
								],
								[
									35916,
									35926
								],
								[
									36169,
									36189
								],
								[
									36272,
									36318
								],
								[
									37817,
									37882
								],
								[
									38211,
									38215
								],
								[
									38491,
									38495
								],
								[
									39224,
									39231
								],
								[
									39285,
									39292
								],
								[
									39380,
									39387
								],
								[
									39568,
									39603
								],
								[
									39642,
									39662
								],
								[
									39692,
									39698
								],
								[
									39719,
									39727
								],
								[
									39834,
									39867
								],
								[
									40132,
									40157
								],
								[
									40498,
									40540
								],
								[
									41072,
									41125
								],
								[
									42572,
									42578
								],
								[
									42628,
									42634
								],
								[
									42799,
									42805
								],
								[
									42947,
									42963
								],
								[
									43508,
									43515
								],
								[
									43558,
									43562
								],
								[
									43582,
									43589
								],
								[
									43710,
									43737
								],
								[
									43796,
									43811
								],
								[
									44142,
									44149
								],
								[
									44209,
									44223
								],
								[
									44268,
									44283
								],
								[
									44309,
									44313
								],
								[
									44345,
									44356
								],
								[
									44389,
									44401
								],
								[
									44435,
									44448
								],
								[
									44524,
									44529
								],
								[
									44609,
									44613
								],
								[
									44637,
									44649
								],
								[
									44712,
									44717
								],
								[
									44747,
									44751
								],
								[
									44775,
									44784
								],
								[
									44797,
									44813
								],
								[
									45155,
									45159
								],
								[
									45183,
									45194
								],
								[
									45253,
									45257
								],
								[
									45295,
									45299
								],
								[
									45331,
									45347
								],
								[
									45386,
									45390
								],
								[
									45408,
									45412
								],
								[
									45456,
									45508
								],
								[
									45696,
									45712
								],
								[
									46072,
									46093
								],
								[
									46119,
									46123
								],
								[
									46565,
									46570
								],
								[
									46605,
									46632
								],
								[
									46826,
									46854
								],
								[
									47035,
									47060
								],
								[
									47135,
									47167
								],
								[
									47298,
									47302
								],
								[
									47439,
									47468
								],
								[
									47578,
									47582
								],
								[
									47876,
									47898
								],
								[
									48937,
									48992
								],
								[
									49072,
									49079
								],
								[
									49150,
									49157
								],
								[
									49194,
									49220
								],
								[
									49314,
									49322
								],
								[
									49388,
									49396
								],
								[
									49458,
									49469
								],
								[
									49623,
									49632
								],
								[
									49651,
									49677
								],
								[
									49730,
									49739
								],
								[
									49792,
									49818
								],
								[
									49870,
									49889
								],
								[
									49965,
									49982
								],
								[
									50017,
									50041
								],
								[
									50300,
									50305
								],
								[
									50363,
									50370
								],
								[
									50452,
									50463
								],
								[
									51171,
									51181
								],
								[
									51229,
									51233
								],
								[
									51424,
									51435
								],
								[
									51446,
									51470
								],
								[
									51538,
									51570
								],
								[
									51726,
									51751
								],
								[
									51815,
									51851
								],
								[
									51921,
									51961
								],
								[
									52213,
									52241
								],
								[
									52288,
									52319
								],
								[
									52548,
									52590
								],
								[
									52793,
									52818
								],
								[
									52976,
									52997
								],
								[
									53042,
									53061
								],
								[
									53395,
									53422
								],
								[
									53490,
									53509
								],
								[
									53713,
									53748
								],
								[
									53866,
									53914
								],
								[
									54160,
									54187
								],
								[
									54805,
									54846
								],
								[
									55084,
									55111
								],
								[
									55254,
									55275
								],
								[
									55336,
									55363
								],
								[
									55408,
									55440
								],
								[
									55690,
									55716
								],
								[
									55910,
									55929
								],
								[
									56591,
									56616
								],
								[
									56664,
									56695
								],
								[
									56762,
									56777
								],
								[
									56972,
									56993
								],
								[
									57110,
									57146
								],
								[
									57366,
									57385
								],
								[
									57789,
									57810
								],
								[
									58027,
									58060
								],
								[
									58120,
									58143
								],
								[
									58206,
									58223
								],
								[
									58343,
									58347
								],
								[
									59174,
									59199
								],
								[
									59406,
									59433
								],
								[
									59898,
									59902
								],
								[
									60113,
									60129
								],
								[
									60340,
									60359
								],
								[
									60480,
									60485
								],
								[
									60823,
									60862
								],
								[
									60961,
									61004
								],
								[
									61214,
									61229
								],
								[
									61495,
									61531
								],
								[
									61627,
									61655
								],
								[
									61925,
									61969
								],
								[
									62031,
									62062
								],
								[
									62121,
									62142
								],
								[
									62201,
									62224
								],
								[
									62647,
									62673
								],
								[
									62741,
									62767
								],
								[
									62831,
									62850
								],
								[
									62892,
									62927
								],
								[
									63101,
									63143
								],
								[
									63328,
									63349
								],
								[
									63525,
									63555
								],
								[
									63775,
									63801
								],
								[
									64230,
									64249
								],
								[
									64310,
									64333
								],
								[
									64868,
									64895
								],
								[
									64945,
									64968
								],
								[
									65125,
									65161
								],
								[
									65231,
									65260
								],
								[
									65318,
									65341
								],
								[
									65519,
									65544
								],
								[
									65628,
									65670
								],
								[
									65769,
									65794
								],
								[
									66098,
									66153
								],
								[
									66407,
									66436
								],
								[
									66687,
									66731
								],
								[
									66863,
									66907
								],
								[
									66994,
									67022
								],
								[
									67166,
									67190
								],
								[
									67438,
									67482
								],
								[
									67804,
									67857
								],
								[
									67956,
									68001
								],
								[
									68076,
									68095
								],
								[
									68156,
									68177
								],
								[
									68354,
									68381
								],
								[
									68430,
									68460
								],
								[
									68472,
									68493
								],
								[
									68505,
									68537
								],
								[
									68679,
									68709
								],
								[
									68721,
									68762
								],
								[
									68774,
									68813
								],
								[
									68825,
									68848
								],
								[
									68860,
									68883
								],
								[
									68895,
									68914
								],
								[
									68926,
									68968
								],
								[
									68980,
									69005
								],
								[
									69017,
									69044
								],
								[
									69056,
									69094
								],
								[
									69106,
									69188
								],
								[
									69200,
									69267
								],
								[
									69279,
									69304
								],
								[
									69316,
									69358
								],
								[
									69543,
									69581
								],
								[
									69593,
									69650
								],
								[
									69662,
									69700
								],
								[
									69712,
									69737
								],
								[
									69749,
									69776
								],
								[
									69788,
									69826
								],
								[
									69838,
									69894
								],
								[
									69988,
									70039
								],
								[
									70051,
									70126
								],
								[
									70138,
									70169
								],
								[
									70181,
									70200
								],
								[
									70212,
									70248
								],
								[
									70344,
									70365
								],
								[
									70377,
									70407
								],
								[
									70419,
									70442
								],
								[
									70454,
									70497
								],
								[
									70509,
									70547
								],
								[
									70559,
									70603
								],
								[
									70615,
									70639
								],
								[
									70756,
									70786
								],
								[
									70798,
									70824
								],
								[
									70868,
									70915
								],
								[
									70927,
									70969
								],
								[
									70981,
									71019
								],
								[
									71031,
									71067
								],
								[
									71079,
									71126
								],
								[
									71138,
									71161
								],
								[
									71173,
									71207
								],
								[
									71415,
									71458
								],
								[
									71470,
									71522
								],
								[
									71626,
									71673
								],
								[
									71685,
									71713
								],
								[
									71725,
									71763
								],
								[
									71775,
									71816
								],
								[
									71828,
									71847
								],
								[
									71859,
									71888
								],
								[
									71900,
									71926
								],
								[
									71938,
									71966
								],
								[
									71978,
									72030
								],
								[
									72042,
									72070
								],
								[
									72082,
									72116
								],
								[
									72248,
									72269
								],
								[
									72281,
									72304
								],
								[
									72316,
									72354
								],
								[
									72366,
									72404
								],
								[
									72416,
									72437
								],
								[
									72449,
									72474
								],
								[
									72486,
									72511
								],
								[
									72523,
									72554
								],
								[
									72641,
									72660
								],
								[
									72672,
									72695
								],
								[
									72707,
									72748
								],
								[
									72760,
									72803
								],
								[
									72815,
									72842
								],
								[
									72854,
									72892
								],
								[
									72904,
									72937
								],
								[
									72949,
									72985
								],
								[
									72997,
									73016
								],
								[
									73082,
									73145
								],
								[
									73157,
									73213
								],
								[
									73225,
									73248
								],
								[
									73260,
									73295
								],
								[
									73307,
									73363
								],
								[
									73375,
									73428
								],
								[
									73440,
									73485
								],
								[
									73497,
									73542
								],
								[
									73554,
									73599
								],
								[
									73611,
									73641
								],
								[
									73653,
									73700
								],
								[
									73712,
									73737
								],
								[
									73749,
									73782
								],
								[
									73794,
									73824
								],
								[
									73836,
									73876
								],
								[
									73888,
									73941
								],
								[
									73953,
									73976
								],
								[
									73988,
									74009
								],
								[
									74021,
									74061
								],
								[
									74073,
									74107
								],
								[
									74119,
									74141
								],
								[
									74153,
									74187
								],
								[
									74199,
									74222
								],
								[
									74234,
									74276
								],
								[
									74288,
									74319
								],
								[
									74331,
									74357
								],
								[
									74370,
									74400
								],
								[
									74974,
									75014
								],
								[
									75236,
									75240
								],
								[
									76393,
									76433
								],
								[
									76816,
									76876
								],
								[
									77312,
									77338
								],
								[
									77446,
									77484
								],
								[
									77692,
									77696
								],
								[
									77995,
									78025
								],
								[
									78496,
									78500
								],
								[
									79164,
									79203
								],
								[
									79867,
									79924
								],
								[
									80245,
									80269
								],
								[
									80742,
									80772
								],
								[
									81036,
									81077
								],
								[
									81212,
									81251
								],
								[
									81263,
									81308
								],
								[
									81320,
									81348
								],
								[
									81360,
									81396
								],
								[
									81540,
									81578
								],
								[
									81590,
									81629
								],
								[
									81641,
									81682
								],
								[
									81694,
									81729
								],
								[
									81741,
									81788
								],
								[
									81800,
									81839
								],
								[
									81852,
									81886
								],
								[
									81898,
									81946
								],
								[
									81958,
									82001
								],
								[
									82013,
									82062
								],
								[
									82074,
									82124
								],
								[
									82136,
									82185
								],
								[
									82439,
									82463
								],
								[
									82520,
									82545
								],
								[
									82924,
									82953
								],
								[
									83146,
									83151
								],
								[
									83426,
									83447
								],
								[
									83514,
									83572
								],
								[
									83718,
									83722
								],
								[
									84326,
									84334
								],
								[
									84396,
									84404
								],
								[
									84524,
									84528
								],
								[
									84781,
									84839
								],
								[
									84941,
									84946
								],
								[
									85336,
									85343
								],
								[
									85532,
									85585
								],
								[
									85822,
									85898
								],
								[
									86060,
									86065
								],
								[
									86231,
									86311
								],
								[
									86438,
									86446
								],
								[
									86796,
									86851
								],
								[
									87185,
									87195
								],
								[
									87261,
									87286
								],
								[
									87324,
									87334
								],
								[
									87400,
									87415
								],
								[
									87493,
									87508
								],
								[
									87547,
									87551
								],
								[
									87631,
									87656
								],
								[
									87695,
									87703
								],
								[
									87745,
									87774
								],
								[
									87804,
									87808
								]
							],
							"symlist":
							[
								"(ast, r) =>",
								"DeepFind(ast, pred, flags = deep.RETURN_VALUE)",
								"DeepSelect(ast, pred, flags = deep.RETURN_VALUE)",
								"DeepCachePath(ast, path, m = ",
								"(ast))",
								"DeepPathOf(ast, value)",
								"DeepGet(ast, path, ...args)",
								"FileTime(filename)",
								"Newer(file, ...other)",
								"  other =>",
								"Older(file, other)",
								"GetSubscripts(str)",
								"  m =>",
								"TrimSubscripts(str, sub)",
								"  nameOrIdPred(name_or_id, ...args)",
								"node =>",
								"List",
								"  constructor(...args)",
								"  filter(callback, thisArg = null)",
								"  callback = elem =>",
								"  slice(start, end)",
								"  get first()",
								"  elem =>",
								"  entries()",
								"  keys()",
								"  values()",
								"  toArray()",
								"(a, n) =>",
								"List",
								"Node",
								"  constructor(ast)",
								"  static get(ast)",
								"  get ast()",
								"  get id()",
								"  get loc()",
								"  get file()",
								"(v, k) =>",
								"(v, k) =>",
								"  get range()",
								"  r =>",
								"  toJSON(obj)",
								"Node",
								"(node, ast) =>",
								"PathOf(node, ast = globalThis['$'].data)",
								"Hier(node_or_path, t = (p, ast, abort) => p.",
								"(ast), ast = globalThis['$'].data)",
								"  p =>",
								"  abortFn = () =>",
								"FindType(typeName, ast = globalThis['$'].data)",
								"([tok]) =>",
								"  node =>",
								"PointerType",
								"  constructor(pointee, ast, ns)",
								"  static fromString(str, ast, ns)",
								"  toString()",
								"ReferenceType",
								"  constructor(pointee, ast, ns)",
								"  static fromString(str, ast, ns)",
								"  toString()",
								"Type",
								"  constructor(node, ast, ns)",
								"  n =>",
								"  get regExp()",
								"  isEnum()",
								"  isPointer()",
								"  isReference()",
								"  isFunction()",
								"  isArray()",
								"  isInteger()",
								"  arrayOf()",
								"  get subscripts()",
								"  trimSubscripts()",
								"  get pointer()",
								"  get reference()",
								"  getPointer(ast)",
								"  get unsigned()",
								"  get signed()",
								"  isCompound()",
								"  isFloatingPoint()",
								"  get alias()",
								"  get aliases()",
								"  isEnum()",
								"  isString()",
								"  get ffi()",
								"  get size()",
								"  toJS()",
								"  toJSON(obj)",
								"  static get(name_or_id, ast = globalThis['$'].data)",
								"node =>",
								"node =>",
								"RoundTo(value, align)",
								"RecordDecl",
								"  constructor(node, ast, ns)",
								"  child =>",
								"  child =>",
								"() =>",
								"  node =>",
								"(acc, node) =>",
								"  i =>",
								"n =>",
								"  n =>",
								"([name, t]) =>",
								"  get size()",
								"(acc, [name, type]) =>",
								"  toJSON()",
								"([name, member]) =>",
								"EnumDecl",
								"  constructor(node, ast)",
								"  child =>",
								"({ name, type, inner }) =>",
								"  toJSON()",
								"TypedefDecl",
								"  constructor(node, ast, ns)",
								"  n =>",
								"(v, k) =>",
								"  n =>",
								"  n =>",
								"  n =>",
								"  get size()",
								"  toJSON()",
								"FieldDecl",
								"  constructor(node, ast)",
								"FunctionDecl",
								"  constructor(node, ast, ns)",
								"  child =>",
								"  child =>",
								"({ name, type }) =>",
								"  isMethod()",
								"  toJSON()",
								"VarDecl",
								"  constructor(node, ast)",
								"  toJSON()",
								"ClassDecl",
								"  constructor(node, ast)",
								"BuiltinType",
								"  constructor(node, ast)",
								"ConstantArrayType",
								"  constructor(node, ast)",
								"  toJSON()",
								"Range",
								"  constructor(begin, end)",
								"  get begin()",
								"  set begin(v)",
								"  get end()",
								"  set end(v)",
								"  toString(opts = { printFile: true })",
								"  get length()",
								"  toArray()",
								"  toObject()",
								"Range",
								"Location",
								"  static at(file, offset)",
								"  static from(loc)",
								"  constructor(loc)",
								"  update(other)",
								"  get line()",
								"  set line(v)",
								"  get column()",
								"  set column(v)",
								"  get offset()",
								"  set offset(v)",
								"(t, ...c) =>",
								"'\\x1b[m' : t =>",
								"  toString(opts = { printFile: true, onlyOffset: false })",
								"  toObject()",
								"  localeCompare(other)",
								"TypeFactory(node, ast, cache = true)",
								"SpawnCompiler(compiler, input, outfile, args = [])",
								"  p =>",
								"  p =>",
								"  line =>",
								"  line =>",
								"  line =>",
								"PipeReader(fd, callback)",
								"(resolve, reject) =>",
								"() =>",
								"data =>",
								"ReadPipe(fd, callback)",
								"ReadOutput(fd)",
								"SourceDependencies(...args)",
								"AstDump(compiler, source, args, force)",
								"  size()",
								"  json()",
								"  data()",
								"SetFile = loc =>",
								"  files()",
								"  n =>",
								"  file =>",
								"  pred2 = (used, implicit) =>",
								"node =>",
								"  types()",
								"n =>",
								"() =>",
								"List",
								"  functions()",
								"n =>",
								"() =>",
								"n =>",
								"List",
								"  namespaces()",
								"n =>",
								"List",
								"  classes()",
								"  predicate = n =>",
								"List",
								"  variables()",
								"  n =>",
								"List",
								"  names(depth = 1)",
								"  n =>",
								"  n =>",
								"NameFor(decl, ast = globalThis['$']?.data)",
								"(value, key) =>",
								"NodeType(n)",
								"  t =>",
								"n =>",
								"NodeName(n, name)",
								"RawLocation(path)",
								"RawRange(path)",
								"CompleteLocation(path)",
								"  l =>",
								"CompleteRange(path)",
								"  l =>",
								"GetLoc(node)",
								"GetTypeNode(node, ast = globalThis['$'].data)",
								"  node =>",
								"  node =>",
								"GetTypeStr(node)",
								"  inner =>",
								"  inner =>",
								"([n, t]) =>",
								"NodeError",
								"  constructor(message, node)",
								"NodeError",
								"NodePrinter(ast)",
								"  put(str)",
								"  trim()",
								"  printer = function(node)",
								"  get()",
								"  value()",
								"  value(node)",
								"  toString()",
								"  i =>",
								"NodePrinter",
								"AbiTagAttr(abi_tag_attr)",
								"AccessSpecDecl(access_spec_decl)",
								"AlignedAttr(aligned_attr)",
								"AlwaysInlineAttr(always_inline_attr)",
								"ArraySubscriptExpr(array_subscript_expr)",
								"AsmLabelAttr(asm_label_attr)",
								"BinaryOperator(binary_operator)",
								"BlockCommandComment(block_command_comment)",
								"BuiltinAttr(builtin_attr)",
								"BreakStmt(break_stmt)",
								"CallExpr(call_expr)",
								"RecoveryExpr(recovery_expr)",
								"CaseStmt(case_stmt)",
								"CharacterLiteral(character_literal)",
								"CompoundAssignOperator(compound_assign_operator)",
								"CompoundStmt(compound_stmt)",
								"ConditionalOperator(conditional_operator)",
								"ConstantExpr(constant_expr)",
								"ConstAttr(const_attr)",
								"ContinueStmt(continue_stmt)",
								"CStyleCastExpr(cstyle_cast_expr)",
								"DeclRefExpr(decl_ref_expr)",
								"DeclStmt(decl_stmt)",
								"DefaultStmt(default_stmt)",
								"DeprecatedAttr(deprecated_attr)",
								"DoStmt(do_stmt)",
								"EmptyDecl(empty_decl)",
								"EnumConstantDecl(enum_constant_decl)",
								"EnumDecl(enum_decl)",
								"FieldDecl(field_decl)",
								"FloatingLiteral(floating_literal)",
								"FormatAttr(format_attr)",
								"ForStmt(for_stmt)",
								"  n =>",
								"FullComment(full_comment)",
								"FunctionDecl(function_decl)",
								"  n =>",
								"n =>",
								"GotoStmt(goto_stmt)",
								"n =>",
								"HTMLEndTagComment(html_end_tag_comment)",
								"HTMLStartTagComment(html_start_tag_comment)",
								"IfStmt(if_stmt)",
								"ImplicitCastExpr(implicit_cast_expr)",
								"InitListExpr(init_list_expr)",
								"InlineCommandComment(inline_command_comment)",
								"IntegerLiteral(integer_literal)",
								"LabelStmt(label_stmt)",
								"MemberExpr(member_expr)",
								"NonNullAttr(non_null_attr)",
								"NoThrowAttr(no_throw_attr)",
								"NullStmt(null_stmt)",
								"ParagraphComment(paragraph_comment)",
								"ParamCommandComment(param_command_comment)",
								"ParenExpr(paren_expr)",
								"ParenListExpr(paren_list_expr)",
								"ParmVarDecl(parm_var_decl)",
								"PureAttr(pure_attr)",
								"RecordDecl(record_decl)",
								"RestrictAttr(restrict_attr)",
								"ReturnStmt(return_stmt)",
								"ReturnsTwiceAttr(returns_twice_attr)",
								"StringLiteral(string_literal)",
								"SwitchStmt(switch_stmt)",
								"TextComment(text_comment)",
								"TranslationUnitDecl(translation_unit_decl)",
								"TypedefDecl(typedef_decl)",
								"UnaryExprOrTypeTraitExpr(unary_expr_or_type_trait_expr)",
								"UnaryOperator(unary_operator)",
								"UnresolvedLookupExpr(unresolved_lookup_expr)",
								"UnresolvedMemberExpr(unresolved_member_expr)",
								"VarDecl(var_decl, base_type)",
								"([offset, subscript]) =>",
								"VerbatimBlockComment(verbatim_block_comment)",
								"VerbatimBlockLineComment(verbatim_block_line_comment)",
								"WarnUnusedResultAttr(warn_unused_result_attr)",
								"WeakAttr(weak_attr)",
								"WhileStmt(while_stmt)",
								"OverrideAttr(override_attr)",
								"AddrLabelExpr(addr_label_expr)",
								"AliasAttr(alias_attr)",
								"AlignValueAttr(align_value_attr)",
								"AllocSizeAttr(alloc_size_attr)",
								"ArrayInitIndexExpr(array_init_index_expr)",
								"ArrayInitLoopExpr(array_init_loop_expr)",
								"AtomicExpr(atomic_expr)",
								"AtomicType(atomic_type)",
								"AutoType(auto_type)",
								"BuiltinTemplateDecl(builtin_template_decl)",
								"BuiltinType(builtin_type)",
								"CallbackAttr(callback_attr)",
								"ClassTemplateDecl(class_template_decl)",
								"ClassTemplatePartialSpecializationDecl(class_template_partial_specialization_decl)",
								"ClassTemplateSpecializationDecl(class_template_specialization_decl)",
								"ComplexType(complex_type)",
								"CompoundLiteralExpr(compound_literal_expr)",
								"ConstantArrayType(constant_array_type)",
								"ConstructorUsingShadowDecl(constructor_using_shadow_decl)",
								"ConvertVectorExpr(convert_vector_expr)",
								"DecayedType(decayed_type)",
								"DecltypeType(decltype_type)",
								"DependentNameType(dependent_name_type)",
								"DependentScopeDeclRefExpr(dependent_scope_decl_ref_expr)",
								"DependentSizedArrayType(dependent_sized_array_type)",
								"DependentTemplateSpecializationType(dependent_template_specialization_type)",
								"ElaboratedType(elaborated_type)",
								"EnumType(enum_type)",
								"ExprWithCleanups(expr_with_cleanups)",
								"FinalAttr(final_attr)",
								"FormatArgAttr(format_arg_attr)",
								"FriendDecl(friend_decl)",
								"FunctionNoProtoType(function_no_proto_type)",
								"FunctionProtoType(function_proto_type)",
								"FunctionTemplateDecl(function_template_decl)",
								"GCCAsmStmt(gcc_asm_stmt)",
								"GNUInlineAttr(gnu_inline_attr)",
								"GNUNullExpr(gnu_null_expr)",
								"ImplicitValueInitExpr(implicit_value_init_expr)",
								"IncompleteArrayType(incomplete_array_type)",
								"IndirectFieldDecl(indirect_field_decl)",
								"IndirectGotoStmt(indirect_goto_stmt)",
								"InjectedClassNameType(injected_class_name_type)",
								"LambdaExpr(lambda_expr)",
								"LinkageSpecDecl(linkage_spec_decl)",
								"LValueReferenceType(l_value_reference_type)",
								"MaterializeTemporaryExpr(materialize_temporary_expr)",
								"MaxFieldAlignmentAttr(max_field_alignment_attr)",
								"MayAliasAttr(may_alias_attr)",
								"MemberPointerType(member_pointer_type)",
								"MinVectorWidthAttr(min_vector_width_attr)",
								"ModeAttr(mode_attr)",
								"NamespaceDecl(namespace_decl)",
								"NoDebugAttr(no_debug_attr)",
								"NoInlineAttr(no_inline_attr)",
								"NonTypeTemplateParmDecl(non_type_template_parm_decl)",
								"OffsetOfExpr(offset_of_expr)",
								"OpaqueValueExpr(opaque_value_expr)",
								"OwnerAttr(owner_attr)",
								"PackedAttr(packed_attr)",
								"PackExpansionExpr(pack_expansion_expr)",
								"PackExpansionType(pack_expansion_type)",
								"ParenType(paren_type)",
								"PointerAttr(pointer_attr)",
								"PointerType(pointer_type)",
								"PredefinedExpr(predefined_expr)",
								"QualType(qual_type)",
								"RecordType(record_type)",
								"ReturnsNonNullAttr(returns_non_null_attr)",
								"RValueReferenceType(r_value_reference_type)",
								"SentinelAttr(sentinel_attr)",
								"ShuffleVectorExpr(shuffle_vector_expr)",
								"SizeOfPackExpr(size_of_pack_expr)",
								"StaticAssertDecl(static_assert_decl)",
								"StmtExpr(stmt_expr)",
								"SubstNonTypeTemplateParmExpr(subst_non_type_template_parm_expr)",
								"SubstTemplateTypeParmType(subst_template_type_parm_type)",
								"TargetAttr(target_attr)",
								"TemplateArgument(template_argument)",
								"TemplateSpecializationType(template_specialization_type)",
								"TemplateTemplateParmDecl(template_template_parm_decl)",
								"TemplateTypeParmDecl(template_type_parm_decl)",
								"TemplateTypeParmType(template_type_parm_type)",
								"TParamCommandComment(t_param_command_comment)",
								"TypeAliasDecl(type_alias_decl)",
								"TypeAliasTemplateDecl(type_alias_template_decl)",
								"TypedefType(typedef_type)",
								"TypeOfExprType(type_of_expr_type)",
								"TypeTraitExpr(type_trait_expr)",
								"UnaryTransformType(unary_transform_type)",
								"UnresolvedUsingValueDecl(unresolved_using_value_decl)",
								"UnusedAttr(unused_attr)",
								"UsingDecl(using_decl)",
								"UsingDirectiveDecl(using_directive_decl)",
								"UsingShadowDecl(using_shadow_decl)",
								"VAArgExpr(va_arg_expr)",
								"VarTemplateDecl(var_template_decl)",
								"VectorType(vector_type)",
								"VerbatimLineComment(verbatim_line_comment)",
								"VisibilityAttr(visibility_attr)",
								"WeakRefAttr(weak_ref_attr)",
								"CXXRecordDecl(cxx_record_decl)",
								"CXXConstructorDecl(cxx_constructor_decl)",
								"  n =>",
								"CXXCtorInitializer(cxx_ctor_initializer)",
								"CXXDependentScopeMemberExpr(cxx_dependent_scope_member_expr)",
								"CXXThisExpr(cxx_this_expr)",
								"CXXDestructorDecl(cxx_destructor_decl)",
								"  n =>",
								"CXXMethodDecl(cxx_method_decl)",
								"  n =>",
								"CXXStaticCastExpr(cxx_static_cast_expr)",
								"CXXUnresolvedConstructExpr(cxx_unresolved_construct_expr)",
								"CXXNewExpr(cxx_new_expr)",
								"CXXDeleteExpr(cxx_delete_expr)",
								"CXXBoolLiteralExpr(cxx_bool_literal_expr)",
								"CXX11NoReturnAttr(cxx11_no_return_attr)",
								"CXXBindTemporaryExpr(cxx_bind_temporary_expr)",
								"CXXCatchStmt(cxx_catch_stmt)",
								"CXXConstructExpr(cxx_construct_expr)",
								"CXXConversionDecl(cxx_conversion_decl)",
								"CXXDefaultArgExpr(cxx_default_arg_expr)",
								"CXXDefaultInitExpr(cxx_default_init_expr)",
								"CXXForRangeStmt(cxx_for_range_stmt)",
								"CXXFunctionalCastExpr(cxx_functional_cast_expr)",
								"CXXMemberCallExpr(cxx_member_call_expr)",
								"CXXNoexceptExpr(cxx_noexcept_expr)",
								"CXXNullPtrLiteralExpr(cxx_null_ptr_literal_expr)",
								"CXXOperatorCallExpr(cxx_operator_call_expr)",
								"CXXReinterpretCastExpr(cxx_reinterpret_cast_expr)",
								"CXXScalarValueInitExpr(cxx_scalar_value_init_expr)",
								"CXXTemporaryObjectExpr(cxx_temporary_object_expr)",
								"CXXTryStmt(cxx_try_stmt)",
								"PrintNode(node)",
								"PrintAst(node, ast)",
								"  get()",
								"  isNode(obj)",
								"GetType(name_or_id, ast = globalThis['$']?.data)",
								"  n =>",
								"node =>",
								"node =>",
								"  r =>",
								"GetClass(name_or_id, ast = globalThis['$'].data)",
								"n =>",
								"  bases()",
								"GetBases(node, ast = globalThis['$'].data)",
								"GetByName(arg, ast = globalThis['$'].data, predicate = () => true)",
								"n =>",
								"GetNamespace(arg, root = globalThis['$'].data, predicate = () => true)",
								"n =>",
								"NamespaceOf(node, ast = globalThis['$'].data)",
								"  toString()",
								"GetFields(node)",
								"(v, k) =>",
								"([v, p]) =>",
								"([loc, ptr]) =>",
								"  i =>",
								"GetParams(node)",
								"  child =>",
								"PathRemoveLoc(path)",
								"  p =>"
							],
							"syntax": "Packages/Outline/outline.hidden-tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1746865245.44,
							"tabs_extra_last_activated_sheet_index": 0,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 2.0,
						"zoom_level": 1.0
					},
					"stack_index": 0,
					"stack_multiselect": false,
					"type": "text"
				}
			]
		},
		{
			"sheets":
			[
				{
					"buffer": 1,
					"file": "clang-list.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 8180,
						"regions":
						{
						},
						"selection":
						[
							[
								565,
								565
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 21,
							"syntax": "Packages/JavaScriptNext - ES6 Syntax/JavaScriptNext.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1746721946.11,
							"tabs_extra_last_activated_sheet_index": 0,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 2496.0,
						"zoom_level": 1.0
					},
					"stack_index": 1,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 2,
					"file": "clang-ast.js",
					"selected": true,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 87925,
						"regions":
						{
						},
						"selection":
						[
							[
								2797,
								2827
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 103,
							"syntax": "Packages/JavaScriptNext - ES6 Syntax/JavaScriptNext.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1746865241.49,
							"tabs_extra_last_activated_sheet_index": 1,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 1674.0,
						"zoom_level": 1.0
					},
					"stack_index": 0,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 3,
					"file": "ast-shell.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 46678,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 0,
							"syntax": "Packages/JavaScriptNext - ES6 Syntax/JavaScriptNext.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1746721943.9,
							"tabs_extra_last_activated_sheet_index": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 2,
					"stack_multiselect": false,
					"type": "text"
				}
			]
		}
	],
	"incremental_find":
	{
		"height": 27.0
	},
	"input":
	{
		"height": 42.0
	},
	"layout":
	{
		"cells":
		[
			[
				2,
				0,
				3,
				2
			],
			[
				0,
				0,
				2,
				2
			]
		],
		"cols":
		[
			0.0,
			0.2,
			0.764828128058,
			1.0
		],
		"rows":
		[
			0.0,
			0.5,
			1.0
		]
	},
	"menu_visible": true,
	"output.coffeecompile_output":
	{
		"height": 150.0
	},
	"output.find_results":
	{
		"height": 0.0
	},
	"pinned_build_system": "",
	"project": "plot-cv.sublime-project",
	"replace":
	{
		"height": 50.0
	},
	"save_all_on_build": false,
	"select_file":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"clang-as",
				"clang-ast.js"
			],
			[
				"util.js",
				"quickjs/qjs-modules/lib/util.js"
			],
			[
				"console.js",
				"quickjs/qjs-modules/lib/console.js"
			],
			[
				"fs.js",
				"quickjs/qjs-modules/lib/fs.js"
			],
			[
				"deep.js",
				"lib/deep.js"
			],
			[
				"lib/deep",
				"lib/deep.js"
			],
			[
				"ast-shel",
				"ast-shell.js"
			],
			[
				"os-help",
				"os-helpers.js"
			],
			[
				"clang-ast",
				"clang-ast.js"
			],
			[
				"",
				"clang-list.js"
			],
			[
				"ast-she",
				"ast-shell.js"
			],
			[
				"clang-",
				"clang-list.js"
			],
			[
				"sound",
				"soundcloud-tracks.js"
			],
			[
				"out",
				"out.gz"
			],
			[
				"lws-context-v",
				"libwebsockets/include/libwebsockets/lws-context-vhost.h"
			],
			[
				"buffer-ut",
				"src/buffer-utils.c"
			],
			[
				"repl",
				"lib/repl.js"
			],
			[
				"utils.c",
				"src/utils.c"
			],
			[
				"qjsm.c",
				"src/qjsm.c"
			],
			[
				"utils.h",
				"include/utils.h"
			],
			[
				"quickjs-inspec",
				"quickjs-inspect.c"
			],
			[
				"io.js",
				"lib/io.js"
			],
			[
				"repl.js",
				"lib/repl.js"
			],
			[
				"util.sj",
				"web-platform-tests-streams/shared-storage/resources/util.sub.js"
			],
			[
				"quickjs.c",
				"~/Projects/plot-cv/quickjs/quickjs.c"
			],
			[
				"quickjs.h",
				"~/Projects/plot-cv/quickjs/quickjs.h"
			],
			[
				"js-utils.c",
				"src/js-utils.c"
			],
			[
				"quickjs-strea",
				"quickjs-stream.h"
			],
			[
				"quickjs-st",
				"quickjs-stream.c"
			],
			[
				"quickjs-stream.h",
				"quickjs-stream.h"
			],
			[
				"quickjs-ins",
				"quickjs-inspect.c"
			],
			[
				"ringbuffer.c",
				"src/ringbuffer.c"
			],
			[
				"ringbuf",
				"include/ringbuffer.h"
			],
			[
				"ringbuffer.h",
				"include/ringbuffer.h"
			],
			[
				"textcode.c",
				"quickjs-textcode.c"
			],
			[
				"quickjs-text",
				"quickjs-textcode.c"
			],
			[
				"stream.c",
				"quickjs-stream.c"
			],
			[
				"quickjs-stre",
				"quickjs-stream.c"
			],
			[
				"textcode",
				"quickjs-textcode.c"
			],
			[
				"quickjs-misc",
				"quickjs-misc.c"
			],
			[
				"function",
				"cmake/functions.cmake"
			],
			[
				"CMakeLIsts",
				"CMakeLists.txt"
			],
			[
				"quickjs-mis",
				"quickjs-misc.c"
			],
			[
				"fsProm",
				"lib/fsPromises.js"
			],
			[
				"CMake",
				"CMakeLists.txt"
			],
			[
				"cmakeli",
				"CMakeLists.txt"
			],
			[
				"cmakelists",
				"CMakeLists.txt"
			],
			[
				"CMakeLists",
				"CMakeLists.txt"
			],
			[
				"cmakelsits",
				"web-platform-tests-streams/editing/crashtests/make-editable-div-inline-and-set-contenteditable-of-input-to-false.html"
			],
			[
				"cmakeLists",
				"CMakeLists.txt"
			],
			[
				"js-util",
				"src/js-utils.c"
			],
			[
				"js-ut",
				"include/js-utils.h"
			],
			[
				"buffer-",
				"include/buffer-utils.h"
			],
			[
				"js-utils",
				"include/js-utils.h"
			],
			[
				"quickjs-sys",
				"quickjs-syscallerror.c"
			],
			[
				"js-u",
				"include/js-utils.h"
			],
			[
				"quickjs-socket",
				"quickjs-sockets.c"
			],
			[
				"async-cl",
				"src/async-closure.c"
			],
			[
				"utilsc",
				"src/utils.c"
			],
			[
				"quickjs-sock",
				"quickjs-sockets.h"
			],
			[
				"child",
				"src/child-process.c"
			],
			[
				"quickjs-child",
				"quickjs-child-process.c"
			],
			[
				"cmake",
				"CMakeLists.txt"
			],
			[
				"process.js",
				"lib/process.js"
			],
			[
				"quickjs-repea",
				"quickjs-repeater.c"
			],
			[
				"quickjs-repe",
				"quickjs-repeater.c"
			],
			[
				"quickjs-repeater",
				"quickjs-repeater.c"
			],
			[
				"test_repe",
				"tests/test_repeater.js"
			],
			[
				"quickjs-mysq",
				"quickjs-mysql.c"
			],
			[
				"quickjs-ser",
				"quickjs-serial.c"
			],
			[
				"quickjs-stream",
				"quickjs-stream.h"
			],
			[
				"quickjs-lex",
				"quickjs-lexer.c"
			],
			[
				"quickjs-list",
				"quickjs-list.c"
			],
			[
				"quickjs-list.c",
				"quickjs-list.c"
			],
			[
				"testhar",
				"lib/testharness.js"
			],
			[
				"qjsm",
				"src/qjsm.c"
			],
			[
				"test_repea",
				"tests/test_repeater.js"
			],
			[
				"test_socket",
				"tests/test_sockets.js"
			],
			[
				"test_sock",
				"tests/test_sockets.js"
			],
			[
				"textcod",
				"quickjs-textcode.c"
			],
			[
				"test_text",
				"tests/test_textcode.js"
			],
			[
				"stack.js",
				"lib/stack.js"
			],
			[
				"ebnf",
				"lib/parser/ebnf.js"
			],
			[
				"arser.",
				"lib/parser.js"
			],
			[
				"bnf.",
				"lib/lexer/bnf.js"
			],
			[
				"quickjs-my",
				"quickjs-mysql.c"
			],
			[
				"quickjs-blob",
				"quickjs-blob.c"
			],
			[
				"quickjs-bl",
				"quickjs-blob.c"
			],
			[
				"queue.c",
				"src/queue.c"
			],
			[
				"queue.h",
				"include/queue.h"
			],
			[
				"mysql",
				"tests/test_mysql.js"
			],
			[
				"child-",
				"src/child-process.c"
			],
			[
				"quickjs-chil",
				"quickjs-child-process.c"
			],
			[
				"xpath",
				"lib/xpath.js"
			],
			[
				"xpath.js",
				"lib/xpath.js"
			],
			[
				"pointer",
				"lib/pointer.js"
			],
			[
				"predicate.c",
				"src/predicate.c"
			],
			[
				"quickjs-pre",
				"quickjs-predicate.c"
			],
			[
				"dom.js",
				"lib/dom.js"
			],
			[
				"misc.js",
				"lib/misc.js"
			],
			[
				"char-ut",
				"include/char-utils.h"
			],
			[
				"quickjs-in",
				"quickjs-inspect.c"
			],
			[
				"css3",
				"lib/css3-selectors.js"
			],
			[
				"inspect.c",
				"quickjs-inspect.c"
			],
			[
				"quickjs-lexe",
				"quickjs-lexer.c"
			],
			[
				"test_lexer",
				"tests/test_lexer.js"
			],
			[
				"resolve-im",
				"resolve-imports.js"
			],
			[
				"pointer.js",
				"lib/pointer.js"
			],
			[
				"extendArra",
				"lib/extendArray.js"
			],
			[
				"list-ex",
				"list-exports.js"
			],
			[
				"xml-shell",
				"xml-shell.js"
			],
			[
				"cmake/",
				"cmake/QuickJSModule.cmake"
			],
			[
				"quickjs-arc",
				"quickjs-archive.c"
			],
			[
				"cmakelist",
				"CMakeLists.txt"
			],
			[
				"vfs",
				"lib/vfs.js"
			],
			[
				"quickjs-que",
				"quickjs-queue.c"
			],
			[
				"archive.h",
				"libarchive/libarchive/archive.h"
			],
			[
				"sz",
				"/tmp/sz.js"
			],
			[
				"archive_en",
				"libarchive/libarchive/archive_entry.h"
			],
			[
				"quickjs-ar",
				"quickjs-archive.c"
			],
			[
				"archive_write_open_fil",
				"libarchive/libarchive/archive_write_open_filename.c"
			],
			[
				"vfs.j",
				"lib/vfs.js"
			],
			[
				"cutils",
				"~/Projects/plot-cv/quickjs/cutils.c"
			],
			[
				"quickjs-pat",
				"quickjs-path.c"
			],
			[
				"extendArray",
				"lib/extendArray.js"
			],
			[
				"quickjs-path",
				"quickjs-path.c"
			],
			[
				"console",
				"lib/console.js"
			],
			[
				"quickjs-ch",
				"quickjs-child-process.c"
			]
		],
		"width": 0.0
	},
	"select_project":
	{
		"height": 500.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"",
				"~/Projects/plot-cv/plot-cv.sublime-project"
			]
		],
		"width": 380.0
	},
	"select_symbol":
	{
		"height": 309.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"",
				"WS"
			]
		],
		"width": 1059.0
	},
	"selected_group": 0,
	"settings":
	{
	},
	"show_minimap": true,
	"show_open_files": false,
	"show_tabs": true,
	"side_bar_visible": true,
	"side_bar_width": 253.0,
	"status_bar_visible": true,
	"template_settings":
	{
	}
}
